(()=>{var __webpack_modules__={"./editor_plugin.src.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TinyMceIntegration: () => (/* binding */ TinyMceIntegration),\n/* harmony export */   currentInstance: () => (/* binding */ currentInstance),\n/* harmony export */   instances: () => (/* binding */ instances)\n/* harmony export */ });\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_integrationmodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/integrationmodel */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/integrationmodel.js\");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/configuration */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js\");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/parser */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/parser.js\");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/util */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js\");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_listeners__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/listeners */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./package.json */ \"./package.json\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n\n/**\r\n * TinyMCE integration class. This class extends IntegrationModel class.\r\n */\nvar TinyMceIntegration = /*#__PURE__*/function (_IntegrationModel) {\n  _inherits(TinyMceIntegration, _IntegrationModel);\n  function TinyMceIntegration(integrationModelProperties) {\n    var _this;\n    _classCallCheck(this, TinyMceIntegration);\n    _this = _callSuper(this, TinyMceIntegration, [integrationModelProperties]);\n    /**\r\n         * Indicates if the content of the TinyMCe editor has\r\n         * been parsed.\r\n         * @type {Boolean}\r\n         */\n    _this.initParsed = integrationModelProperties.initParsed;\n    /**\r\n         * Indicates if the TinyMCE is integrated in Moodle.\r\n         * @type {Boolean}\r\n         */\n    _this.isMoodle = integrationModelProperties.isMoodle;\n    /**\r\n         * Indicates if the plugin is loaded as an external plugin by TinyMCE.\r\n         * @type {Boolean}\r\n         */\n    _this.isExternal = integrationModelProperties.isExternal;\n    return _this;\n  }\n\n  /**\r\n     * Returns the absolute path of the integration script. Depends on\r\n     * TinyMCE integration (Moodle or standard).\r\n     * @returns {Boolean} - Absolute path for the integration script.\r\n     */\n  _createClass(TinyMceIntegration, [{\n    key: \"getPath\",\n    value: function getPath() {\n      if (this.isMoodle) {\n        // return '/lib/editor/tinymce/plugins/tiny_mce_wiris/tinymce/';\n        var search = 'lib/editor/tinymce';\n        var pos = tinymce.baseURL.indexOf(search);\n        var baseURL = tinymce.baseURL.substr(0, pos + search.length);\n        return \"\".concat(baseURL, \"/plugins/tiny_mce_wiris/tinymce/\");\n      }\n      if (this.isExternal) {\n        var externalUrl = this.editorObject.getParam('external_plugins').tiny_mce_wiris;\n        return externalUrl.substring(0, externalUrl.lastIndexOf('/') + 1);\n      }\n      return \"\".concat(tinymce.baseURL, \"/plugins/tiny_mce_wiris/\");\n    }\n\n    /**\r\n       * Returns the absolute path of plugin icons. A set of different\r\n       * icons is needed for TinyMCE and Moodle 2.5-\r\n       * @returns {String} - Absolute path of the icons folder.\r\n       */\n  }, {\n    key: \"getIconsPath\",\n    value: function getIconsPath() {\n      if (this.isMoodle && _wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('versionPlatform') < 2013111800) {\n        return \"\".concat(this.getPath(), \"icons/tinymce3/\");\n      }\n      return \"\".concat(this.getPath(), \"icons/\");\n    }\n\n    /**\r\n       * Returns the integration language. TinyMCE language is inherited.\r\n       * When no language is set, TinyMCE sets the toolbar to english.\r\n       * @returns {String} - Integration language.\r\n       */\n  }, {\n    key: \"getLanguage\",\n    value: function getLanguage() {\n      var editorSettings = this.editorObject.settings;\n      try {\n        return editorSettings.mathTypeParameters.editorParameters.language;\n      } catch (e) {\n        console.error();\n      }\n      // Get the deprecated wirisformulaeditorlang\n      if (editorSettings.wirisformulaeditorlang) {\n        console.warn('Deprecated property wirisformulaeditorlang. Use mathTypeParameters on instead.');\n        return editorSettings.wirisformulaeditorlang;\n      }\n      var langParam = this.editorObject.getParam('language');\n      return langParam || _get(_getPrototypeOf(TinyMceIntegration.prototype), \"getLanguage\", this).call(this);\n    }\n\n    /** @inheritdoc */\n  }, {\n    key: \"insertFormula\",\n    value: function insertFormula(focusElement, windowTarget, mathml, wirisProperties) {\n      // Due to insertFormula adds an image using pure JavaScript functions,\n      // it is needed notificate to the editorObject that placeholder status\n      // has to be updated.\n      var obj = _get(_getPrototypeOf(TinyMceIntegration.prototype), \"insertFormula\", this).call(this, focusElement, windowTarget, mathml, wirisProperties);\n\n      // Add formula to undo & redo\n      this.editorObject.undoManager.add(obj);\n\n      // Delete temporal image when inserting a formula\n      this.core.editionProperties.temporalImage = null;\n      return obj;\n    }\n  }, {\n    key: \"updateFormula\",\n    value:\n    /**\r\n       * Fires the event ExecCommand and transform a MathML into an image formula.\r\n       * @param {string} mathml - MathML to generate the formula and can be caught with the event.\r\n       */\n    function updateFormula(mathml) {\n      if (typeof this.editorObject.fire !== 'undefined') {\n        this.editorObject.fire('ExecCommand', {\n          command: 'updateFormula',\n          value: mathml\n        });\n      }\n      _get(_getPrototypeOf(TinyMceIntegration.prototype), \"updateFormula\", this).call(this, mathml);\n    }\n  }, {\n    key: \"callbackFunction\",\n    value:\n    /**\r\n       * Callback function called before 'onTargetLoad' is fired. All the logic here is to\r\n       * avoid TinyMCE change MathType formulas.\r\n       */\n    function callbackFunction() {\n      var _this2 = this;\n      var dataImgFiltered = [];\n      _get(_getPrototypeOf(TinyMceIntegration.prototype), \"callbackFunction\", this).call(this);\n\n      // Avoid to change class of image formulas.\n      var imageClassName = _wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('imageClassName');\n      if (this.isIframe) {\n        // Attaching observers to wiris images.\n        if (typeof _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].observer !== 'undefined') {\n          Array.prototype.forEach.call(this.target.contentDocument.getElementsByClassName(imageClassName), function (wirisImages) {\n            _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].observer.observe(wirisImages);\n          });\n        }\n      } else {\n        // Inline.\n        // Attaching observers to wiris images.\n        Array.prototype.forEach.call(document.getElementsByClassName(imageClassName), function (wirisImages) {\n          _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].observer.observe(wirisImages);\n        });\n      }\n\n      // When a formula is updated TinyMCE 'Change' event must be fired.\n      // See https://www.tiny.cloud/docs/advanced/events/#change for further information.\n      var listener = _wiris_mathtype_html_integration_devkit_src_listeners__WEBPACK_IMPORTED_MODULE_4__[\"default\"].newListener('onAfterFormulaInsertion', function () {\n        if (typeof _this2.editorObject.fire !== 'undefined') {\n          _this2.editorObject.fire('Change');\n        }\n      });\n      this.getCore().addListener(listener);\n\n      // Avoid filter formulas with performance enabled.\n      dataImgFiltered[this.editorObject.id] = this.editorObject.settings.images_dataimg_filter;\n      this.editorObject.settings.images_dataimg_filter = function (img) {\n        if (img.hasAttribute('class') && img.getAttribute('class').indexOf(_wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('imageClassName')) !== -1) {\n          return img.hasAttribute('internal-blob');\n        }\n        // If the client put an image data filter, run. Otherwise default behaviour (put blob).\n        if (typeof dataImgFiltered[_this2.editorObject.id] !== 'undefined') {\n          return dataImgFiltered[_this2.editorObject.id](img);\n        }\n        return true;\n      };\n    }\n  }]);\n  return TinyMceIntegration;\n}(_wiris_mathtype_html_integration_devkit_src_integrationmodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/**\r\n * Object containing all TinyMCE integration instances. One for each TinyMCE editor.\r\n * @type {Object}\r\n */\nvar instances = {};\n/**\r\n * TinyMCE integration current instance. The current instance\r\n * is the instance related with the focused editor.\r\n * @type {TinyMceIntegration}\r\n */\nvar currentInstance = null;\n\n/* Plugin integration */\n(function () {\n  tinymce.create('tinymce.plugins.tiny_mce_wiris', {\n    init: function init(editor) {\n      // Array with MathML valid alements.\n      var validMathML = ['math[*]', 'maction[*]]', 'malignmark[*]', 'maligngroup[*]', 'menclose[*]', 'merror[*]', 'mfenced[*]', 'mfrac[*]', 'mglyph[*]', 'mi[*]', 'mlabeledtr[*]', 'mlongdiv[*]', 'mmultiscripts[*]', 'mn[*]', 'mo[*]', 'mover[*]', 'mpadded[*]', 'mphantom[*]', 'mprescripts[*]', 'none[*]', 'mroot[*]', 'mrow[*]', 'ms[*]', 'mscarries[*]', 'mscarry[*]', 'msgroup[*]', 'msline[*]', 'mspace[*]', 'msqrt[*]', 'msrow[*]', 'mstack[*]', 'mstyle[*]', 'msub[*]', 'msubsup[*]', 'msup[*]', 'mtable[*]', 'mtd[*]', 'mtext[*]', 'mtr[*]', 'munder[*]', 'munderover[*]', 'semantics[*]', 'annotation[*]'];\n      editor.settings.extended_valid_elements += \",\".concat(validMathML.join()); // eslint-disable-line no-param-reassign\n\n      var callbackMethodArguments = {};\n\n      /**\r\n             * Integration model properties\r\n             * @type {Object}\r\n             * @property {Object} target - Integration DOM target.\r\n             * @property {String} configurationService - Configuration integration service.\r\n             * @property {String} version - Plugin version.\r\n             * @property {String} scriptName - Integration script name.\r\n             * @property {Object} environment - Integration environment properties.\r\n             * @property {String} editor - Editor name.\r\n             */\n      var integrationModelProperties = {};\n      integrationModelProperties.serviceProviderProperties = {\n        URI: \"https://www.wiris.net/demo/plugins/app\",\n        server: \"java\"\n      };\n      integrationModelProperties.version = _package_json__WEBPACK_IMPORTED_MODULE_5__.version;\n      integrationModelProperties.isMoodle = !!((typeof M === \"undefined\" ? \"undefined\" : _typeof(M)) === 'object' && M !== null); // eslint-disable-line no-undef\n      if (integrationModelProperties.isMoodle) {\n        // eslint-disable-next-line no-undef\n        integrationModelProperties.configurationService = M.cfg.wwwroot + '/filter/wiris/integration/configurationjs.php'; // eslint-disable-line prefer-template\n      }\n      if (typeof editor.getParam('wiriscontextpath') !== 'undefined') {\n        integrationModelProperties.configurationService = _wiris_mathtype_html_integration_devkit_src_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].concatenateUrl(editor.getParam('wiriscontextpath'), integrationModelProperties.configurationService);\n        \"\".concat(editor.getParam('wiriscontextpath'), \"/\").concat(integrationModelProperties.configurationService); // eslint-disable-line no-unused-expressions\n        console.warn('Deprecated property wiriscontextpath. Use mathTypeParameters on instead.', editor.opts.wiriscontextpath);\n      }\n\n      // Overriding MathType integration parameters.\n      if (typeof editor.getParam('mathTypeParameters') !== 'undefined') {\n        integrationModelProperties.integrationParameters = editor.getParam('mathTypeParameters');\n      }\n      integrationModelProperties.scriptName = 'plugin.min.js';\n      integrationModelProperties.environment = {};\n      var editorVersion = '4';\n      if (tinymce.majorVersion === '5') {\n        editorVersion = '5';\n      }\n      integrationModelProperties.environment.editor = \"TinyMCE \".concat(editorVersion, \".x\");\n      integrationModelProperties.environment.editorVersion = \"\".concat(tinymce.majorVersion, \".\").concat(tinymce.minorVersion);\n      integrationModelProperties.callbackMethodArguments = callbackMethodArguments;\n      integrationModelProperties.editorObject = editor;\n      integrationModelProperties.initParsed = false;\n      // We need to create the instance before TinyMce initialization in order to register commands.\n      // However, as TinyMCE is not initialized at this point the HTML target is not created.\n      // Here we create the target as null and onInit object the target is updated.\n      integrationModelProperties.target = null;\n      var isExternalPlugin = typeof editor.getParam('external_plugins') !== 'undefined' && 'tiny_mce_wiris' in editor.getParam('external_plugins');\n      integrationModelProperties.isExternal = isExternalPlugin;\n      integrationModelProperties.rtl = editor.getParam('directionality') === 'rtl';\n\n      // GenericIntegration instance.\n      var tinyMceIntegrationInstance = new TinyMceIntegration(integrationModelProperties);\n      tinyMceIntegrationInstance.init();\n      WirisPlugin.instances[tinyMceIntegrationInstance.editorObject.id] = tinyMceIntegrationInstance;\n      WirisPlugin.currentInstance = tinyMceIntegrationInstance;\n      var onInit = function onInit(editor) {\n        // eslint-disable-line no-shadow\n        var integrationInstance = WirisPlugin.instances[tinyMceIntegrationInstance.editorObject.id];\n        if (!editor.inline) {\n          integrationInstance.setTarget(editor.getContentAreaContainer().firstChild);\n        } else {\n          integrationInstance.setTarget(editor.getElement());\n        }\n        integrationInstance.setEditorObject(editor);\n        integrationInstance.listeners.fire('onTargetReady', {});\n        if ('wiriseditorparameters' in editor.settings) {\n          _wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update('editorParameters', editor.settings.wiriseditorparameters);\n        }\n\n        // Prevent TinyMCE attributes insertion.\n        // TinyMCE insert attributes only when a new node is inserted.\n        // For this reason, the mutation observer only acts on addedNodes.\n        var mutationInstance = new MutationObserver(function (editor, mutations) {\n          // eslint-disable-line no-shadow\n          Array.prototype.forEach.call(mutations, function (editor, mutation) {\n            // eslint-disable-line no-shadow\n            Array.prototype.forEach.call(mutation.addedNodes, function (editor, node) {\n              // eslint-disable-line no-shadow\n              if (node.nodeType === 1) {\n                // Act only in our own formulas.\n                Array.prototype.forEach.call(node.querySelectorAll(\".\".concat(WirisPlugin.Configuration.get('imageClassName'))), function (editor, image) {\n                  // eslint-disable-line no-shadow\n                  // This only is executed due to init parse.\n                  image.removeAttribute('data-mce-src');\n                  image.removeAttribute('data-mce-style');\n                }.bind(this, editor));\n              }\n            }.bind(this, editor));\n          }.bind(this, editor));\n        }.bind(this, editor));\n        mutationInstance.observe(editor.getBody(), {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n        var content = editor.getContent();\n        // We set content in html because other tiny plugins need data-mce\n        // and this is not possible with raw format.\n        editor.setContent(_wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].initParse(content, editor.getParam('language')), {\n          format: 'html'\n        });\n        // This clean undoQueue for prevent onChange and Dirty state.\n        editor.undoManager.clear();\n        // Init parsing OK. If a setContent method is called\n        // wrs_initParse is called again.\n        // Now if source code is edited the returned code is parsed.\n        // PLUGINS-1070: We set this variable out of condition to parse content after.\n        WirisPlugin.instances[editor.id].initParsed = true;\n      };\n      if ('onInit' in editor) {\n        editor.onInit.add(onInit);\n      } else {\n        editor.on('init', function () {\n          onInit(editor);\n        });\n      }\n      if ('onActivate' in editor) {\n        editor.onActivate.add(function (editor) {\n          // eslint-disable-line no-unused-vars, no-shadow\n          WirisPlugin.currentInstance = WirisPlugin.instances[tinymce.activeEditor.id];\n        });\n      } else {\n        editor.on('focus', function (event) {\n          // eslint-disable-line no-unused-vars, no-shadow\n          WirisPlugin.currentInstance = WirisPlugin.instances[tinymce.activeEditor.id];\n        });\n      }\n      var onSave = function onSave(editor, params) {\n        // eslint-disable-line no-shadow\n        params.content = _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].endParse(params.content, editor.getParam('language'));\n      };\n      if ('onSaveContent' in editor) {\n        editor.onSaveContent.add(onSave);\n      } else {\n        editor.on('saveContent', function (params) {\n          onSave(editor, params);\n        });\n      }\n      if ('onGetContent' in editor) {\n        editor.onGetContent.add(onSave);\n      } else {\n        editor.on('getContent', function (params) {\n          onSave(editor, params);\n        });\n      }\n      if ('onBeforeSetContent' in editor) {\n        editor.onBeforeSetContent.add(function (e, params) {\n          if (WirisPlugin.instances[editor.id].initParsed) {\n            params.content = _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].initParse(params.content, editor.getParam('language'));\n          }\n        });\n      } else {\n        editor.on('beforeSetContent', function (params) {\n          if (WirisPlugin.instances[editor.id].initParsed) {\n            params.content = _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].initParse(params.content, editor.getParam('language'));\n          }\n        });\n      }\n      function openFormulaEditorFunction() {\n        var tinyMceIntegrationInstance = WirisPlugin.instances[editor.id]; // eslint-disable-line no-shadow\n        // Disable previous custom editors.\n        tinyMceIntegrationInstance.core.getCustomEditors().disable();\n        tinyMceIntegrationInstance.openNewFormulaEditor();\n      }\n      var commonEditor;\n      var mathTypeIcon = 'mathtypeicon';\n      var chemTypeIcon = 'chemtypeicon';\n      var mathTypeIconSvg = '<svg width=\"16\" height=\"16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"viewBox=\"0 0 300 261.7\" style=\"enable-background:new 0 0 300 261.7;\" xml:space=\"preserve\"><g id=icon-wirisformula stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\"><g><path class=\"st1\" d=\"M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5l27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6C91.6,257.7,90.9,257.7,90.2,257.7\"/></g></g><g><g><path class=\"st2\" d=\"M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0c-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8\"/></g></g></svg>'; // eslint-disable-line max-len\n      var chemTypeIconSvg = '<svg width=\"16\" height=\"16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" enable-background=\"new 0 0 16 16\" xml:space=\"preserve\">  <image id=\"image0\" width=\"16\" height=\"16\" x=\"0\" y=\"0\"href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfiChwSIwERK9BGAAABfklEQVQoz12RvUtbcRiFn/uRXKNJNCJSokFFqoKDIjHEqKA4WRAc/AsUKl2Ck5ODIKKDm4v+BbqIEr8WQ+hgQSgOElGJgkPTih+3tUabeL3353A1CX3Hcx7OC+dIAIL3CwXEmJU6XBHWuyIVgIjrOcoUblCTrolE/D+gc0QsUJePEtrGh+jajzcg1GQu0W87ldl7zZQAtPP9Dh5lADNm25rx+Xb7ZdWMCAARyHXhVQD8iwAD+qLV61B++U4Hb5pKS9Tx3w05Umr+K3Mlsk6SfY7x9oX7OvDiwlEEoLPLNkdc4yRJG9WkuCoCxBV7JMhg8cgRl7h44m9xwhM3PLyVYnBni3LBX64p4MHGYLSzOV9UWDd8AO608iW+2eP5NyVN4JR/7rRU2T0MzVRmATI197FIInsmTeIErcwTxqcAxHPDFdLHE4cJmPV4AAKZ+XStyrkCMC00K8Qnj+6+kAFKjfE/sw6/zAXf7bFUqmill+5v7es+vzVqlhukOWCLr6/ZMH/PRaOKYwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMC0yOVQwMTozNTowMS0wNzowMOC+eEAAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTAtMjlUMDE6MzU6MDEtMDc6MDCR48D8AAAAAElFTkSuQmCC\" /></svg>'; // eslint-disable-line max-len\n\n      if (tinymce.majorVersion === '5') {\n        commonEditor = editor.ui.registry;\n        commonEditor.addIcon(mathTypeIcon, mathTypeIconSvg);\n        commonEditor.addIcon(chemTypeIcon, chemTypeIconSvg);\n\n        // Check if MathType editor is enabled\n        if (_wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('editorEnabled')) {\n          // The next two blocks create menu items to give the possibility\n          // of add MathType in the menubar.\n          commonEditor.addMenuItem('tiny_mce_wiris_formulaEditor', {\n            text: 'MathType',\n            icon: mathTypeIcon,\n            onAction: openFormulaEditorFunction\n          });\n        }\n\n        // Dynamic customEditors buttons.\n        var _customEditors = WirisPlugin.instances[editor.id].getCore().getCustomEditors();\n        Object.keys(_customEditors.editors).forEach(function (customEditor) {\n          // Check if CustomEditor editor is enabled\n          if (_wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(_customEditors.editors[customEditor].confVariable)) {\n            commonEditor.addMenuItem(\"tiny_mce_wiris_formulaEditor\".concat(_customEditors.editors[customEditor].name), {\n              text: _customEditors.editors[customEditor].title,\n              icon: chemTypeIcon,\n              // Parametrize when other custom editors are added.\n              onAction: function onAction() {\n                _customEditors.enable(customEditor);\n                WirisPlugin.instances[editor.id].openNewFormulaEditor();\n              }\n            });\n          }\n        });\n      } else {\n        commonEditor = editor;\n        commonEditor.addCommand('tiny_mce_wiris_openFormulaEditor', openFormulaEditorFunction);\n      }\n\n      // Check if MathType editor is enabled\n      if (_wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('editorEnabled')) {\n        // MathType button.\n        // Cmd Parameter is needed in TinyMCE4 and onAction parameter is needed in TinyMCE5.\n        // For more details see TinyMCE migration page: https://www.tiny.cloud/docs-preview/migration-from-4.x/\n        commonEditor.addButton('tiny_mce_wiris_formulaEditor', {\n          tooltip: 'Insert a math equation - MathType',\n          // TinyMCE3\n          title: 'Insert a math equation - MathType',\n          cmd: 'tiny_mce_wiris_openFormulaEditor',\n          image: \"\".concat(WirisPlugin.instances[editor.id].getIconsPath(), \"formula.png\"),\n          onAction: openFormulaEditorFunction,\n          icon: mathTypeIcon\n        });\n      }\n\n      // Dynamic customEditors buttons.\n      var customEditors = WirisPlugin.instances[editor.id].getCore().getCustomEditors();\n      var _loop = function _loop(customEditor) {\n        // Check if CustomEditor editor is enabled\n        if (_wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(customEditors.editors[customEditor].confVariable)) {\n          // eslint-disable-next-line no-inner-declarations, no-loop-func\n          var commandFunction = function commandFunction() {\n            customEditors.enable(customEditor);\n            // eslint-disable-next-line no-undef\n            WirisPlugin.instances[editor.id].openNewFormulaEditor();\n          };\n          var cmd = \"tiny_mce_wiris_openFormulaEditor\".concat(customEditors.editors[customEditor].name);\n          editor.addCommand(cmd, commandFunction);\n          // Cmd Parameter is needed in TinyMCE4 and onAction parameter is needed in TinyMCE5.\n          // For more details see TinyMCE migration page: https://www.tiny.cloud/docs-preview/migration-from-4.x/\n          commonEditor.addButton(\"tiny_mce_wiris_formulaEditor\".concat(customEditors.editors[customEditor].name), {\n            title: customEditors.editors[customEditor].tooltip,\n            // TinyMCE3\n            tooltip: customEditors.editors[customEditor].tooltip,\n            onAction: commandFunction,\n            cmd: cmd,\n            image: WirisPlugin.instances[editor.id].getIconsPath() + customEditors.editors[customEditor].icon,\n            icon: chemTypeIcon // At the moment only chemTypeIcon because of the provisional solution for TinyMCE5.\n          });\n        }\n      };\n      for (var customEditor in customEditors.editors) {\n        _loop(customEditor);\n      }\n    },\n    // All versions.\n    getInfo: function getInfo() {\n      return {\n        longname: 'tiny_mce_wiris',\n        author: 'Maths for More',\n        authorurl: 'http://www.wiris.com/?utm_source=npmjs&utm_medium=referral',\n        infourl: 'http://www.wiris.com/?utm_source=npmjs&utm_medium=referral',\n        version: _package_json__WEBPACK_IMPORTED_MODULE_5__.version\n      };\n    }\n  });\n  tinymce.PluginManager.add('tiny_mce_wiris', tinymce.plugins.tiny_mce_wiris);\n})();\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./editor_plugin.src.js?")},"./global.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_core_src__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/core.src */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/core.src.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/parser */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/parser.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/util */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/image */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/image.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/configuration */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_listeners__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/listeners */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_integrationmodel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/integrationmodel */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/integrationmodel.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_latex__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/latex */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/latex.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_backwardslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/backwardslib */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/backwardslib.js");\n/* harmony import */ var _wiris_mathtype_html_integration_devkit_src_test__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wiris/mathtype-html-integration-devkit/src/test */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/test.js");\n/* harmony import */ var _editor_plugin_src__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./editor_plugin.src */ "./editor_plugin.src.js");\n\n\n\n\n\n\n\n\n\n\n\n\n// Expose WirisPlugin variable to the window.\nwindow.WirisPlugin = {\n  Core: _wiris_mathtype_html_integration_devkit_src_core_src__WEBPACK_IMPORTED_MODULE_0__["default"],\n  Parser: _wiris_mathtype_html_integration_devkit_src_parser__WEBPACK_IMPORTED_MODULE_1__["default"],\n  Image: _wiris_mathtype_html_integration_devkit_src_image__WEBPACK_IMPORTED_MODULE_3__["default"],\n  Util: _wiris_mathtype_html_integration_devkit_src_util__WEBPACK_IMPORTED_MODULE_2__["default"],\n  Configuration: _wiris_mathtype_html_integration_devkit_src_configuration__WEBPACK_IMPORTED_MODULE_4__["default"],\n  Listeners: _wiris_mathtype_html_integration_devkit_src_listeners__WEBPACK_IMPORTED_MODULE_5__["default"],\n  IntegrationModel: _wiris_mathtype_html_integration_devkit_src_integrationmodel__WEBPACK_IMPORTED_MODULE_6__["default"],\n  currentInstance: _editor_plugin_src__WEBPACK_IMPORTED_MODULE_10__.currentInstance,\n  instances: _editor_plugin_src__WEBPACK_IMPORTED_MODULE_10__.instances,\n  TinyMceIntegration: _editor_plugin_src__WEBPACK_IMPORTED_MODULE_10__.TinyMceIntegration,\n  Latex: _wiris_mathtype_html_integration_devkit_src_latex__WEBPACK_IMPORTED_MODULE_7__["default"],\n  Test: _wiris_mathtype_html_integration_devkit_src_test__WEBPACK_IMPORTED_MODULE_9__["default"]\n};\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./global.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/accessibility.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Accessibility)\n/* harmony export */ });\n/* harmony import */ var _textcache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textcache */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/textcache.js");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serviceprovider */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/serviceprovider.js");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mathml */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/mathml.js");\n/* harmony import */ var _stringmanager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stringmanager */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/stringmanager.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n\n\n/**\n * @classdesc\n * This class represents MathType accessible class. Converts MathML to accessible text and manages\n * the associated client-side cache.\n */\nvar Accessibility = /*#__PURE__*/function () {\n  function Accessibility() {\n    _classCallCheck(this, Accessibility);\n  }\n  _createClass(Accessibility, null, [{\n    key: "cache",\n    get:\n    /**\n    * Static property.\n    * Accessibility cache, each entry contains a MathML and its correspondent accessibility text.\n    * @type {TextCache}\n    */\n    function get() {\n      return Accessibility._cache;\n    }\n\n    /**\n     * Static property setter.\n     * Set accessibility cache.\n     * @param {TextCahe} value - The property value.\n     * @ignore\n     */,\n    set: function set(value) {\n      Accessibility._cache = value;\n    }\n\n    /**\n     * Converts MathML strings to its accessible text representation.\n     * @param {String} mathML - MathML to be converted to accessible text.\n     * @param {String} [language] - Language of the accessible text. \'en\' by default.\n     * @param {Array.<String>} [data] - Parameters to send to mathml2accessible service.\n     * @return {String} Accessibility text.\n     */\n  }, {\n    key: "mathMLToAccessible",\n    value: function mathMLToAccessible(mathML, language, data) {\n      if (typeof language === \'undefined\') {\n        language = \'en\';\n      }\n      // Check MathML class. If the class is chemistry,\n      // we add chemistry to data to force accessibility service\n      // to load chemistry grammar.\n      if (_mathml__WEBPACK_IMPORTED_MODULE_2__["default"].containClass(mathML, \'wrs_chemistry\')) {\n        data.mode = \'chemistry\';\n      }\n      // Ignore accesibility styles\n      data.ignoreStyles = true;\n      var accessibleText = \'\';\n      if (Accessibility.cache.get(mathML)) {\n        accessibleText = Accessibility.cache.get(mathML);\n      } else {\n        data.service = \'mathml2accessible\';\n        data.lang = language;\n        var accessibleJsonResponse = JSON.parse(_serviceprovider__WEBPACK_IMPORTED_MODULE_1__["default"].getService(\'service\', data));\n        if (accessibleJsonResponse.status !== \'error\') {\n          accessibleText = accessibleJsonResponse.result.text;\n          Accessibility.cache.populate(mathML, accessibleText);\n        } else {\n          accessibleText = _stringmanager__WEBPACK_IMPORTED_MODULE_3__["default"].get(\'error_convert_accessibility\');\n        }\n      }\n      return accessibleText;\n    }\n  }]);\n  return Accessibility;\n}();\n/**\n * Contains an instance of TextCache class to manage the JavaScript accessible cache.\n * Each entry of the cache object contains the MathML and it\'s correspondent accessibility text.\n * @private\n * @type {TextCache}\n */\n\nAccessibility._cache = new _textcache__WEBPACK_IMPORTED_MODULE_0__["default"]();\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/accessibility.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/backwardslib.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _core_src__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.src */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/core.src.js");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/parser.js");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./listeners */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js");\n/* eslint-disable */\n// This file has backwards compatibility purposes, eslint\n// is disabled.\n\n\n\n\nvar backwardsLib;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (backwardsLib);\n\n// Backward compatibility library for public methods previous to version 7.6.0\n/**\n * Add a new callback to a MathType listener.\n * @param {Object} jsonListener - an Object containing listener name and a callback.\n * @tutorial tutorial\n * @deprecated Since version 7.6.0. Use Listeners.newListener instead.\n * @ignore\n */\nfunction wrs_addPluginListener(jsonListener) {\n  // TODO: Add documentation URL + doc example.\n  console.warn(\'Deprecated method\');\n  var eventName;\n  eventName = Object.keys(jsonListener)[0];\n  var callback;\n  callback = jsonListener[eventName];\n  var pluginListener = _listeners__WEBPACK_IMPORTED_MODULE_2__["default"].newListener(eventName, callback);\n  _core_src__WEBPACK_IMPORTED_MODULE_0__["default"].addGlobalListener(pluginListener);\n}\n\n// Expose the method globally.\nwindow.wrs_addPluginListener = wrs_addPluginListener;\n\n/**\n * Parses initial HTML code. If the HTML contains data generated by WIRIS, this data would be converted as following:\n * <pre>\n * MathML code: Image containing the corresponding MathML formulas.\n * MathML code with LaTeX annotation : LaTeX.\n * </pre>\n * @param {string} code - HTML code with data generated by MathType.\n * @param {string} language - language for the formula.\n * @return {string} HTML code with the WIRIS data converted into LaTeX and images.\n * @deprecated Since version 7.6.0. Use Parser.initParse instead.\n * @ignore\n */\nfunction wrs_initParse(code, language) {\n  console.warn(\'Deprecated method. Use Parser.endParse instead.\');\n  return _parser__WEBPACK_IMPORTED_MODULE_1__["default"].initParse(code, language);\n}\n\n// Expose the method globally.\nwindow.wrs_initParse = wrs_initParse;\n\n/**\n * Parses end HTML code. The end HTML code is HTML code with embedded images or LaTeX formulas created with MathType. <br>\n * By default this method converts the formula images and LaTeX strings in MathML. <br>\n * If image mode is enabled the images will not be converted into MathML. For further information see {@link https://docs.wiris.com/mathtype/en/mathtype-integrations/mathtype-web-interface-features/full-mathml-mode---wirisplugins-js.html}.\n * @param {string} code - string to be parsed.\n * @param {Object} wirisProperties - extra attributes for the formula.\n * @param {string} language - language for the formula.\n * @return {string}\n * @deprecated Since version 7.6.0. Use Parser.initParse instead.\n * @ignore\n */\nfunction wrs_endParse(code, wirisProperties, language) {\n  console.warn(\'Deprecated method. Use Parser.endParse instead.\');\n  return _parser__WEBPACK_IMPORTED_MODULE_1__["default"].endParse(code, wirisProperties, language);\n}\n\n// Expose the method globally.\nwindow.wrs_endParse = wrs_endParse;\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/backwardslib.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Configuration)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/**\n * This class represents the configuration class.\n * Usually used to retrieve configuration properties generated in the backend into the frontend.\n */\nvar Configuration = /*#__PURE__*/function () {\n  function Configuration() {\n    _classCallCheck(this, Configuration);\n  }\n  _createClass(Configuration, null, [{\n    key: "addConfiguration",\n    value:\n    /**\n     * Adds a properties object to {@link Configuration.properties}.\n     * @param {Object} properties - properties to append to current properties.\n     */\n    function addConfiguration(properties) {\n      Object.assign(Configuration.properties, properties);\n    }\n\n    /**\n    * Static property.\n    * The configuration properties object.\n    * @private\n    * @type {Object}\n    */\n  }, {\n    key: "properties",\n    get: function get() {\n      return Configuration._properties;\n    }\n\n    /**\n     * Static property setter.\n     * Set configuration properties.\n     * @param {Object} value - The property value.\n     * @ignore\n     */,\n    set: function set(value) {\n      Configuration._properties = value;\n    }\n\n    /**\n     * Returns the value of a property key.\n     * @param {String} key - Property key\n     * @returns {String} Property value\n     */\n  }, {\n    key: "get",\n    value: function get(key) {\n      if (!Object.prototype.hasOwnProperty.call(Configuration.properties, key)) {\n        // Backwards compatibility.\n        if (Object.prototype.hasOwnProperty.call(Configuration.properties, \'_wrs_conf_\')) {\n          return Configuration.properties["_wrs_conf_".concat(key)];\n        }\n        return false;\n      }\n      return Configuration.properties[key];\n    }\n\n    /**\n     * Adds a new property to Configuration class.\n     * @param {String} key - Property key.\n     * @param {Object} value - Property value.\n     */\n  }, {\n    key: "set",\n    value: function set(key, value) {\n      Configuration.properties[key] = value;\n    }\n\n    /**\n     * Updates a property object value with new values.\n     * @param {String} key - The property key to be updated.\n     * @param {Object} propertyValue - Object containing the new values.\n     */\n  }, {\n    key: "update",\n    value: function update(key, propertyValue) {\n      if (!Configuration.get(key)) {\n        Configuration.set(key, propertyValue);\n      } else {\n        var updateProperty = Object.assign(Configuration.get(key), propertyValue);\n        Configuration.set(key, updateProperty);\n      }\n    }\n  }]);\n  return Configuration;\n}();\n/**\n * Static properties object. Stores all configuration properties.\n * Needed to attribute accessors.\n * @private\n * @type {Object}\n */\n\nConfiguration._properties = {};\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Constants)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * This class represents all the constants needed in a MathType integration among different classes.\n * If a constant should be used across different classes should be defined using attribute\n * accessors.\n */\nvar Constants = /*#__PURE__*/function () {\n  function Constants() {\n    _classCallCheck(this, Constants);\n  }\n  _createClass(Constants, null, [{\n    key: \"safeXmlCharactersEntities\",\n    get:\n    /**\n     * Safe XML entities.\n     * @type {Object}\n     */\n    function get() {\n      return {\n        tagOpener: '&laquo;',\n        tagCloser: '&raquo;',\n        doubleQuote: '&uml;',\n        realDoubleQuote: '&quot;'\n      };\n    }\n\n    /**\n     * Blackboard invalid safe characters.\n     * @type {Object}\n     */\n  }, {\n    key: \"safeBadBlackboardCharacters\",\n    get: function get() {\n      return {\n        ltElement: '«mo»<«/mo»',\n        gtElement: '«mo»>«/mo»',\n        ampElement: '«mo»&«/mo»'\n      };\n    }\n\n    /**\n     * Blackboard valid safe characters.\n     * @type{Object}\n     */\n  }, {\n    key: \"safeGoodBlackboardCharacters\",\n    get: function get() {\n      return {\n        ltElement: '«mo»§lt;«/mo»',\n        gtElement: '«mo»§gt;«/mo»',\n        ampElement: '«mo»§amp;«/mo»'\n      };\n    }\n\n    /**\n     * Standard XML special characters.\n     * @type {Object}\n     */\n  }, {\n    key: \"xmlCharacters\",\n    get: function get() {\n      return {\n        id: 'xmlCharacters',\n        tagOpener: '<',\n        // Hex: \\x3C.\n        tagCloser: '>',\n        // Hex: \\x3E.\n        doubleQuote: '\"',\n        // Hex: \\x22.\n        ampersand: '&',\n        // Hex: \\x26.\n        quote: '\\'' // Hex: \\x27.\n      };\n    }\n\n    /**\n    * Safe XML special characters. This characters are used instead the standard\n    * the standard to parse the  MathML if safeXML save mode is enable. Each XML\n    * special character have a UTF-8 representation.\n    * @type {Object}\n    */\n  }, {\n    key: \"safeXmlCharacters\",\n    get: function get() {\n      return {\n        id: 'safeXmlCharacters',\n        tagOpener: '«',\n        // Hex: \\xAB.\n        tagCloser: '»',\n        // Hex: \\xBB.\n        doubleQuote: '¨',\n        // Hex: \\xA8.\n        ampersand: '§',\n        // Hex: \\xA7.\n        quote: '`',\n        // Hex: \\x60.\n        realDoubleQuote: '¨'\n      };\n    }\n  }]);\n  return Constants;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/constants.js?")},"./node_modules/@wiris/mathtype-html-integration-devkit/src/contentmanager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContentManager)\n/* harmony export */ });\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configuration */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js\");\n/* harmony import */ var _editorlistener__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editorlistener */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/editorlistener.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./listeners */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js\");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mathml */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/mathml.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n\n\nvar ContentManager = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represents a modal dialog, managing the following:\n   * - The insertion of content into the current instance of the {@link ModalDialog} class.\n   * - The actions to be done once the modal object has been submitted\n   *   (submitAction} method).\n   * - The update of the content when the {@link ModalDialog} class is also updated,\n   *   for example when ModalDialog is re-opened.\n   * - The communication between the {@link ModalDialog} class and itself, if the content\n   *   has been changed (hasChanges} method).\n   * @constructs\n   * @param {Object} contentManagerAttributes - Object containing all attributes needed to\n   * create a new instance.\n   */\n  function ContentManager(contentManagerAttributes) {\n    _classCallCheck(this, ContentManager);\n    /**\n     * An object containing MathType editor parameters. See\n     * http://docs.wiris.com/en/mathtype/mathtype_web/sdk-api/parameters for further information.\n     * @type {Object}\n     */\n    this.editorAttributes = {};\n    if ('editorAttributes' in contentManagerAttributes) {\n      this.editorAttributes = contentManagerAttributes.editorAttributes;\n    } else {\n      throw new Error('ContentManager constructor error: editorAttributes property missed.');\n    }\n\n    /**\n     * CustomEditors instance. Contains the custom editors.\n     * @type {CustomEditors}\n     */\n    this.customEditors = null;\n    if ('customEditors' in contentManagerAttributes) {\n      this.customEditors = contentManagerAttributes.customEditors;\n    }\n\n    /**\n    * Environment properties. This object contains data about the integration platform.\n    * @type {Object}\n    * @property {String} editor - Editor name. Usually the HTML editor.\n    * @property {String} mode - Save mode. Xml by default.\n    * @property {String} version - Plugin version.\n    */\n    this.environment = {};\n    if ('environment' in contentManagerAttributes) {\n      this.environment = contentManagerAttributes.environment;\n    } else {\n      throw new Error('ContentManager constructor error: environment property missed');\n    }\n\n    /**\n      * ContentManager language.\n      * @type {String}\n      */\n    this.language = '';\n    if ('language' in contentManagerAttributes) {\n      this.language = contentManagerAttributes.language;\n    } else {\n      throw new Error('ContentManager constructor error: language property missed');\n    }\n\n    /**\n    * {@link EditorListener} instance. Manages the changes inside the editor.\n    * @type {EditorListener}\n    */\n    this.editorListener = new _editorlistener__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n    /**\n     * MathType editor instance.\n     * @type {JsEditor}\n     */\n    this.editor = null;\n\n    /**\n     * Navigator user agent.\n     * @type {String}\n     */\n    this.ua = navigator.userAgent.toLowerCase();\n\n    /**\n     * Mobile device properties object\n     * @type {DeviceProperties}\n     */\n    this.deviceProperties = {};\n    this.deviceProperties.isAndroid = this.ua.indexOf('android') > -1;\n    this.deviceProperties.isIOS = ContentManager.isIOS();\n\n    /**\n     * Custom editor toolbar.\n     * @type {String}\n     */\n    this.toolbar = null;\n\n    /**\n     * Instance of the {@link ModalDialog} class associated with the current\n     * {@link ContentManager} instance.\n     * @type {ModalDialog}\n     */\n    this.modalDialogInstance = null;\n\n    /**\n     * ContentManager listeners.\n     * @type {Listeners}\n     */\n    this.listeners = new _listeners__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\n    /**\n     * MathML associated to the ContentManager instance.\n     * @type {String}\n     */\n    this.mathML = null;\n\n    /**\n     * Indicates if the edited element is a new one or not.\n     * @type {Boolean}\n     */\n    this.isNewElement = true;\n\n    /**\n     * {@link IntegrationModel} instance. Needed to call wrapper methods.\n     * @type {IntegrationModel}\n     */\n    this.integrationModel = null;\n  }\n\n  /**\n   * Adds a new listener to the current {@link ContentManager} instance.\n   * @param {Object} listener - The listener to be added.\n   */\n  _createClass(ContentManager, [{\n    key: \"addListener\",\n    value: function addListener(listener) {\n      this.listeners.add(listener);\n    }\n\n    /**\n     * Sets an instance of {@link IntegrationModel} class to the current {@link ContentManager}\n     * instance.\n     * @param {IntegrationModel} integrationModel - The {@link IntegrationModel} instance.\n     */\n  }, {\n    key: \"setIntegrationModel\",\n    value: function setIntegrationModel(integrationModel) {\n      this.integrationModel = integrationModel;\n    }\n\n    /**\n     * Sets the {@link ModalDialog} instance into the current {@link ContentManager} instance.\n     * @param {ModalDialog} modalDialogInstance - The {@link ModalDialog} instance\n     */\n  }, {\n    key: \"setModalDialogInstance\",\n    value: function setModalDialogInstance(modalDialogInstance) {\n      this.modalDialogInstance = modalDialogInstance;\n    }\n\n    /**\n     * Inserts the content into the current {@link ModalDialog} instance updating\n     * the title and inserting the JavaScript editor.\n     */\n  }, {\n    key: \"insert\",\n    value: function insert() {\n      // Before insert the editor we update the modal object title to avoid weird render display.\n      this.updateTitle(this.modalDialogInstance);\n      this.insertEditor(this.modalDialogInstance);\n    }\n\n    /**\n     * Inserts MathType editor into the {@link ModalDialog.contentContainer}. It waits until\n     * editor's JavaScript is loaded.\n     */\n  }, {\n    key: \"insertEditor\",\n    value: function insertEditor() {\n      if (ContentManager.isEditorLoaded()) {\n        this.editor = window.com.wiris.jsEditor.JsEditor.newInstance(this.editorAttributes);\n        this.editor.insertInto(this.modalDialogInstance.contentContainer);\n        this.editor.focus();\n        if (this.modalDialogInstance.rtl) {\n          this.editor.action('rtl');\n        }\n        // Setting div in rtl in case of it's activated.\n        if (this.editor.getEditorModel().isRTL()) {\n          this.editor.element.style.direction = 'rtl';\n        }\n\n        // Editor listener: this object manages the changes logic of editor.\n        this.editor.getEditorModel().addEditorListener(this.editorListener);\n\n        // iOS events.\n        if (this.modalDialogInstance.deviceProperties.isIOS) {\n          setTimeout(function () {\n            // Make sure the modalDialogInstance is available when the timeout is over\n            // to avoid throw errors and stop execution.\n            if (this.hasOwnProperty('modalDialogInstance')) this.modalDialogInstance.hideKeyboard(); // eslint-disable-line no-prototype-builtins\n          }, 400);\n          var formulaDisplayDiv = document.getElementsByClassName('wrs_formulaDisplay')[0];\n          _util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].addEvent(formulaDisplayDiv, 'focus', this.modalDialogInstance.handleOpenedIosSoftkeyboard);\n          _util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].addEvent(formulaDisplayDiv, 'blur', this.modalDialogInstance.handleClosedIosSoftkeyboard);\n        }\n        // Fire onLoad event. Necessary to set the MathML into the editor\n        // after is loaded.\n        this.listeners.fire('onLoad', {});\n      } else {\n        setTimeout(ContentManager.prototype.insertEditor.bind(this), 100);\n      }\n    }\n\n    /**\n     * Initializes the current class by loading MathType script.\n     */\n  }, {\n    key: \"init\",\n    value: function init() {\n      if (!ContentManager.isEditorLoaded()) {\n        this.addEditorAsExternalDependency();\n      }\n    }\n\n    /**\n     * Adds script element to the DOM to include editor externally.\n     */\n  }, {\n    key: \"addEditorAsExternalDependency\",\n    value: function addEditorAsExternalDependency() {\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      var editorUrl = _configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('editorUrl');\n      // We create an object url for parse url string and work more efficiently.\n      var anchorElement = document.createElement('a');\n      ContentManager.setHrefToAnchorElement(anchorElement, editorUrl);\n      ContentManager.setProtocolToAnchorElement(anchorElement);\n      editorUrl = ContentManager.getURLFromAnchorElement(anchorElement);\n\n      // Load editor URL. We add stats as GET params.\n      var stats = this.getEditorStats();\n      script.src = \"\".concat(editorUrl, \"?lang=\").concat(this.language, \"&stats-editor=\").concat(stats.editor, \"&stats-mode=\").concat(stats.mode, \"&stats-version=\").concat(stats.version);\n      document.getElementsByTagName('head')[0].appendChild(script);\n    }\n\n    /**\n     * Sets the specified url to the anchor element.\n     * @param {HTMLAnchorElement} anchorElement - Element where set 'url'.\n     * @param {String} url - URL to set.\n     */\n  }, {\n    key: \"getEditorStats\",\n    value:\n    /**\n     * Returns object with editor stats.\n     *\n     * @typedef {Object} EditorStatsObject\n     * @property {string} editor - Editor name.\n     * @property {string} mode - Current configuration for formula save mode.\n     * @property {string} version - Current plugins version.\n     * @returns {EditorStatsObject}\n     */\n    function getEditorStats() {\n      // Editor stats. Use environment property to set it.\n      var stats = {};\n      if ('editor' in this.environment) {\n        stats.editor = this.environment.editor;\n      } else {\n        stats.editor = 'unknown';\n      }\n      if ('mode' in this.environment) {\n        stats.mode = this.environment.mode;\n      } else {\n        stats.mode = _configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('saveMode');\n      }\n      if ('version' in this.environment) {\n        stats.version = this.environment.version;\n      } else {\n        stats.version = _configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('version');\n      }\n      return stats;\n    }\n\n    /**\n     * Returns true if device is iOS. Otherwise, false.\n     * @returns {Boolean}\n     */\n  }, {\n    key: \"setInitialContent\",\n    value:\n    /**\n    * Sets the {@link ContentManager.editor} initial content.\n    */\n    function setInitialContent() {\n      if (!this.isNewElement) {\n        this.setMathML(this.mathML);\n      }\n    }\n\n    /**\n     * Sets a MathML into {@link ContentManager.editor} instance.\n     * @param {String} mathml - MathML string.\n     * @param {Boolean} focusDisabled - If true editor don't get focus after the MathML is set.\n     * False by default.\n     */\n  }, {\n    key: \"setMathML\",\n    value: function setMathML(mathml, focusDisabled) {\n      var _this = this;\n      // By default focus is enabled.\n      if (typeof focusDisabled === 'undefined') {\n        focusDisabled = false;\n      }\n      // Using setMathML method is not a change produced by the user but for the API\n      // so we set to false the contentChange property of editorListener.\n      this.editor.setMathMLWithCallback(mathml, function () {\n        _this.editorListener.setWaitingForChanges(true);\n      });\n\n      // We need to wait a little until the callback finish.\n      setTimeout(function () {\n        _this.editorListener.setIsContentChanged(false);\n      }, 500);\n\n      // In some scenarios - like closing modal object - editor mustn't be focused.\n      if (!focusDisabled) {\n        this.onFocus();\n      }\n    }\n\n    /**\n     * Sets the focus to the current instance of {@link ContentManager.editor}. Triggered by\n     * {@link ModalDialog.focus}.\n     */\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      if (typeof this.editor !== 'undefined' && this.editor != null) {\n        this.editor.focus();\n      }\n    }\n\n    /**\n     * Updates the edition area by calling {@link IntegrationModel.updateFormula}.\n     * Triggered by {@link ModalDialog.submitAction}.\n     */\n  }, {\n    key: \"submitAction\",\n    value: function submitAction() {\n      if (!this.editor.isFormulaEmpty()) {\n        var mathML = this.editor.getMathMLWithSemantics();\n        // Add class for custom editors.\n        if (this.customEditors.getActiveEditor() !== null) {\n          var _this$customEditors$g = this.customEditors.getActiveEditor(),\n            toolbar = _this$customEditors$g.toolbar;\n          mathML = _mathml__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addCustomEditorClassAttribute(mathML, toolbar);\n        } else {\n          // We need - if exists - the editor name from MathML\n          // class attribute.\n          Object.keys(this.customEditors.editors).forEach(function (key) {\n            mathML = _mathml__WEBPACK_IMPORTED_MODULE_3__[\"default\"].removeCustomEditorClassAttribute(mathML, key);\n          });\n        }\n        var mathmlEntitiesEncoded = _mathml__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mathMLEntities(mathML);\n        this.integrationModel.updateFormula(mathmlEntitiesEncoded);\n      } else {\n        this.integrationModel.updateFormula(null);\n      }\n      this.customEditors.disable();\n      this.integrationModel.notifyWindowClosed();\n\n      // Set disabled focus to prevent lost focus.\n      this.setEmptyMathML();\n      this.customEditors.disable();\n    }\n\n    /**\n     * Sets an empty MathML as {@link ContentManager.editor} content.\n     */\n  }, {\n    key: \"setEmptyMathML\",\n    value: function setEmptyMathML() {\n      // As second argument we pass.\n      if (this.deviceProperties.isAndroid || this.deviceProperties.isIOS) {\n        // We need to set a empty annotation in order to maintain editor in Hand mode.\n        // Adding dir rtl in case of it's activated.\n        if (this.editor.getEditorModel().isRTL()) {\n          this.setMathML('<math dir=\"rtl\"><semantics><annotation encoding=\"application/json\">[]</annotation></semantics></math>', true);\n        } else {\n          this.setMathML('<math><semantics><annotation encoding=\"application/json\">[]</annotation></semantics></math>', true);\n        }\n      } else if (this.editor.getEditorModel().isRTL()) {\n        this.setMathML('<math dir=\"rtl\"/>', true);\n      } else {\n        this.setMathML('<math/>', true);\n      }\n    }\n\n    /**\n     * Open event. Triggered by {@link ModalDialog.open}. Does the following:\n     * - Updates the {@link ContentManager.editor} content\n     *   (with an empty MathML or an existing formula),\n     * - Updates the {@link ContentManager.editor} toolbar.\n     * - Recovers the the focus.\n     */\n  }, {\n    key: \"onOpen\",\n    value: function onOpen() {\n      if (this.isNewElement) {\n        this.setEmptyMathML();\n      } else {\n        this.setMathML(this.mathML);\n      }\n      this.updateToolbar();\n      this.onFocus();\n      if (this.deviceProperties.isIOS) {\n        var zoom = document.documentElement.clientWidth / window.innerWidth;\n        if (zoom !== 1) {\n          // Open editor in Keyboard mode if user use iOS, Safari and page is zoomed.\n          this.setKeyboardMode();\n        }\n      }\n    }\n\n    /**\n     * Change Editor in keyboard mode when is loaded\n     */\n  }, {\n    key: \"setKeyboardMode\",\n    value: function setKeyboardMode() {\n      var wrsEditor = document.getElementsByClassName('wrs_handOpen wrs_disablePalette')[0];\n      if (wrsEditor) {\n        wrsEditor.classList.remove('wrs_handOpen');\n        wrsEditor.classList.remove('wrs_disablePalette');\n      } else {\n        setTimeout(ContentManager.prototype.setKeyboardMode.bind(this), 100);\n      }\n    }\n\n    /**\n     * Sets the correct toolbar depending if exist other custom toolbars\n     * at the same time (e.g: Chemistry).\n     */\n  }, {\n    key: \"updateToolbar\",\n    value: function updateToolbar() {\n      this.updateTitle(this.modalDialogInstance);\n      var customEditor = this.customEditors.getActiveEditor();\n      if (customEditor) {\n        var toolbar = customEditor.toolbar ? customEditor.toolbar : _wrs_int_wirisProperties.toolbar;\n        if (this.toolbar == null || this.toolbar !== toolbar) {\n          this.setToolbar(toolbar);\n        }\n      } else {\n        var _toolbar = this.getToolbar();\n        if (this.toolbar == null || this.toolbar !== _toolbar) {\n          this.setToolbar(_toolbar);\n          this.customEditors.disable();\n        }\n      }\n    }\n\n    /**\n     * Updates the current {@link ModalDialog.title}. If a {@link CustomEditors} is enabled\n     * sets the custom editor title. Otherwise sets the default title.\n     */\n  }, {\n    key: \"updateTitle\",\n    value: function updateTitle() {\n      var customEditor = this.customEditors.getActiveEditor();\n      if (customEditor) {\n        this.modalDialogInstance.setTitle(customEditor.title);\n      } else {\n        this.modalDialogInstance.setTitle('MathType');\n      }\n    }\n\n    /**\n     * Returns the editor toolbar, depending on the configuration local or server side.\n     * @returns {String} - Toolbar identifier.\n     */\n  }, {\n    key: \"getToolbar\",\n    value: function getToolbar() {\n      var toolbar = 'general';\n      if ('toolbar' in this.editorAttributes) {\n        toolbar = this.editorAttributes.toolbar;\n      }\n      // TODO: Change global integration variable for integration custom toolbar.\n      if (toolbar === 'general') {\n        // eslint-disable-next-line camelcase\n        toolbar = typeof _wrs_int_wirisProperties === 'undefined' || typeof _wrs_int_wirisProperties.toolbar === 'undefined' ? 'general' : _wrs_int_wirisProperties.toolbar;\n      }\n      return toolbar;\n    }\n\n    /**\n     * Sets the current {@link ContentManager.editor} instance toolbar.\n     * @param {String} toolbar - The toolbar name.\n     */\n  }, {\n    key: \"setToolbar\",\n    value: function setToolbar(toolbar) {\n      this.toolbar = toolbar;\n      this.editor.setParams({\n        toolbar: this.toolbar\n      });\n    }\n\n    /**\n     * Returns true if the content of the editor has been changed. The logic of the changes\n     * is delegated to {@link EditorListener} class.\n     * @returns {Boolean} True if the editor content has been changed. False otherwise.\n     */\n  }, {\n    key: \"hasChanges\",\n    value: function hasChanges() {\n      return !this.editor.isFormulaEmpty() && this.editorListener.getIsContentChanged();\n    }\n\n    /**\n     * Handle keyboard events detected in modal when elements of this class intervene.\n     * @param {KeyboardEvent} keyboardEvent - The keyboard event.\n     */\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(keyboardEvent) {\n      if (keyboardEvent.key !== undefined && keyboardEvent.repeat === false) {\n        if (keyboardEvent.key === 'Escape' || keyboardEvent.key === 'Esc') {\n          // Code to detect Esc event.\n          // There should be only one element with class name 'wrs_pressed' at the same time.\n          var list = document.getElementsByClassName('wrs_expandButton wrs_expandButtonFor3RowsLayout wrs_pressed');\n          if (list.length === 0) {\n            list = document.getElementsByClassName('wrs_expandButton wrs_expandButtonFor2RowsLayout wrs_pressed');\n            if (list.length === 0) {\n              list = document.getElementsByClassName('wrs_select wrs_pressed');\n              if (list.length === 0) {\n                this.modalDialogInstance.cancelAction();\n                keyboardEvent.stopPropagation();\n                keyboardEvent.preventDefault();\n              }\n            }\n          }\n        } else if (keyboardEvent.shiftKey && keyboardEvent.key === 'Tab') {\n          // Code to detect shift Tab event.\n          if (document.activeElement === this.modalDialogInstance.submitButton) {\n            // Focus is on OK button.\n            this.editor.focus();\n            keyboardEvent.stopPropagation();\n            keyboardEvent.preventDefault();\n          } else {\n            var element = document.querySelector('[title=\"Manual\"]');\n            if (document.activeElement === element) {\n              // Focus is on editor help.\n              this.modalDialogInstance.cancelButton.focus();\n              keyboardEvent.stopPropagation();\n              keyboardEvent.preventDefault();\n            }\n          }\n        } else if (keyboardEvent.key === 'Tab') {\n          // Code to detect Tab event.\n          if (document.activeElement === this.modalDialogInstance.cancelButton) {\n            // Focus is on cancel button.\n            var _element = document.querySelector('[title=\"Manual\"]');\n            _element.focus();\n            keyboardEvent.stopPropagation();\n            keyboardEvent.preventDefault();\n          } else {\n            // There should be only one element with class name 'wrs_formulaDisplay'.\n            var _element2 = document.getElementsByClassName('wrs_formulaDisplay')[0];\n            if (_element2.getAttribute('class') === 'wrs_formulaDisplay wrs_focused') {\n              // Focus is on formuladisplay.\n              this.modalDialogInstance.submitButton.focus();\n              keyboardEvent.stopPropagation();\n              keyboardEvent.preventDefault();\n            }\n          }\n        }\n      }\n    }\n  }], [{\n    key: \"setHrefToAnchorElement\",\n    value: function setHrefToAnchorElement(anchorElement, url) {\n      anchorElement.href = url;\n    }\n\n    /**\n     * Sets the current protocol to the anchor element.\n     * @param {HTMLAnchorElement} anchorElement - Element where set its protocol.\n     */\n  }, {\n    key: \"setProtocolToAnchorElement\",\n    value: function setProtocolToAnchorElement(anchorElement) {\n      // Change to https if necessary.\n      if (window.location.href.indexOf('https://') === 0) {\n        // It check if browser is https and configuration is http.\n        // If this is so, we will replace protocol.\n        if (anchorElement.protocol === 'http:') {\n          anchorElement.protocol = 'https:';\n        }\n      }\n    }\n\n    /**\n     * Returns the url of the anchor element adding the current port\n     * if it is needed.\n     * @param {HTMLAnchorElement} anchorElement - Element where extract the url.\n     * @returns {String}\n     */\n  }, {\n    key: \"getURLFromAnchorElement\",\n    value: function getURLFromAnchorElement(anchorElement) {\n      // Check protocol and remove port if it's standard.\n      var removePort = anchorElement.port === '80' || anchorElement.port === '443' || anchorElement.port === '';\n      return \"\".concat(anchorElement.protocol, \"//\").concat(anchorElement.hostname).concat(removePort ? '' : \":\".concat(anchorElement.port)).concat(anchorElement.pathname.startsWith('/') ? anchorElement.pathname : \"/\".concat(anchorElement.pathname)); // eslint-disable-line max-len\n    }\n  }, {\n    key: \"isIOS\",\n    value: function isIOS() {\n      return ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'].includes(navigator.platform)\n      // iPad on iOS 13 detection\n      || navigator.userAgent.includes('Mac') && 'ontouchend' in document;\n    }\n\n    /**\n     * Returns true if editor is loaded. Otherwise, false.\n     * @returns {Boolean}\n     */\n  }, {\n    key: \"isEditorLoaded\",\n    value: function isEditorLoaded() {\n      // To know if editor JavaScript is loaded we need to wait until\n      // window.com.wiris.jsEditor.JsEditor.newInstance is ready.\n      return window.com && window.com.wiris && window.com.wiris.jsEditor && window.com.wiris.jsEditor.JsEditor && window.com.wiris.jsEditor.JsEditor.newInstance;\n    }\n  }]);\n  return ContentManager;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/contentmanager.js?")},"./node_modules/@wiris/mathtype-html-integration-devkit/src/core.src.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Core)\n/* harmony export */ });\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parser */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/parser.js");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js");\n/* harmony import */ var _stringmanager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringmanager */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/stringmanager.js");\n/* harmony import */ var _contentmanager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contentmanager */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/contentmanager.js");\n/* harmony import */ var _latex__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./latex */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/latex.js");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mathml */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/mathml.js");\n/* harmony import */ var _customeditors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./customeditors */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/customeditors.js");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./configuration */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js");\n/* harmony import */ var _jsvariables__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./jsvariables */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/jsvariables.js");\n/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./event */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/event.js");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./listeners */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./image */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/image.js");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./serviceprovider */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/serviceprovider.js");\n/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modal */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/modal.js");\n/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./polyfills */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/polyfills.js");\n/* harmony import */ var _styles_styles_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../styles/styles.css */ "./node_modules/@wiris/mathtype-html-integration-devkit/styles/styles.css");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {Object} CoreProperties\n * @property {ServiceProviderProperties} serviceProviderProperties\n * - The ServiceProvider class properties. *\n */\nvar Core = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represents MathType integration Core, managing the following:\n   * - Integration initialization.\n   * - Event managing.\n   * - Insertion of formulas into the edit area.\n   * ```js\n   *       let core = new Core();\n   *       core.addListener(listener);\n   *       core.language = \'en\';\n   *\n   *       // Initializing Core class.\n   *       core.init(configurationService);\n   * ```\n   * @constructs\n   * Core constructor.\n   * @param {CoreProperties}\n   */\n  function Core(coreProperties) {\n    _classCallCheck(this, Core);\n    /**\n     * Language. Needed for accessibility and locales. \'en\' by default.\n     * @type {String}\n     */\n    this.language = \'en\';\n\n    /**\n     * Edit mode, \'images\' by default. Admits the following values:\n     * - images\n     * - latex\n     * @type {String}\n     */\n    this.editMode = \'images\';\n\n    /**\n     * Modal dialog instance.\n     * @type {ModalDialog}\n     */\n    this.modalDialog = null;\n\n    /**\n     * The instance of {@link CustomEditors}. By default\n     * the only custom editor is the Chemistry editor.\n     * @type {CustomEditors}\n     */\n    this.customEditors = new _customeditors__WEBPACK_IMPORTED_MODULE_6__["default"]();\n\n    /**\n     * Chemistry editor.\n     * @type {CustomEditor}\n     */\n    var chemEditorParams = {\n      name: \'Chemistry\',\n      toolbar: \'chemistry\',\n      icon: \'chem.png\',\n      confVariable: \'chemEnabled\',\n      title: \'ChemType\',\n      tooltip: \'Insert a chemistry formula - ChemType\' // TODO: Localize tooltip.\n    };\n    this.customEditors.addEditor(\'chemistry\', chemEditorParams);\n\n    /**\n     * Environment properties. This object contains data about the integration platform.\n     * @typedef IntegrationEnvironment\n     * @property {String} IntegrationEnvironment.editor - Editor name. For example the HTML editor.\n     * @property {String} IntegrationEnvironment.mode - Integration save mode.\n     * @property {String} IntegrationEnvironment.version - Integration version.\n     *\n     */\n\n    /**\n     * The environment properties object.\n     * @type {IntegrationEnvironment}\n     */\n    this.environment = {};\n\n    /**\n     * @typedef EditionProperties\n     * @property {Boolean} editionProperties.isNewElement - True if the formula is a new one.\n     * False otherwise.\n     * @property {HTMLImageElement} editionProperties.temporalImage- The image element.\n     * Null if the formula is new.\n     * @property {Range} editionProperties.latexRange - Tha range that contains the LaTeX formula.\n     * @property {Range} editionProperties.range - The range that contains the image element.\n     * @property {String} editionProperties.editMode - The edition mode. \'images\' by default.\n     */\n\n    /**\n     * The properties of the current edition process.\n     * @type {EditionProperties}\n     */\n    this.editionProperties = {};\n    this.editionProperties.isNewElement = true;\n    this.editionProperties.temporalImage = null;\n    this.editionProperties.latexRange = null;\n    this.editionProperties.range = null;\n\n    /**\n     * The {@link IntegrationModel} instance.\n     * @type {IntegrationModel}\n     */\n    this.integrationModel = null;\n\n    /**\n     * The {@link ContentManager} instance.\n     * @type {ContentManager}\n     */\n    this.contentManager = null;\n\n    /**\n     * The current browser.\n     * @type {String}\n     */\n    this.browser = function () {\n      var ua = navigator.userAgent;\n      var browser = \'none\';\n      if (ua.search(\'Edge/\') >= 0) {\n        browser = \'EDGE\';\n      } else if (ua.search(\'Chrome/\') >= 0) {\n        browser = \'CHROME\';\n      } else if (ua.search(\'Trident/\') >= 0) {\n        browser = \'IE\';\n      } else if (ua.search(\'Firefox/\') >= 0) {\n        browser = \'FIREFOX\';\n      } else if (ua.search(\'Safari/\') >= 0) {\n        browser = \'SAFARI\';\n      }\n      return browser;\n    }();\n\n    /**\n     * Plugin listeners.\n     * @type {Array.<Object>}\n     */\n    this.listeners = new _listeners__WEBPACK_IMPORTED_MODULE_10__["default"]();\n\n    /**\n     * Service provider properties.\n     * @type {ServiceProviderProperties}\n     */\n    this.serviceProviderProperties = {};\n    if (\'serviceProviderProperties\' in coreProperties) {\n      this.serviceProviderProperties = coreProperties.serviceProviderProperties;\n    } else {\n      throw new Error(\'serviceProviderProperties property missing.\');\n    }\n  }\n\n  /**\n   * Static property.\n   * Core listeners.\n   * @private\n   * @type {Listeners}\n   */\n  _createClass(Core, [{\n    key: "setIntegrationModel",\n    value:\n    /**\n     * Sets the {@link Core.integrationModel} property.\n     * @param {IntegrationModel} integrationModel - The {@link IntegrationModel} property.\n     */\n    function setIntegrationModel(integrationModel) {\n      this.integrationModel = integrationModel;\n    }\n\n    /**\n     * Sets the {@link Core.environment} property.\n     * @param {IntegrationEnvironment} integrationEnvironment -\n     * The {@link IntegrationEnvironment} object.\n     */\n  }, {\n    key: "setEnvironment",\n    value: function setEnvironment(integrationEnvironment) {\n      if (\'editor\' in integrationEnvironment) {\n        this.environment.editor = integrationEnvironment.editor;\n      }\n      if (\'mode\' in integrationEnvironment) {\n        this.environment.mode = integrationEnvironment.mode;\n      }\n      if (\'version\' in integrationEnvironment) {\n        this.environment.version = integrationEnvironment.version;\n      }\n    }\n\n    /**\n     * Returns the current {@link ModalDialog} instance.\n     * @returns {ModalDialog} The current {@link ModalDialog} instance.\n     */\n  }, {\n    key: "getModalDialog",\n    value: function getModalDialog() {\n      return this.modalDialog;\n    }\n\n    /**\n     * Inits the {@link Core} class, doing the following:\n     * - Calls asynchronously configuration service, retrieving the backend configuration in a JSON.\n     * - Updates {@link Configuration} class with the previous configuration properties.\n     * - Updates the {@link ServiceProvider} class using the configuration service path as reference.\n     * - Loads language strings.\n     * - Fires onLoad event.\n     * @param {Object} serviceParameters - Service parameters.\n     */\n  }, {\n    key: "init",\n    value: function init() {\n      var _this = this;\n      if (!Core.initialized) {\n        var serviceProviderListener = _listeners__WEBPACK_IMPORTED_MODULE_10__["default"].newListener(\'onInit\', function () {\n          var jsConfiguration = _serviceprovider__WEBPACK_IMPORTED_MODULE_12__["default"].getService(\'configurationjs\', \'\', \'get\');\n          var jsonConfiguration = JSON.parse(jsConfiguration);\n          _configuration__WEBPACK_IMPORTED_MODULE_7__["default"].addConfiguration(jsonConfiguration);\n          // Adding JavaScript (not backend) configuration variables.\n          _configuration__WEBPACK_IMPORTED_MODULE_7__["default"].addConfiguration(_jsvariables__WEBPACK_IMPORTED_MODULE_8__["default"]);\n          // Fire \'onLoad\' event:\n          // All integration must listen this event in order to know if the plugin\n          // has been properly loaded.\n          _stringmanager__WEBPACK_IMPORTED_MODULE_2__["default"].language = _this.language;\n          _this.listeners.fire(\'onLoad\', {});\n        });\n        _serviceprovider__WEBPACK_IMPORTED_MODULE_12__["default"].addListener(serviceProviderListener);\n        _serviceprovider__WEBPACK_IMPORTED_MODULE_12__["default"].init(this.serviceProviderProperties);\n        Core.initialized = true;\n      } else {\n        // Case when there are more than two editor instances.\n        // After the first editor all the other editors don\'t need to load any file or service.\n        this.listeners.fire(\'onLoad\', {});\n      }\n    }\n\n    /**\n     * Adds a {@link Listener} to the current instance of the {@link Core} class.\n     * @param {Listener} listener - The listener object.\n     */\n  }, {\n    key: "addListener",\n    value: function addListener(listener) {\n      this.listeners.add(listener);\n    }\n\n    /**\n     * Adds the global {@link Listener} instance to {@link Core} class.\n     * @param {Listener} listener - The event listener to be added.\n     * @static\n     */\n  }, {\n    key: "beforeUpdateFormula",\n    value: function beforeUpdateFormula(mathml, wirisProperties) {\n      /**\n       * This event is fired before updating the formula.\n       * @type {Object}\n       * @property {String} mathml - MathML to be transformed.\n       * @property {String} editMode - Edit mode.\n       * @property {Object} wirisProperties - Extra attributes for the formula.\n       * @property {String} language - Formula language.\n       */\n      var beforeUpdateEvent = new _event__WEBPACK_IMPORTED_MODULE_9__["default"]();\n      beforeUpdateEvent.mathml = mathml;\n\n      // Cloning wirisProperties object\n      // We don\'t want wirisProperties object modified.\n      beforeUpdateEvent.wirisProperties = {};\n      if (wirisProperties != null) {\n        Object.keys(wirisProperties).forEach(function (attr) {\n          beforeUpdateEvent.wirisProperties[attr] = wirisProperties[attr];\n        });\n      }\n\n      // Read only.\n      beforeUpdateEvent.language = this.language;\n      beforeUpdateEvent.editMode = this.editMode;\n      if (this.listeners.fire(\'onBeforeFormulaInsertion\', beforeUpdateEvent)) {\n        return {};\n      }\n      if (Core.globalListeners.fire(\'onBeforeFormulaInsertion\', beforeUpdateEvent)) {\n        return {};\n      }\n      return {\n        mathml: beforeUpdateEvent.mathml,\n        wirisProperties: beforeUpdateEvent.wirisProperties\n      };\n    }\n\n    /**\n     * Converts a MathML into it\'s correspondent image and inserts the image is\n     * inserted in a HTMLElement target by creating\n     * a new image or updating an existing one.\n     * @param {HTMLElement} focusElement - The HTMLElement to be focused after the insertion.\n     * @param {Window} windowTarget - The window element where the editable content is.\n     * @param {String} mathml - The MathML.\n     * @param {Array.<Object>} wirisProperties - The extra attributes for the formula.\n     * @returns {ReturnObject} - Object with the information of the node or latex to insert.\n     */\n  }, {\n    key: "insertFormula",\n    value: function insertFormula(focusElement, windowTarget, mathml, wirisProperties) {\n      /**\n       * It is the object with the information of the node or latex to insert.\n       * @typedef ReturnObject\n       * @property {Node} [node] - The DOM node to insert.\n       * @property {String} [latex] - The latex to insert.\n       */\n      var returnObject = {};\n      if (!mathml) {\n        this.insertElementOnSelection(null, focusElement, windowTarget);\n      } else if (this.editMode === \'latex\') {\n        returnObject.latex = _latex__WEBPACK_IMPORTED_MODULE_4__["default"].getLatexFromMathML(mathml);\n        // this.integrationModel.getNonLatexNode is an integration wrapper\n        // to have special behaviours for nonLatex.\n        // Not all the integrations have special behaviours for nonLatex.\n        if (!!this.integrationModel.fillNonLatexNode && !returnObject.latex) {\n          var afterUpdateEvent = new _event__WEBPACK_IMPORTED_MODULE_9__["default"]();\n          afterUpdateEvent.editMode = this.editMode;\n          afterUpdateEvent.windowTarget = windowTarget;\n          afterUpdateEvent.focusElement = focusElement;\n          afterUpdateEvent.latex = returnObject.latex;\n          this.integrationModel.fillNonLatexNode(afterUpdateEvent, windowTarget, mathml);\n        } else {\n          returnObject.node = windowTarget.document.createTextNode("$$".concat(returnObject.latex, "$$"));\n        }\n        this.insertElementOnSelection(returnObject.node, focusElement, windowTarget);\n      } else {\n        returnObject.node = _parser__WEBPACK_IMPORTED_MODULE_0__["default"].mathmlToImgObject(windowTarget.document, mathml, wirisProperties, this.language);\n        this.insertElementOnSelection(returnObject.node, focusElement, windowTarget);\n      }\n      return returnObject;\n    }\n  }, {\n    key: "afterUpdateFormula",\n    value: function afterUpdateFormula(focusElement, windowTarget, node, latex) {\n      /**\n       * This event is fired after update the formula.\n       * @type {Event}\n       * @param {String} editMode - edit mode.\n       * @param {Object} windowTarget - target window.\n       * @param {Object} focusElement - target element to be focused after update.\n       * @param {String} latex - LaTeX generated by the formula (editMode=latex).\n       * @param {Object} node - node generated after update the formula (text if LaTeX img otherwise).\n       */\n      var afterUpdateEvent = new _event__WEBPACK_IMPORTED_MODULE_9__["default"]();\n      afterUpdateEvent.editMode = this.editMode;\n      afterUpdateEvent.windowTarget = windowTarget;\n      afterUpdateEvent.focusElement = focusElement;\n      afterUpdateEvent.node = node;\n      afterUpdateEvent.latex = latex;\n      if (this.listeners.fire(\'onAfterFormulaInsertion\', afterUpdateEvent)) {\n        return {};\n      }\n      if (Core.globalListeners.fire(\'onAfterFormulaInsertion\', afterUpdateEvent)) {\n        return {};\n      }\n      return {};\n    }\n\n    /**\n     * Sets the caret after a given Node and set the focus to the owner document.\n     * @param {Node} node - The Node element.\n     */\n  }, {\n    key: "placeCaretAfterNode",\n    value: function placeCaretAfterNode(node) {\n      this.integrationModel.getSelection();\n      var nodeDocument = node.ownerDocument;\n      if (typeof nodeDocument.getSelection !== \'undefined\' && !!node.parentElement) {\n        var range = nodeDocument.createRange();\n        range.setStartAfter(node);\n        range.collapse(true);\n        var selection = nodeDocument.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(range);\n        nodeDocument.body.focus();\n      }\n    }\n\n    /**\n     * Replaces a Selection object with an HTMLElement.\n     * @param {HTMLElement} element - The HTMLElement to replace the selection.\n     * @param {HTMLElement} focusElement - The HTMLElement to be focused after the replace.\n     * @param {Window} windowTarget - The window target.\n     */\n  }, {\n    key: "insertElementOnSelection",\n    value: function insertElementOnSelection(element, focusElement, windowTarget) {\n      if (this.editionProperties.isNewElement) {\n        if (element) {\n          if (focusElement.type === \'textarea\') {\n            _util__WEBPACK_IMPORTED_MODULE_1__["default"].updateTextArea(focusElement, element.textContent);\n          } else if (document.selection && document.getSelection === 0) {\n            var range = windowTarget.document.selection.createRange();\n            windowTarget.document.execCommand(\'InsertImage\', false, element.src);\n            if (!(\'parentElement\' in range)) {\n              windowTarget.document.execCommand(\'delete\', false);\n              range = windowTarget.document.selection.createRange();\n              windowTarget.document.execCommand(\'InsertImage\', false, element.src);\n            }\n            if (\'parentElement\' in range) {\n              var temporalObject = range.parentElement();\n              if (temporalObject.nodeName.toUpperCase() === \'IMG\') {\n                temporalObject.parentNode.replaceChild(element, temporalObject);\n              } else {\n                // IE9 fix: parentNode() does not return the IMG node,\n                // returns the parent DIV node. In IE < 9, pasteHTML does not work well.\n                range.pasteHTML(_util__WEBPACK_IMPORTED_MODULE_1__["default"].createObjectCode(element));\n              }\n            }\n          } else {\n            var editorSelection = this.integrationModel.getSelection();\n            var _range = null;\n            // In IE is needed keep the range due to after focus the modal window\n            // it can\'t be retrieved the last selection.\n            if (this.editionProperties.range) {\n              _range = this.editionProperties.range;\n              this.editionProperties.range = null;\n            } else {\n              _range = editorSelection.getRangeAt(0);\n            }\n\n            // Delete if something was surrounded.\n            _range.deleteContents();\n            var node = _range.startContainer;\n            var position = _range.startOffset;\n            if (node.nodeType === 3) {\n              // TEXT_NODE.\n              node = node.splitText(position);\n              node.parentNode.insertBefore(element, node);\n            } else if (node.nodeType === 1) {\n              // ELEMENT_NODE.\n              node.insertBefore(element, node.childNodes[position]);\n            }\n            this.placeCaretAfterNode(element);\n          }\n        } else if (focusElement.type === \'textarea\') {\n          focusElement.focus();\n        } else {\n          var _editorSelection = this.integrationModel.getSelection();\n          _editorSelection.removeAllRanges();\n          if (this.editionProperties.range) {\n            var _range2 = this.editionProperties.range;\n            this.editionProperties.range = null;\n            _editorSelection.addRange(_range2);\n          }\n        }\n      } else if (this.editionProperties.latexRange) {\n        if (document.selection && document.getSelection === 0) {\n          this.editionProperties.isNewElement = true;\n          this.editionProperties.latexRange.select();\n          this.insertElementOnSelection(element, focusElement, windowTarget);\n        } else {\n          this.editionProperties.latexRange.deleteContents();\n          this.editionProperties.latexRange.insertNode(element);\n          this.placeCaretAfterNode(element);\n        }\n      } else if (focusElement.type === \'textarea\') {\n        var item;\n        // Wrapper for some integrations that can have special behaviours to show latex.\n        if (typeof this.integrationModel.getSelectedItem !== \'undefined\') {\n          item = this.integrationModel.getSelectedItem(focusElement, false);\n        } else {\n          item = _util__WEBPACK_IMPORTED_MODULE_1__["default"].getSelectedItemOnTextarea(focusElement);\n        }\n        _util__WEBPACK_IMPORTED_MODULE_1__["default"].updateExistingTextOnTextarea(focusElement, element.textContent, item.startPosition, item.endPosition);\n      } else {\n        if (element && element.nodeName.toLowerCase() === \'img\') {\n          // Editor empty, formula has been erased on edit.\n          // There are editors (e.g: CKEditor) that put attributes in images.\n          // We don\'t allow that behaviour in our images.\n          _image__WEBPACK_IMPORTED_MODULE_11__["default"].removeImgDataAttributes(this.editionProperties.temporalImage);\n          // Clone is needed to maintain event references to temporalImage.\n          _image__WEBPACK_IMPORTED_MODULE_11__["default"].clone(element, this.editionProperties.temporalImage);\n        } else {\n          this.editionProperties.temporalImage.remove();\n        }\n        this.placeCaretAfterNode(this.editionProperties.temporalImage);\n      }\n    }\n\n    /**\n     * Opens a modal dialog containing MathType editor..\n     * @param {HTMLElement} target - The target HTMLElement where formulas should be inserted.\n     * @param {Boolean} isIframe - True if the target HTMLElement is an iframe. False otherwise.\n     */\n  }, {\n    key: "openModalDialog",\n    value: function openModalDialog(target, isIframe) {\n      var _this2 = this;\n      // Textarea elements don\'t have normal document ranges. It only accepts latex edit.\n      this.editMode = \'images\';\n\n      // In IE is needed keep the range due to after focus the modal window\n      // it can\'t be retrieved the last selection.\n      try {\n        if (isIframe) {\n          // Is needed focus the target first.\n          target.contentWindow.focus();\n          var selection = target.contentWindow.getSelection();\n          this.editionProperties.range = selection.getRangeAt(0);\n        } else {\n          // Is needed focus the target first.\n          target.focus();\n          var _selection = getSelection();\n          this.editionProperties.range = _selection.getRangeAt(0);\n        }\n      } catch (e) {\n        this.editionProperties.range = null;\n      }\n      if (isIframe === undefined) {\n        isIframe = true;\n      }\n      this.editionProperties.latexRange = null;\n      if (target) {\n        var selectedItem;\n        if (typeof this.integrationModel.getSelectedItem !== \'undefined\') {\n          selectedItem = this.integrationModel.getSelectedItem(target, isIframe);\n        } else {\n          selectedItem = _util__WEBPACK_IMPORTED_MODULE_1__["default"].getSelectedItem(target, isIframe);\n        }\n\n        // Check LaTeX if and only if the node is a text node (nodeType==3).\n        if (selectedItem) {\n          // Case when image was selected and button pressed.\n          if (!selectedItem.caretPosition && _util__WEBPACK_IMPORTED_MODULE_1__["default"].containsClass(selectedItem.node, _configuration__WEBPACK_IMPORTED_MODULE_7__["default"].get(\'imageClassName\'))) {\n            this.editionProperties.temporalImage = selectedItem.node;\n            this.editionProperties.isNewElement = false;\n          } else if (selectedItem.node.nodeType === 3) {\n            // If it\'s a text node means that editor is working with LaTeX.\n            if (this.integrationModel.getMathmlFromTextNode) {\n              // If integration has this function it isn\'t set range due to we don\'t\n              // know if it will be put into a textarea as a text or image.\n              var mathml = this.integrationModel.getMathmlFromTextNode(selectedItem.node, selectedItem.caretPosition);\n              if (mathml) {\n                this.editMode = \'latex\';\n                this.editionProperties.isNewElement = false;\n                this.editionProperties.temporalImage = document.createElement(\'img\');\n                this.editionProperties.temporalImage.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_7__["default"].get(\'imageMathmlAttribute\'), _mathml__WEBPACK_IMPORTED_MODULE_5__["default"].safeXmlEncode(mathml));\n              }\n            } else {\n              var latexResult = _latex__WEBPACK_IMPORTED_MODULE_4__["default"].getLatexFromTextNode(selectedItem.node, selectedItem.caretPosition);\n              if (latexResult) {\n                var _mathml = _latex__WEBPACK_IMPORTED_MODULE_4__["default"].getMathMLFromLatex(latexResult.latex);\n                this.editMode = \'latex\';\n                this.editionProperties.isNewElement = false;\n                this.editionProperties.temporalImage = document.createElement(\'img\');\n                this.editionProperties.temporalImage.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_7__["default"].get(\'imageMathmlAttribute\'), _mathml__WEBPACK_IMPORTED_MODULE_5__["default"].safeXmlEncode(_mathml));\n                var windowTarget = isIframe ? target.contentWindow : window;\n                if (target.tagName.toLowerCase() !== \'textarea\') {\n                  if (document.selection) {\n                    var leftOffset = 0;\n                    var previousNode = latexResult.startNode.previousSibling;\n                    while (previousNode) {\n                      leftOffset += _util__WEBPACK_IMPORTED_MODULE_1__["default"].getNodeLength(previousNode);\n                      previousNode = previousNode.previousSibling;\n                    }\n                    this.editionProperties.latexRange = windowTarget.document.selection.createRange();\n                    this.editionProperties.latexRange.moveToElementText(latexResult.startNode.parentNode);\n                    this.editionProperties.latexRange.move(\'character\', leftOffset + latexResult.startPosition);\n                    this.editionProperties.latexRange.moveEnd(\'character\', latexResult.latex.length + 4); // Plus 4 for the \'$$\' characters.\n                  } else {\n                    this.editionProperties.latexRange = windowTarget.document.createRange();\n                    this.editionProperties.latexRange.setStart(latexResult.startNode, latexResult.startPosition);\n                    this.editionProperties.latexRange.setEnd(latexResult.endNode, latexResult.endPosition);\n                  }\n                }\n              }\n            }\n          }\n        } else if (target.tagName.toLowerCase() === \'textarea\') {\n          // By default editMode is \'images\', but when target is a textarea it needs to be \'latex\'.\n          this.editMode = \'latex\';\n        }\n      }\n\n      // Setting an object with the editor parameters.\n      // Editor parameters can be customized in several ways:\n      // 1 - editorAttributes: Contains the default editor attributes,\n      //  usually the metrics in a comma separated string. Always exists.\n      // 2 - editorParameters: Object containing custom editor parameters.\n      // These parameters are defined in the backend. So they affects all integration instances.\n\n      // The backend send the default editor attributes in a coma separated\n      // with the following structure: key1=value1,key2=value2...\n      var defaultEditorAttributesArray = _configuration__WEBPACK_IMPORTED_MODULE_7__["default"].get(\'editorAttributes\').split(\', \');\n      var defaultEditorAttributes = {};\n      for (var i = 0, len = defaultEditorAttributesArray.length; i < len; i += 1) {\n        var tempAttribute = defaultEditorAttributesArray[i].split(\'=\');\n        var key = tempAttribute[0];\n        var value = tempAttribute[1];\n        defaultEditorAttributes[key] = value;\n      }\n      // Custom editor parameters.\n      var editorAttributes = {};\n      // Editor parameters in backend, usually configuration.ini.\n      var serverEditorParameters = _configuration__WEBPACK_IMPORTED_MODULE_7__["default"].get(\'editorParameters\');\n      // Editor parameters through JavaScript configuration.\n      var cliendEditorParameters = this.integrationModel.editorParameters;\n      Object.assign(editorAttributes, defaultEditorAttributes, serverEditorParameters);\n      Object.assign(editorAttributes, defaultEditorAttributes, cliendEditorParameters);\n      editorAttributes.language = this.language;\n      editorAttributes.rtl = this.integrationModel.rtl;\n      var contentManagerAttributes = {};\n      contentManagerAttributes.editorAttributes = editorAttributes;\n      contentManagerAttributes.language = this.language;\n      contentManagerAttributes.customEditors = this.customEditors;\n      contentManagerAttributes.environment = this.environment;\n      if (this.modalDialog == null) {\n        this.modalDialog = new _modal__WEBPACK_IMPORTED_MODULE_13__["default"](editorAttributes);\n        this.contentManager = new _contentmanager__WEBPACK_IMPORTED_MODULE_3__["default"](contentManagerAttributes);\n        // When an instance of ContentManager is created we need to wait until\n        // the ContentManager is ready by listening \'onLoad\' event.\n        var listener = _listeners__WEBPACK_IMPORTED_MODULE_10__["default"].newListener(\'onLoad\', function () {\n          _this2.contentManager.isNewElement = _this2.editionProperties.isNewElement;\n          if (_this2.editionProperties.temporalImage != null) {\n            var mathML = _mathml__WEBPACK_IMPORTED_MODULE_5__["default"].safeXmlDecode(_this2.editionProperties.temporalImage.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_7__["default"].get(\'imageMathmlAttribute\')));\n            _this2.contentManager.mathML = mathML;\n          }\n        });\n        this.contentManager.addListener(listener);\n        this.contentManager.init();\n        this.modalDialog.setContentManager(this.contentManager);\n        this.contentManager.setModalDialogInstance(this.modalDialog);\n      } else {\n        this.contentManager.isNewElement = this.editionProperties.isNewElement;\n        if (this.editionProperties.temporalImage != null) {\n          var mathML = _mathml__WEBPACK_IMPORTED_MODULE_5__["default"].safeXmlDecode(this.editionProperties.temporalImage.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_7__["default"].get(\'imageMathmlAttribute\')));\n          this.contentManager.mathML = mathML;\n        }\n      }\n      this.contentManager.setIntegrationModel(this.integrationModel);\n      this.modalDialog.open();\n    }\n\n    /**\n     * Returns the {@link CustomEditors} instance.\n     * @return {CustomEditors} The current {@link CustomEditors} instance.\n     */\n  }, {\n    key: "getCustomEditors",\n    value: function getCustomEditors() {\n      return this.customEditors;\n    }\n  }], [{\n    key: "globalListeners",\n    get: function get() {\n      return Core._globalListeners;\n    }\n\n    /**\n     * Static property setter.\n     * Set core listeners.\n     * @param {Listeners} value - The property value.\n     * @ignore\n     */,\n    set: function set(value) {\n      Core._globalListeners = value;\n    }\n\n    /**\n     * Core state. Says if it was loaded previously.\n     * True when Core.init was called. Otherwise, false.\n     * @private\n     * @type {Boolean}\n     */\n  }, {\n    key: "initialized",\n    get: function get() {\n      return Core._initialized;\n    }\n\n    /**\n     * Core state. Says if it was loaded previously.\n     * @param {Boolean} value - True to say that Core.init was called. Otherwise, false.\n     * @ignore\n     */,\n    set: function set(value) {\n      Core._initialized = value;\n    }\n  }, {\n    key: "addGlobalListener",\n    value: function addGlobalListener(listener) {\n      Core.globalListeners.add(listener);\n    }\n  }]);\n  return Core;\n}();\n/**\n * Core static listeners.\n * @type {Listeners}\n * @private\n */\n\nCore._globalListeners = new _listeners__WEBPACK_IMPORTED_MODULE_10__["default"]();\n\n/**\n * Resources state. Says if they were loaded or not.\n * @type {Boolean}\n * @private\n */\nCore._initialized = false;\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/core.src.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/customeditors.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ CustomEditors)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/**\n * A custom editor is MathType editor with a different\n * @typedef {Object} CustomEditor\n * @property {String} CustomEditor.name - Custom editor name.\n * @property {String} CustomEditor.toolbar - Custom editor toolbar.\n * @property {String} CustomEditor.icon - Custom editor icon.\n * @property {String} CustomEditor.confVariable - Configuration property to manage\n * the availability of the custom editor.\n * @property {String} CustomEditor.title - Custom editor modal dialog title.\n * @property {String} CustomEditor.tooltip - Custom editor icon tooltip.\n */\nvar CustomEditors = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represents the MathType custom editors manager.\n   * A custom editor is MathType editor with a custom  toolbar.\n   * This class associates a {@link CustomEditor} to:\n   * - It\'s own formulas\n   * - A custom toolbar\n   * - An icon to open it from a HTML editor.\n   * - A tooltip for the icon.\n   * - A global variable to enable or disable it globally.\n   * @constructs\n   */\n  function CustomEditors() {\n    _classCallCheck(this, CustomEditors);\n    /**\n     * The custom editors.\n     * @type {Array.<CustomEditor>}\n     */\n\n    this.editors = [];\n    /**\n     * The active editor name.\n     * @type {String}\n     */\n    this.activeEditor = \'default\';\n  }\n\n  /**\n   * Adds a {@link CustomEditor} to editors array.\n   * @param {String} editorName - The editor name.\n   * @param {CustomEditor} editorParams - The custom editor parameters.\n   */\n  _createClass(CustomEditors, [{\n    key: "addEditor",\n    value: function addEditor(editorName, editorParams) {\n      var customEditor = {};\n      customEditor.name = editorParams.name;\n      customEditor.toolbar = editorParams.toolbar;\n      customEditor.icon = editorParams.icon;\n      customEditor.confVariable = editorParams.confVariable;\n      customEditor.title = editorParams.title;\n      customEditor.tooltip = editorParams.tooltip;\n      this.editors[editorName] = customEditor;\n    }\n\n    /**\n     * Enables a {@link CustomEditor}.\n     * @param {String} customEditorName - The custom editor name.\n     */\n  }, {\n    key: "enable",\n    value: function enable(customEditorName) {\n      this.activeEditor = customEditorName;\n    }\n\n    /**\n     * Disables a {@link CustomEditor}.\n     */\n  }, {\n    key: "disable",\n    value: function disable() {\n      this.activeEditor = \'default\';\n    }\n\n    /**\n     * Returns the active editor.\n     * @return {CustomEditor} - A {@link CustomEditor} if a custom editor is enabled. Null otherwise.\n     */\n  }, {\n    key: "getActiveEditor",\n    value: function getActiveEditor() {\n      if (this.activeEditor !== \'default\') {\n        return this.editors[this.activeEditor];\n      }\n      return null;\n    }\n  }]);\n  return CustomEditors;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/customeditors.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/editorlistener.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ EditorListener)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-extra-semi */\n// The rules above are disabled because we are implementing\n// an external interface.\nvar EditorListener = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * Determines if the content of the\n   * MathType Editor has changes.\n   * @implements {EditorListeners}\n   * @constructs\n   */\n  function EditorListener() {\n    _classCallCheck(this, EditorListener);\n    /**\n     * Indicates if the content of the editor has changed.\n     * @type {Boolean}\n     */\n    this.isContentChanged = false;\n\n    /**\n     * Indicates if the listener should be waiting for changes in the editor.\n     * @type {Boolean}\n     */\n    this.waitingForChanges = false;\n  }\n\n  /**\n   * Sets {@link EditorListener.isContentChanged} property.\n   * @param {Boolean} value - The new vlue.\n   */\n  _createClass(EditorListener, [{\n    key: "setIsContentChanged",\n    value: function setIsContentChanged(value) {\n      this.isContentChanged = value;\n    }\n\n    /**\n     * Returns true if the content of the editor has been changed, false otherwise.\n     * @return {Boolean}\n     */\n  }, {\n    key: "getIsContentChanged",\n    value: function getIsContentChanged() {\n      return this.isContentChanged;\n    }\n  }, {\n    key: "setWaitingForChanges",\n    value:\n    /**\n     * Determines if the EditorListener should wait for any changes.\n     * @param {Boolean} value - True if the editor should wait for changes, false otherwise.\n     */\n    function setWaitingForChanges(value) {\n      this.waitingForChanges = value;\n    }\n\n    /**\n     * EditorListener method to overwrite.\n     * @type {JsEditor}\n     * @ignore\n     */\n  }, {\n    key: "caretPositionChanged",\n    value: function caretPositionChanged(_editor) {}\n  }, {\n    key: "clipboardChanged",\n    value:\n    /**\n     * EditorListener method to overwrite\n     * @type {JsEditor}\n     * @ignore\n     */\n    function clipboardChanged(_editor) {}\n  }, {\n    key: "contentChanged",\n    value:\n    /**\n     * Determines if the content of an editor has been changed.\n     * @param {JsEditor} editor - editor object.\n     */\n    function contentChanged(_editor) {\n      if (this.waitingForChanges === true && this.isContentChanged === false) {\n        this.isContentChanged = true;\n      }\n    }\n\n    /**\n     * EditorListener method to overwrite\n     * @param {JsEditor} editor - The editor instance.\n     */\n  }, {\n    key: "styleChanged",\n    value: function styleChanged(_editor) {}\n\n    /**\n     * EditorListener method to overwrite\n     * @param {JsEditor} - The editor instance.\n     */\n  }, {\n    key: "transformationReceived",\n    value: function transformationReceived(_editor) {}\n  }]);\n  return EditorListener;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/editorlistener.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/event.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Event)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nvar Event = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represents a custom event. Events should be fired by the {@link Listener} class.\n   *\n   * ```js\n   *  let customEvent = new Event();\n   *  customEvent.properties = {};\n   *\n   *  let listeners = new Listeners();\n   *  listeners.newListener(eventName, callback);\n   *\n   *  listeners.fire(eventName, customEvent) *\n   * ```\n   * @constructs\n   */\n  function Event() {\n    _classCallCheck(this, Event);\n    /**\n     * Indicates if the event should be cancelled.\n     * @type {Boolean}\n     */\n\n    this.cancelled = false;\n    /**\n     * Indicates if the event should be prevented.\n     * @type {Boolean}\n     */\n    this.defaultPrevented = false;\n  }\n\n  /**\n   * Cancels the event.\n   */\n  _createClass(Event, [{\n    key: "cancel",\n    value: function cancel() {\n      this.cancelled = true;\n    }\n\n    /**\n     * Prevents the default action.\n     */\n  }, {\n    key: "preventDefault",\n    value: function preventDefault() {\n      this.defaultPrevented = true;\n    }\n  }]);\n  return Event;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/event.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Image)\n/* harmony export */ });\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configuration */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n/**\n * @classdesc\n * This class represents MathType Image class. Contains all the logic related\n * to MathType images manipulation.\n * All MathType images are generated using the appropriate MathType\n * integration service: showimage or createimage.\n *\n * There are two available image formats:\n * - svg (default)\n * - png\n *\n * There are two formats for the image src attribute:\n * - A data-uri scheme containing the URL-encoded SVG or a PNG\'s base64.\n * - A link to the showimage service.\n */\nvar Image = /*#__PURE__*/function () {\n  function Image() {\n    _classCallCheck(this, Image);\n  }\n  _createClass(Image, null, [{\n    key: "removeImgDataAttributes",\n    value:\n    /**\n     * Removes data attributes from an image.\n     * @param {HTMLImageElement} img - Image where remove data attributes.\n     */\n    function removeImgDataAttributes(img) {\n      var attributesToRemove = [];\n      var attributes = img.attributes;\n      Object.keys(attributes).forEach(function (key) {\n        var attribute = attributes[key];\n        if (attribute !== undefined && attribute.name !== undefined && attribute.name.indexOf(\'data-\') === 0) {\n          // Is preferred keep an array and remove after the search\n          // because when attribute is removed the array of attributes\n          // is modified.\n          attributesToRemove.push(attribute.name);\n        }\n      });\n      attributesToRemove.forEach(function (attribute) {\n        img.removeAttribute(attribute);\n      });\n    }\n\n    /**\n     * @static\n     * Clones all MathType image attributes from a HTMLImageElement to another.\n     * @param {HTMLImageElement} originImg - The original image.\n     * @param {HTMLImageElement} destImg - The destination image.\n     */\n  }, {\n    key: "clone",\n    value: function clone(originImg, destImg) {\n      var customEditorAttributeName = _configuration__WEBPACK_IMPORTED_MODULE_0__["default"].get(\'imageCustomEditorName\');\n      if (!originImg.hasAttribute(customEditorAttributeName)) {\n        destImg.removeAttribute(customEditorAttributeName);\n      }\n      var mathmlAttributeName = _configuration__WEBPACK_IMPORTED_MODULE_0__["default"].get(\'imageMathmlAttribute\');\n      var imgAttributes = [mathmlAttributeName, customEditorAttributeName, \'alt\', \'height\', \'width\', \'style\', \'src\', \'role\'];\n      imgAttributes.forEach(function (iterator) {\n        var originAttribute = originImg.getAttribute(iterator);\n        if (originAttribute) {\n          destImg.setAttribute(iterator, originAttribute);\n        }\n      });\n    }\n\n    /**\n    * Calculates the metrics of a MathType image given the the service response and the image format.\n    * @param {HTMLImageElement} img - The HTMLImageElement.\n    * @param {String} uri - The URI generated by the image service: can be a data URI scheme or a URL.\n    * @param {Boolean} jsonResponse - True the response of the image service is a\n    * JSON object. False otherwise.\n    */\n  }, {\n    key: "setImgSize",\n    value: function setImgSize(img, uri, jsonResponse) {\n      var ar;\n      var base64String;\n      var bytes;\n      var svgString;\n      if (jsonResponse) {\n        // Cleaning data:image/png;base64.\n        if (_configuration__WEBPACK_IMPORTED_MODULE_0__["default"].get(\'imageFormat\') === \'svg\') {\n          // SVG format.\n          // If SVG is encoded in base64 we need to convert the base64 bytes into a SVG string.\n          if (_configuration__WEBPACK_IMPORTED_MODULE_0__["default"].get(\'saveMode\') !== \'base64\') {\n            ar = Image.getMetricsFromSvgString(uri);\n          } else {\n            base64String = img.src.substr(img.src.indexOf(\'base64,\') + 7, img.src.length);\n            svgString = \'\';\n            bytes = _util__WEBPACK_IMPORTED_MODULE_1__["default"].b64ToByteArray(base64String, base64String.length);\n            for (var i = 0; i < bytes.length; i += 1) {\n              svgString += String.fromCharCode(bytes[i]);\n            }\n            ar = Image.getMetricsFromSvgString(svgString);\n          }\n          // PNG format: we store all metrics information in the first 88 bytes.\n        } else {\n          base64String = img.src.substr(img.src.indexOf(\'base64,\') + 7, img.src.length);\n          bytes = _util__WEBPACK_IMPORTED_MODULE_1__["default"].b64ToByteArray(base64String, 88);\n          ar = Image.getMetricsFromBytes(bytes);\n        }\n        // Backwards compatibility: we store the metrics into createimage response.\n      } else {\n        ar = _util__WEBPACK_IMPORTED_MODULE_1__["default"].urlToAssArray(uri);\n      }\n      var width = ar.cw;\n      if (!width) {\n        return;\n      }\n      var height = ar.ch;\n      var baseline = ar.cb;\n      var _ar = ar,\n        dpi = _ar.dpi;\n      if (dpi) {\n        width = width * 96 / dpi;\n        height = height * 96 / dpi;\n        baseline = baseline * 96 / dpi;\n      }\n      img.width = width;\n      img.height = height;\n      img.style.verticalAlign = "-".concat(height - baseline, "px");\n    }\n\n    /**\n     * Calculates the metrics of an image which has been resized. Is used to restore the original\n     * metrics of a resized image.\n     * @param {HTMLImageElement } img - The resized HTMLImageElement.\n     */\n  }, {\n    key: "fixAfterResize",\n    value: function fixAfterResize(img) {\n      img.removeAttribute(\'style\');\n      img.removeAttribute(\'width\');\n      img.removeAttribute(\'height\');\n      // In order to avoid resize with max-width css property.\n      img.style.maxWidth = \'none\';\n      if (img.src.indexOf(\'data:image\') !== -1) {\n        if (_configuration__WEBPACK_IMPORTED_MODULE_0__["default"].get(\'imageFormat\') === \'svg\') {\n          // ...data:image/svg+xml;charset=utf8, = 32.\n          var svg = decodeURIComponent(img.src.substring(32, img.src.length));\n          Image.setImgSize(img, svg, true);\n        } else {\n          // ...data:image/png;base64, == 22.\n          var base64 = img.src.substring(22, img.src.length);\n          Image.setImgSize(img, base64, true);\n        }\n      } else {\n        Image.setImgSize(img, img.src);\n      }\n    }\n\n    /**\n     * Returns the metrics (height, width and baseline) contained in a SVG image generated\n     * by the MathType image service. This image contains as an extra custom attribute:\n     * the baseline (wrs:baseline).\n     * @param {String} svgString - The SVG image.\n     * @return {Array} - The image metrics.\n     */\n  }, {\n    key: "getMetricsFromSvgString",\n    value: function getMetricsFromSvgString(svgString) {\n      var first = svgString.indexOf(\'height="\');\n      var last = svgString.indexOf(\'"\', first + 8, svgString.length);\n      var height = svgString.substring(first + 8, last);\n      first = svgString.indexOf(\'width="\');\n      last = svgString.indexOf(\'"\', first + 7, svgString.length);\n      var width = svgString.substring(first + 7, last);\n      first = svgString.indexOf(\'wrs:baseline="\');\n      last = svgString.indexOf(\'"\', first + 14, svgString.length);\n      var baseline = svgString.substring(first + 14, last);\n      if (typeof width !== \'undefined\') {\n        var arr = [];\n        arr.cw = width;\n        arr.ch = height;\n        if (typeof baseline !== \'undefined\') {\n          arr.cb = baseline;\n        }\n        return arr;\n      }\n      return [];\n    }\n\n    /**\n     * Returns the metrics (width, height, baseline and dpi) contained in a PNG byte array.\n     * @param  {Array.<Bytes>} bytes - png byte array.\n     * @return {Array} The png metrics.\n     */\n  }, {\n    key: "getMetricsFromBytes",\n    value: function getMetricsFromBytes(bytes) {\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].readBytes(bytes, 0, 8);\n      var width;\n      var height;\n      var typ;\n      var baseline;\n      var dpi;\n      while (bytes.length >= 4) {\n        typ = _util__WEBPACK_IMPORTED_MODULE_1__["default"].readInt32(bytes);\n        if (typ === 0x49484452) {\n          width = _util__WEBPACK_IMPORTED_MODULE_1__["default"].readInt32(bytes);\n          height = _util__WEBPACK_IMPORTED_MODULE_1__["default"].readInt32(bytes);\n          // Read 5 bytes.\n          _util__WEBPACK_IMPORTED_MODULE_1__["default"].readInt32(bytes);\n          _util__WEBPACK_IMPORTED_MODULE_1__["default"].readByte(bytes);\n        } else if (typ === 0x62615345) {\n          // Baseline: \'baSE\'.\n          baseline = _util__WEBPACK_IMPORTED_MODULE_1__["default"].readInt32(bytes);\n        } else if (typ === 0x70485973) {\n          // Dpis: \'pHYs\'.\n          dpi = _util__WEBPACK_IMPORTED_MODULE_1__["default"].readInt32(bytes);\n          dpi = Math.round(dpi / 39.37);\n          _util__WEBPACK_IMPORTED_MODULE_1__["default"].readInt32(bytes);\n          _util__WEBPACK_IMPORTED_MODULE_1__["default"].readByte(bytes);\n        }\n        _util__WEBPACK_IMPORTED_MODULE_1__["default"].readInt32(bytes);\n      }\n      if (typeof width !== \'undefined\') {\n        var arr = [];\n        arr.cw = width;\n        arr.ch = height;\n        arr.dpi = dpi;\n        if (baseline) {\n          arr.cb = baseline;\n        }\n        return arr;\n      }\n      return [];\n    }\n  }]);\n  return Image;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/image.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/integrationmodel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ IntegrationModel)\n/* harmony export */ });\n/* harmony import */ var _core_src__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.src */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/core.src.js");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./image */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/image.js");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./listeners */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./configuration */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./serviceprovider */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/serviceprovider.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n// eslint-disable-next-line no-unused-vars, import/named\n\n\n\n\n\n\n\n/**\n * @typedef {Object} IntegrationModelProperties\n * @property {string} configurationService - Configuration service path.\n * This parameter is needed to determine all services paths.\n * @property {HTMLElement} integrationModelProperties.target - HTML target.\n * @property {string} integrationModelProperties.scriptName - Integration script name.\n * Usually the name of the integration script.\n * @property {Object} integrationModelProperties.environment - integration environment properties.\n * @property {Object} [integrationModelProperties.callbackMethodArguments] - object containing\n * callback method arguments.\n * @property {string} [integrationModelProperties.version] - integration version number.\n * @property {Object} [integrationModelProperties.editorObject] - object containing\n * the integration editor instance.\n * @property {boolean} [integrationModelProperties.rtl] - true if the editor is in RTL mode.\n * false otherwise.\n * @property {ServiceProviderProperties} [integrationModelProperties.serviceProviderProperties]\n * - The service parameters.\n * @property {Object} [integrationModelProperties.integrationParameters]\n * - Overwritten integration parameters.\n */\nvar IntegrationModel = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represents an integration model, allowing the integration script to\n   * communicate with Core class. Each integration must extend this class.\n   * @constructs\n   * @param {IntegrationModelProperties} integrationModelProperties\n   */\n  function IntegrationModel(integrationModelProperties) {\n    var _this = this;\n    _classCallCheck(this, IntegrationModel);\n    /**\n     * Language. Needed for accessibility and locales. English by default.\n     */\n    this.language = \'en\';\n\n    /**\n     * Service parameters\n     * @type {ServiceProviderProperties}\n     */\n    this.serviceProviderProperties = {};\n    if (\'serviceProviderProperties\' in integrationModelProperties) {\n      this.serviceProviderProperties = integrationModelProperties.serviceProviderProperties;\n    }\n\n    /**\n     * Configuration service path. The integration service is needed by Core class to\n     * load all the backend configuration into the frontend and also to create the paths\n     * of all services (all services lives in the same route). Mandatory property.\n     */\n    this.configurationService = \'\';\n    if (\'configurationService\' in integrationModelProperties) {\n      this.serviceProviderProperties.URI = integrationModelProperties.configurationService;\n      console.warn(\'Deprecated property configurationService. Use serviceParameters on instead.\', [integrationModelProperties.configurationService]);\n    }\n\n    /**\n     * Plugin version. Needed to stats and caching.\n     * @type {string}\n     */\n    this.version = \'version\' in integrationModelProperties ? integrationModelProperties.version : \'\';\n\n    /**\n     * DOM target in which the plugin works. Needed to associate events, insert formulas, etc.\n     * Mandatory property.\n     */\n    this.target = null;\n    if (\'target\' in integrationModelProperties) {\n      this.target = integrationModelProperties.target;\n    } else {\n      throw new Error(\'IntegrationModel constructor error: target property missed.\');\n    }\n\n    /**\n     * Integration script name. Needed to know the plugin path.\n     */\n    if (\'scriptName\' in integrationModelProperties) {\n      this.scriptName = integrationModelProperties.scriptName;\n    }\n\n    /**\n     * Object containing the arguments needed by the callback function.\n     */\n    this.callbackMethodArguments = {};\n    if (\'callbackMethodArguments\' in integrationModelProperties) {\n      this.callbackMethodArguments = integrationModelProperties.callbackMethodArguments;\n    }\n\n    /**\n     * Contains information about the integration environment:\n     * like the name of the editor, the version, etc.\n     */\n    this.environment = {};\n    if (\'environment\' in integrationModelProperties) {\n      this.environment = integrationModelProperties.environment;\n    }\n\n    /**\n     * Indicates if the DOM target is - or not - and iframe.\n     */\n    this.isIframe = false;\n    if (this.target != null) {\n      this.isIframe = this.target.tagName.toUpperCase() === \'IFRAME\';\n    }\n\n    /**\n     * Instance of the integration editor object. Usually the entry point to access the API\n     * of a HTML editor.\n     */\n    this.editorObject = null;\n    if (\'editorObject\' in integrationModelProperties) {\n      this.editorObject = integrationModelProperties.editorObject;\n    }\n\n    /**\n     * Specifies if the direction of the text is RTL. false by default.\n     */\n    this.rtl = false;\n    if (\'rtl\' in integrationModelProperties) {\n      this.rtl = integrationModelProperties.rtl;\n    }\n\n    /**\n     * Specifies if the integration model exposes the locale strings. false by default.\n     */\n    this.managesLanguage = false;\n    if (\'managesLanguage\' in integrationModelProperties) {\n      this.managesLanguage = integrationModelProperties.managesLanguage;\n    }\n\n    /**\n     * Indicates if an image is selected. Needed to resize the image to the original size in case\n     * the image is resized.\n     * @type {boolean}\n     */\n    this.temporalImageResizing = false;\n\n    /**\n     * The Core class instance associated to the integration model.\n     * @type {Core}\n     */\n    this.core = null;\n\n    /**\n     * Integration model listeners.\n     * @type {Listeners}\n     */\n    this.listeners = new _listeners__WEBPACK_IMPORTED_MODULE_2__["default"]();\n\n    // Parameters overwrite.\n    if (\'integrationParameters\' in integrationModelProperties) {\n      IntegrationModel.integrationParameters.forEach(function (parameter) {\n        if (parameter in integrationModelProperties.integrationParameters) {\n          // Don\'t add empty parameters.\n          var value = integrationModelProperties.integrationParameters[parameter];\n          if (Object.keys(value).length !== 0) {\n            _this[parameter] = value;\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Init function. Usually called from the integration side once the core.js file is loaded.\n   */\n  _createClass(IntegrationModel, [{\n    key: "init",\n    value: function init() {\n      var _this2 = this;\n      // Check if language is an object and select the property necessary\n      this.language = this.getLanguage();\n\n      // We need to wait until Core class is loaded (\'onLoad\' event) before\n      // call the callback method.\n      var listener = _listeners__WEBPACK_IMPORTED_MODULE_2__["default"].newListener(\'onLoad\', function () {\n        _this2.callbackFunction(_this2.callbackMethodArguments);\n      });\n\n      // Backwards compatibility.\n      if (this.serviceProviderProperties.URI.indexOf(\'configuration\') !== -1) {\n        var uri = this.serviceProviderProperties.URI;\n        var server = _serviceprovider__WEBPACK_IMPORTED_MODULE_5__["default"].getServerLanguageFromService(uri);\n        this.serviceProviderProperties.server = server;\n        var configurationIndex = this.serviceProviderProperties.URI.indexOf(\'configuration\');\n        var subsTring = this.serviceProviderProperties.URI.substring(0, configurationIndex);\n        this.serviceProviderProperties.URI = subsTring;\n      }\n      var serviceParametersURI = this.serviceProviderProperties.URI;\n      serviceParametersURI = serviceParametersURI.indexOf(\'/\') === 0 || serviceParametersURI.indexOf(\'http\') === 0 ? serviceParametersURI : _util__WEBPACK_IMPORTED_MODULE_3__["default"].concatenateUrl(this.getPath(), serviceParametersURI);\n      this.serviceProviderProperties.URI = serviceParametersURI;\n      var coreProperties = {};\n      coreProperties.serviceProviderProperties = this.serviceProviderProperties;\n      this.setCore(new _core_src__WEBPACK_IMPORTED_MODULE_0__["default"](coreProperties));\n      this.core.addListener(listener);\n      this.core.language = this.language;\n\n      // Initializing Core class.\n      this.core.init();\n      // TODO: Move to Core constructor.\n      this.core.setEnvironment(this.environment);\n    }\n\n    /**\n     * Returns the absolute path of the integration script.\n     * @return {string} - Absolute path for the integration script.\n     */\n  }, {\n    key: "getPath",\n    value: function getPath() {\n      if (typeof this.scriptName === \'undefined\') {\n        throw new Error(\'scriptName property needed for getPath.\');\n      }\n      var col = document.getElementsByTagName(\'script\');\n      var path = \'\';\n      for (var i = 0; i < col.length; i += 1) {\n        var j = col[i].src.lastIndexOf(this.scriptName);\n        if (j >= 0) {\n          path = col[i].src.substr(0, j - 1);\n        }\n      }\n      return path;\n    }\n\n    /**\n     * Returns integration model plugin version\n     * @param {string} - Plugin version\n     */\n  }, {\n    key: "getVersion",\n    value: function getVersion() {\n      return this.version;\n    }\n\n    /**\n     * Sets the language property.\n     * @param {string} language - language code.\n     */\n  }, {\n    key: "setLanguage",\n    value: function setLanguage(language) {\n      this.language = language;\n    }\n\n    /**\n     * Sets a Core instance.\n     * @param {Core} core - instance of Core class.\n     */\n  }, {\n    key: "setCore",\n    value: function setCore(core) {\n      this.core = core;\n      core.setIntegrationModel(this);\n    }\n\n    /**\n     * Returns the Core instance.\n     * @returns {Core} instance of Core class.\n     */\n  }, {\n    key: "getCore",\n    value: function getCore() {\n      return this.core;\n    }\n\n    /**\n     * Sets the object target and updates the iframe property.\n     * @param {HTMLElement} target - target object.\n     */\n  }, {\n    key: "setTarget",\n    value: function setTarget(target) {\n      this.target = target;\n      this.isIframe = this.target.tagName.toUpperCase() === \'IFRAME\';\n    }\n\n    /**\n     * Sets the editor object.\n     * @param {Object} editorObject - The editor object.\n     */\n  }, {\n    key: "setEditorObject",\n    value: function setEditorObject(editorObject) {\n      this.editorObject = editorObject;\n    }\n\n    /**\n     * Opens formula editor to editing a new formula. Can be overwritten in order to make some\n     * actions from integration part before the formula is edited.\n     */\n  }, {\n    key: "openNewFormulaEditor",\n    value: function openNewFormulaEditor() {\n      this.core.editionProperties.isNewElement = true;\n      this.core.openModalDialog(this.target, this.isIframe);\n    }\n\n    /**\n     * Opens formula editor to editing an existing formula. Can be overwritten in order to make some\n     * actions from integration part before the formula is edited.\n     */\n  }, {\n    key: "openExistingFormulaEditor",\n    value: function openExistingFormulaEditor() {\n      this.core.editionProperties.isNewElement = false;\n      this.core.openModalDialog(this.target, this.isIframe);\n    }\n\n    /**\n     * Wrapper to Core.updateFormula method.\n     * Transform a MathML into a image formula.\n     * Then the image formula is inserted in the specified target, creating a new image (new formula)\n     * or updating an existing one.\n     * @param {string} mathml - MathML to generate the formula.\n     * @param {string} editMode - Edit Mode (LaTeX or images).\n     */\n  }, {\n    key: "updateFormula",\n    value: function updateFormula(mathml) {\n      if (this.editorParameters) {\n        mathml = com.wiris.editor.util.EditorUtils.addAnnotation(mathml, \'application/vnd.wiris.mtweb-params+json\', JSON.stringify(this.editorParameters));\n      }\n      var focusElement;\n      var windowTarget;\n      var wirisProperties = null;\n      if (this.isIframe) {\n        focusElement = this.target.contentWindow;\n        windowTarget = this.target.contentWindow;\n      } else {\n        focusElement = this.target;\n        windowTarget = window;\n      }\n      var obj = this.core.beforeUpdateFormula(mathml, wirisProperties);\n      if (!obj) {\n        return \'\';\n      }\n      obj = this.insertFormula(focusElement, windowTarget, obj.mathml, obj.wirisProperties);\n      if (!obj) {\n        return \'\';\n      }\n      return this.core.afterUpdateFormula(obj.focusElement, obj.windowTarget, obj.node, obj.latex);\n    }\n\n    /**\n     * Wrapper to Core.insertFormula method.\n     * Inserts the formula in the specified target, creating\n     * a new image (new formula) or updating an existing one.\n     * @param {string} mathml - MathML to generate the formula.\n     * @param {string} editMode - Edit Mode (LaTeX or images).\n     * @returns {ReturnObject} - Object with the information of the node or latex to insert.\n     */\n  }, {\n    key: "insertFormula",\n    value: function insertFormula(focusElement, windowTarget, mathml, wirisProperties) {\n      return this.core.insertFormula(focusElement, windowTarget, mathml, wirisProperties);\n    }\n\n    /**\n     * Returns the target selection.\n     * @returns {Selection} target selection.\n     */\n  }, {\n    key: "getSelection",\n    value: function getSelection() {\n      if (this.isIframe) {\n        this.target.contentWindow.focus();\n        return this.target.contentWindow.getSelection();\n      }\n      this.target.focus();\n      return window.getSelection();\n    }\n\n    /**\n     * Add events to formulas in the DOM target. The events added are the following:\n     * - doubleClickHandler: handles double click event on formulas by opening an editor\n     * to edit them.\n     * - mouseDownHandler: handles mouse down event on formulas by saving the size of the formula\n     * in case the the formula is resized.\n     * - mouseUpHandler: handles mouse up event on formulas by restoring the saved formula size\n     * in case the formula is resized.\n     */\n  }, {\n    key: "addEvents",\n    value: function addEvents() {\n      var _this3 = this;\n      var eventTarget = this.isIframe ? this.target.contentWindow.document : this.target;\n      _util__WEBPACK_IMPORTED_MODULE_3__["default"].addElementEvents(eventTarget, function (element, event) {\n        _this3.doubleClickHandler(element, event);\n      }, function (element, event) {\n        _this3.mousedownHandler(element, event);\n      }, function (element, event) {\n        _this3.mouseupHandler(element, event);\n      });\n    }\n\n    /**\n     * Remove events to formulas in the DOM target.\n     */\n  }, {\n    key: "removeEvents",\n    value: function removeEvents() {\n      var eventTarget = this.isIframe ? this.target.contentWindow.document : this.target;\n      _util__WEBPACK_IMPORTED_MODULE_3__["default"].removeElementEvents(eventTarget);\n    }\n\n    /**\n     * Handles a double click on the target element. Opens an editor\n     * to re-edit the double-clicked formula.\n     * @param {HTMLElement} element - DOM object target.\n     */\n  }, {\n    key: "doubleClickHandler",\n    value: function doubleClickHandler(element) {\n      if (element.nodeName.toLowerCase() === \'img\') {\n        this.core.getCustomEditors().disable();\n        var customEditorAttributeName = _configuration__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'imageCustomEditorName\');\n        if (element.hasAttribute(customEditorAttributeName)) {\n          var customEditor = element.getAttribute(customEditorAttributeName);\n          this.core.getCustomEditors().enable(customEditor);\n        }\n        if (_util__WEBPACK_IMPORTED_MODULE_3__["default"].containsClass(element, _configuration__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'imageClassName\'))) {\n          this.core.editionProperties.temporalImage = element;\n          this.core.editionProperties.isNewElement = true;\n          this.openExistingFormulaEditor();\n        }\n      }\n    }\n\n    /**\n     * Handles a mouse up event on the target element. Restores the image size to avoid\n     * resizing formulas.\n     */\n  }, {\n    key: "mouseupHandler",\n    value: function mouseupHandler() {\n      var _this4 = this;\n      if (this.temporalImageResizing) {\n        setTimeout(function () {\n          _image__WEBPACK_IMPORTED_MODULE_1__["default"].fixAfterResize(_this4.temporalImageResizing);\n        }, 10);\n      }\n    }\n\n    /**\n     * Handles a mouse down event on the target element. Saves the formula size to avoid\n     * resizing formulas.\n     * @param {HTMLElement} element - target element.\n     */\n  }, {\n    key: "mousedownHandler",\n    value: function mousedownHandler(element) {\n      if (element.nodeName.toLowerCase() === \'img\') {\n        if (_util__WEBPACK_IMPORTED_MODULE_3__["default"].containsClass(element, _configuration__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'imageClassName\'))) {\n          this.temporalImageResizing = element;\n        }\n      }\n    }\n\n    /**\n     * Returns the integration language. By default the browser agent. This method\n     * should be overwritten to obtain the integration language, for example using the\n     * plugin API of an HTML editor.\n     * @returns {string} integration language.\n     */\n  }, {\n    key: "getLanguage",\n    value: function getLanguage() {\n      return this.getBrowserLanguage();\n    }\n\n    /**\n     * Returns the browser language.\n     * @returns {string} the browser language.\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "getBrowserLanguage",\n    value: function getBrowserLanguage() {\n      var language = \'en\';\n      if (navigator.userLanguage) {\n        language = navigator.userLanguage.substring(0, 2);\n      } else if (navigator.language) {\n        language = navigator.language.substring(0, 2);\n      } else {\n        language = \'en\';\n      }\n      return language;\n    }\n\n    /**\n     * This function is called once the {@link Core} is loaded. IntegrationModel class\n     * will fire this method when {@link Core} \'onLoad\' event is fired.\n     * This method should content all the logic to init\n     * the integration.\n     */\n  }, {\n    key: "callbackFunction",\n    value: function callbackFunction() {\n      var _this5 = this;\n      // It\'s needed to wait until the integration target is ready. The event is fired\n      // from the integration side.\n      var listener = _listeners__WEBPACK_IMPORTED_MODULE_2__["default"].newListener(\'onTargetReady\', function () {\n        _this5.addEvents(_this5.target);\n      });\n      this.listeners.add(listener);\n    }\n\n    /**\n     * Function called when the content submits an action.\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "notifyWindowClosed",\n    value: function notifyWindowClosed() {\n      // Nothing.\n    }\n\n    /**\n     * Wrapper.\n     * Extracts mathml of a determined text node. This function is used as a wrapper inside core.js\n     * in order to get mathml from a text node that can contain normal LaTeX or other chosen text.\n     * @param {string} textNode - text node to extract the MathML.\n     * @param {int} caretPosition - caret position inside the text node.\n     * @returns {string} MathML inside the text node.\n     */\n\n    // eslint-disable-next-line class-methods-use-this, no-unused-vars\n  }, {\n    key: "getMathmlFromTextNode",\n    value: function getMathmlFromTextNode(textNode, caretPosition) {}\n\n    /**\n     * Wrapper\n     * It fills wrs event object of nonLatex with the desired data.\n     * @param {Object} event - event object.\n     * @param {Object} window dom window object.\n     * @param {string} mathml valid mathml.\n     */\n    // eslint-disable-next-line class-methods-use-this, no-unused-vars\n  }, {\n    key: "fillNonLatexNode",\n    value: function fillNonLatexNode(event, window, mathml) {}\n\n    /**\n      Wrapper.\n     * Returns selected item from the target.\n     * @param {HTMLElement} target - target element\n     * @param {boolean} iframe\n     */\n    // eslint-disable-next-line class-methods-use-this, no-unused-vars\n  }, {\n    key: "getSelectedItem",\n    value: function getSelectedItem(target, isIframe) {}\n  }], [{\n    key: "setActionsOnCancelButtons",\n    value: function setActionsOnCancelButtons() {\n      // eslint-disable-next-line no-undef\n      if (WirisPlugin.currentInstance) {\n        WirisPlugin.currentInstance.core.editionProperties.temporalImage = null; // eslint-disable-line\n      }\n\n      // Make focus come back on the previous place it was when click cancel button\n      var currentInstance = WirisPlugin.currentInstance;\n      var editorSelection = currentInstance.getSelection();\n      editorSelection.removeAllRanges();\n      if (currentInstance.core.editionProperties.range) {\n        var range = currentInstance.core.editionProperties.range;\n        currentInstance.core.editionProperties.range = null;\n        editorSelection.addRange(range);\n      }\n    }\n  }]);\n  return IntegrationModel;\n}(); // To know if the integration that extends this class implements\n// wrapper methods, they are set as undefined.\n\nIntegrationModel.prototype.getMathmlFromTextNode = undefined;\nIntegrationModel.prototype.fillNonLatexNode = undefined;\nIntegrationModel.prototype.getSelectedItem = undefined;\n\n/**\n * An object containing a list with the overwritable class constructor properties.\n * @type {Object}\n */\nIntegrationModel.integrationParameters = [\'serviceProviderProperties\', \'editorParameters\'];\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/integrationmodel.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/jsvariables.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Represents the configuration properties generated from the frontend (JavaScript variables).\n * @type {Object}\n * @property {string} imageClassName - Default MathType formula image class.\n * @property {string} imageClassName - Default MathType CAS image class.\n * @ignore\n */\nvar jsProperties = {\n  imageCustomEditorName: 'data-custom-editor',\n  imageClassName: 'Wirisformula',\n  CASClassName: 'Wiriscas'\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (jsProperties);\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/jsvariables.js?")},"./node_modules/@wiris/mathtype-html-integration-devkit/src/latex.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Latex)\n/* harmony export */ });\n/* harmony import */ var _textcache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textcache */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/textcache.js");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mathml */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/mathml.js");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./serviceprovider */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/serviceprovider.js");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/constants.js");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n\n\n\n/**\n * @classdesc\n * This class represents a LaTeX parser. Manages the services which allows to convert\n * LaTeX into MathML and MathML into LaTeX.\n */\nvar Latex = /*#__PURE__*/function () {\n  function Latex() {\n    _classCallCheck(this, Latex);\n  }\n  _createClass(Latex, null, [{\n    key: "cache",\n    get:\n    /**\n     * Static property.\n     * Return latex cache.\n     * @private\n     * @type {Cache}\n     */\n    function get() {\n      return Latex._cache;\n    }\n\n    /**\n     * Static property setter.\n     * Set latex cache.\n     * @param {Cache} value - The property value.\n     * @ignore\n    */,\n    set: function set(value) {\n      Latex._cache = value;\n    }\n\n    /**\n     * Converts MathML to LaTeX by calling mathml2latex service. For text services\n     * we call a text service with the param mathml2latex.\n     * @param {String} mathml - MathML String.\n     * @return {String} LaTeX string generated by the MathML argument.\n     */\n  }, {\n    key: "getLatexFromMathML",\n    value: function getLatexFromMathML(mathml) {\n      var mathmlWithoutSemantics = _mathml__WEBPACK_IMPORTED_MODULE_1__["default"].removeSemantics(mathml);\n      /**\n       * @type {TextCache}\n       */\n      var cache = Latex.cache;\n      var data = {\n        service: \'mathml2latex\',\n        mml: mathmlWithoutSemantics\n      };\n      var jsonResponse = JSON.parse(_serviceprovider__WEBPACK_IMPORTED_MODULE_2__["default"].getService(\'service\', data));\n\n      // TODO: Error handling.\n      var latex = \'\';\n      if (jsonResponse.status === \'ok\') {\n        latex = jsonResponse.result.text;\n        var latexHtmlEntitiesEncoded = _util__WEBPACK_IMPORTED_MODULE_4__["default"].htmlEntities(latex);\n        // Inserting LaTeX semantics.\n        var mathmlWithSemantics = _mathml__WEBPACK_IMPORTED_MODULE_1__["default"].addAnnotation(mathml, latexHtmlEntitiesEncoded, \'LaTeX\');\n        cache.populate(latex, mathmlWithSemantics);\n      }\n      return latex;\n    }\n\n    /**\n     * Converts LaTeX to MathML by calling latex2mathml service. For text services\n     * we call a text service with the param latex2mathml.\n     * @param {String} latex - String containing a LaTeX formula.\n     * @param {Boolean} includeLatexOnSemantics\n     * - If true LaTeX would me included into MathML semantics.\n     * @return {String} MathML string generated by the LaTeX argument.\n     */\n  }, {\n    key: "getMathMLFromLatex",\n    value: function getMathMLFromLatex(latex, includeLatexOnSemantics) {\n      /**\n       * @type {TextCache}\n       */\n      var latexCache = Latex.cache;\n      if (Latex.cache.get(latex)) {\n        return Latex.cache.get(latex);\n      }\n      var data = {\n        service: \'latex2mathml\',\n        latex: latex\n      };\n      if (includeLatexOnSemantics) {\n        data.saveLatex = \'\';\n      }\n      var jsonResponse = JSON.parse(_serviceprovider__WEBPACK_IMPORTED_MODULE_2__["default"].getService(\'service\', data));\n      var output;\n      if (jsonResponse.status === \'ok\') {\n        var mathml = jsonResponse.result.text;\n        mathml = mathml.split(\'\\r\').join(\'\').split(\'\\n\').join(\' \');\n\n        // Populate LatexCache.\n        if (mathml.indexOf(\'semantics\') === -1 && mathml.indexOf(\'annotation\') === -1) {\n          var content = _util__WEBPACK_IMPORTED_MODULE_4__["default"].htmlEntities(latex);\n          mathml = _mathml__WEBPACK_IMPORTED_MODULE_1__["default"].addAnnotation(mathml, content, \'LaTeX\');\n          output = mathml;\n        } else {\n          output = mathml;\n        }\n        if (!latexCache.get(latex)) {\n          latexCache.populate(latex, mathml);\n        }\n      } else {\n        output = "$$".concat(latex, "$$");\n      }\n      return output;\n    }\n\n    /**\n     * Converts all occurrences of MathML code to LaTeX.\n     * The MathML code should containing <annotation encoding="LaTeX"/> to be converted.\n     * @param {String} content - A string containing MathML valid code.\n     * @param {Object} characters - An object containing special characters.\n     * @return {String} A string containing all MathML annotated occurrences\n     * replaced by the corresponding LaTeX code.\n     */\n  }, {\n    key: "parseMathmlToLatex",\n    value: function parseMathmlToLatex(content, characters) {\n      var output = \'\';\n      var mathTagBegin = "".concat(characters.tagOpener, "math");\n      var mathTagEnd = "".concat(characters.tagOpener, "/math").concat(characters.tagCloser);\n      var openTarget = "".concat(characters.tagOpener, "annotation encoding=").concat(characters.doubleQuote, "LaTeX").concat(characters.doubleQuote).concat(characters.tagCloser);\n      var closeTarget = "".concat(characters.tagOpener, "/annotation").concat(characters.tagCloser);\n      var start = content.indexOf(mathTagBegin);\n      var end = 0;\n      var mathml;\n      var startAnnotation;\n      var closeAnnotation;\n      while (start !== -1) {\n        output += content.substring(end, start);\n        end = content.indexOf(mathTagEnd, start);\n        if (end === -1) {\n          end = content.length - 1;\n        } else {\n          end += mathTagEnd.length;\n        }\n        mathml = content.substring(start, end);\n        startAnnotation = mathml.indexOf(openTarget);\n        if (startAnnotation !== -1) {\n          startAnnotation += openTarget.length;\n          closeAnnotation = mathml.indexOf(closeTarget);\n          var latex = mathml.substring(startAnnotation, closeAnnotation);\n          if (characters === _constants__WEBPACK_IMPORTED_MODULE_3__["default"].safeXmlCharacters) {\n            latex = _mathml__WEBPACK_IMPORTED_MODULE_1__["default"].safeXmlDecode(latex);\n          }\n          output += "$$".concat(latex, "$$");\n          // Populate latex into cache.\n\n          Latex.cache.populate(latex, mathml);\n        } else {\n          output += mathml;\n        }\n        start = content.indexOf(mathTagBegin, end);\n      }\n      output += content.substring(end, content.length);\n      return output;\n    }\n\n    /**\n     * Extracts the latex of a determined position in a text.\n     * @param {Node} textNode - textNode to extract the LaTeX\n     * @param {Number} caretPosition - Starting position to find LaTeX.\n     * @param {Object} latexTags - Optional parameter representing tags between latex is inserted.\n     * It has the \'open\' attribute for the open tag and the \'close\' attribute for the close tag.\n     * "$$" by default.\n     * @return {Object} An object with 3 keys: \'latex\', \'start\' and \'end\'. Null if latex is not found.\n     * @static\n     */\n  }, {\n    key: "getLatexFromTextNode",\n    value: function getLatexFromTextNode(textNode, caretPosition, latexTags) {\n      // TODO: Set LaTeX Tags as Core variable. Fix the call to this function (third argument).\n      // Tags used for LaTeX formulas.\n      var defaultLatexTags = {\n        open: \'$$\',\n        close: \'$$\'\n      };\n      // latexTags is an optional parameter. If is not set, use default latexTags.\n      if (typeof latexTags === \'undefined\' || latexTags == null) {\n        latexTags = defaultLatexTags;\n      }\n      // Looking for the first textNode.\n      var startNode = textNode;\n      while (startNode.previousSibling && startNode.previousSibling.nodeType === 3) {\n        // TEXT_NODE.\n        startNode = startNode.previousSibling;\n      }\n\n      /**\n       * Returns the next latex position and node from a specific node and position.\n       * @param {Node} currentNode - Node where searching latex.\n       * @param {Number} currentPosition - Current position inside the currentNode.\n       * @param {Object} latexTagsToUse - Tags used at latex beginning and latex final.\n       * "$$" by default.\n       * @param {Boolean} tag - Tag containing the current search.\n       * @returns {Object} Object containing the current node and the position.\n       */\n      function getNextLatexPosition(currentNode, currentPosition, tag) {\n        var position = currentNode.nodeValue.indexOf(tag, currentPosition);\n        while (position === -1) {\n          currentNode = currentNode.nextSibling;\n          if (!currentNode) {\n            // TEXT_NODE.\n            return null; // Not found.\n          }\n          position = currentNode.nodeValue ? currentNode.nodeValue.indexOf(latexTags.close) : -1;\n        }\n        return {\n          node: currentNode,\n          position: position\n        };\n      }\n\n      /**\n       * Determines if a node is previous, or not, to a second one.\n       * @param {Node} node - Start node.\n       * @param {Number} position - Start node position.\n       * @param {Node} endNode - End node.\n       * @param {Number} endPosition - End node position.\n       * @returns {Boolean} True if the starting node is previous thant the en node. false otherwise.\n       */\n      function isPrevious(node, position, endNode, endPosition) {\n        if (node === endNode) {\n          return position <= endPosition;\n        }\n        while (node && node !== endNode) {\n          node = node.nextSibling;\n        }\n        return node === endNode;\n      }\n      var start;\n      var end = {\n        node: startNode,\n        position: 0\n      };\n      // Is supposed that open and close tags has the same length.\n      var tagLength = latexTags.open.length;\n      do {\n        start = getNextLatexPosition(end.node, end.position, latexTags.open);\n        if (start == null || isPrevious(textNode, caretPosition, start.node, start.position)) {\n          return null;\n        }\n        end = getNextLatexPosition(start.node, start.position + tagLength, latexTags.close);\n        if (end == null) {\n          return null;\n        }\n        end.position += tagLength;\n      } while (isPrevious(end.node, end.position, textNode, caretPosition));\n\n      // Isolating latex.\n      var latex;\n      if (start.node === end.node) {\n        latex = start.node.nodeValue.substring(start.position + tagLength, end.position - tagLength);\n      } else {\n        var index = start.position + tagLength;\n        latex = start.node.nodeValue.substring(index, start.node.nodeValue.length);\n        var currentNode = start.node;\n        do {\n          currentNode = currentNode.nextSibling;\n          if (currentNode === end.node) {\n            latex += end.node.nodeValue.substring(0, end.position - tagLength);\n          } else {\n            latex += currentNode.nodeValue ? currentNode.nodeValue : \'\';\n          }\n        } while (currentNode !== end.node);\n      }\n      return {\n        latex: latex,\n        startNode: start.node,\n        startPosition: start.position,\n        endNode: end.node,\n        endPosition: end.position\n      };\n    }\n  }]);\n  return Latex;\n}();\n/**\n * Text cache. Stores all processed LaTeX strings and it\'s correspondent MathML string.\n * @type {Cache}\n * @static\n */\n\nLatex._cache = new _textcache__WEBPACK_IMPORTED_MODULE_0__["default"]();\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/latex.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Listeners)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/**\n * This object represents a custom listener.\n * @typedef {Object} Listener\n * @property {String} Listener.eventName - The listener name.\n * @property {Function} Listener.callback - The listener callback function.\n */\nvar Listeners = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represents a custom listeners manager.\n   * @constructs\n   */\n  function Listeners() {\n    _classCallCheck(this, Listeners);\n    /**\n     * Array containing all custom listeners.\n     * @type {Object[]}\n     */\n    this.listeners = [];\n  }\n\n  /**\n   * Add a listener to Listener class.\n   * @param {Object} listener - A listener object.\n   */\n  _createClass(Listeners, [{\n    key: "add",\n    value: function add(listener) {\n      this.listeners.push(listener);\n    }\n\n    /**\n     * Fires MathType event listeners\n     * @param {String} eventName - event name\n     * @param {Event} event - event object.\n     * @return {boolean} false if event has been prevented. true otherwise.\n     */\n  }, {\n    key: "fire",\n    value: function fire(eventName, event) {\n      for (var i = 0; i < this.listeners.length && !event.cancelled; i += 1) {\n        if (this.listeners[i].eventName === eventName) {\n          // Calling listener.\n          this.listeners[i].callback(event);\n        }\n      }\n      return event.defaultPrevented;\n    }\n\n    /**\n     * Creates a new listener object.\n     * @param {string} eventName - Event name.\n     * @param {Object} callback - Callback function.\n     * @returns {object} the listener object.\n     */\n  }], [{\n    key: "newListener",\n    value: function newListener(eventName, callback) {\n      var listener = {};\n      listener.eventName = eventName;\n      listener.callback = callback;\n      return listener;\n    }\n  }]);\n  return Listeners;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/mathml.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ MathML)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/constants.js");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n/**\n * @classdesc\n * This class represents a class to manage MathML objects.\n */\nvar MathML = /*#__PURE__*/function () {\n  function MathML() {\n    _classCallCheck(this, MathML);\n  }\n  _createClass(MathML, null, [{\n    key: "isMathmlInAttribute",\n    value:\n    /**\n     * Checks if the mathml at position i is inside an HTML attribute or not.\n     * @param {string} content - a string containing MathML code.\n     * @param {number} i -  search index.\n     * @return {boolean} true if is inside an HTML attribute. false otherwise.\n     */\n    function isMathmlInAttribute(content, i) {\n      // Regex =\n      // \'^[\\\'"][\\\\s]*=[\\\\s]*[\\\\w-]+([\\\\s]*("[^"]*"|\\\'[^\\\']*\\\')[\\\\s]*\n      // =[\\\\s]*[\\\\w-]+[\\\\s]*)*[\\\\s]+gmi<\';\n      var mathAtt = \'[\\\'"][\\\\s]*=[\\\\s]*[\\\\w-]+\'; // "=att OR \'=att\n      var attContent = \'"[^"]*"|\\\'[^\\\']*\\\'\'; // "blabla" OR \'blabla\'\n      var att = "[\\\\s]*(".concat(attContent, ")[\\\\s]*=[\\\\s]*[\\\\w-]+[\\\\s]*"); // "blabla"=att OR \'blabla\'=att\n      var atts = "(\'".concat(att, "\')*"); // "blabla"=att1 "blabla"=att2\n      var regex = "^".concat(mathAtt).concat(atts, "[\\\\s]+gmi<"); // "=att "blabla"=att1 "blabla"=att2 gmi< .\n      var expression = new RegExp(regex);\n      var actualContent = content.substring(0, i);\n      var reversed = actualContent.split(\'\').reverse().join(\'\');\n      var exists = expression.test(reversed);\n      return exists;\n    }\n\n    /**\n     * Decodes an encoded MathML with standard XML tags.\n     * We use these entities because IE doesn\'t support html entities\n     * on its attributes sometimes. Yes, sometimes.\n     * @param {string} input - string to be decoded.\n     * @return {string} decoded string.\n     */\n  }, {\n    key: "safeXmlDecode",\n    value: function safeXmlDecode(input) {\n      var tagOpener = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharactersEntities.tagOpener;\n      var tagCloser = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharactersEntities.tagCloser;\n      var doubleQuote = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharactersEntities.doubleQuote;\n      var realDoubleQuote = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharactersEntities.realDoubleQuote;\n      // Decoding entities.\n      input = input.split(tagOpener).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.tagOpener);\n      input = input.split(tagCloser).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.tagCloser);\n      input = input.split(doubleQuote).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.doubleQuote);\n      // Added to fix problem due to import from 1.9.x.\n      input = input.split(realDoubleQuote).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.realDoubleQuote);\n\n      // Blackboard.\n      var ltElement = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeBadBlackboardCharacters.ltElement;\n      var gtElement = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeBadBlackboardCharacters.gtElement;\n      var ampElement = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeBadBlackboardCharacters.ampElement;\n      if (\'_wrs_blackboard\' in window && window._wrs_blackboard) {\n        input = input.split(ltElement).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeGoodBlackboardCharacters.ltElement);\n        input = input.split(gtElement).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeGoodBlackboardCharacters.gtElement);\n        input = input.split(ampElement).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeGoodBlackboardCharacters.ampElement);\n      }\n      tagOpener = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.tagOpener;\n      tagCloser = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.tagCloser;\n      doubleQuote = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.doubleQuote;\n      realDoubleQuote = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.realDoubleQuote;\n      var ampersand = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.ampersand;\n      var quote = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.quote;\n\n      // Decoding characters.\n      input = input.split(tagOpener).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.tagOpener);\n      input = input.split(tagCloser).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.tagCloser);\n      input = input.split(doubleQuote).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.doubleQuote);\n      input = input.split(ampersand).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.ampersand);\n      input = input.split(quote).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.quote);\n\n      // We are replacing $ by & when its part of an entity for retrocompatibility.\n      // Now, the standard is replace § by &.\n      var returnValue = \'\';\n      var currentEntity = null;\n      for (var i = 0; i < input.length; i += 1) {\n        var character = input.charAt(i);\n        if (currentEntity == null) {\n          if (character === \'$\') {\n            currentEntity = \'\';\n          } else {\n            returnValue += character;\n          }\n        } else if (character === \';\') {\n          returnValue += "&".concat(currentEntity);\n          currentEntity = null;\n        } else if (character.match(/([a-zA-Z0-9#._-] | \'-\')/)) {\n          // Character is part of an entity.\n          currentEntity += character;\n        } else {\n          returnValue += "$".concat(currentEntity); // Is not an entity.\n          currentEntity = null;\n          i -= 1; // Parse again the current character.\n        }\n      }\n      return returnValue;\n    }\n\n    /**\n     * Encodes a MathML with standard XML tags to a MMathML encoded with safe XML tags.\n     * We use these entities because IE doesn\'t support html entities on its attributes sometimes.\n     * @param {string} input - input string to be encoded\n     * @returns {string} encoded string.\n     */\n  }, {\n    key: "safeXmlEncode",\n    value: function safeXmlEncode(input) {\n      var tagOpener = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.tagOpener;\n      var tagCloser = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.tagCloser;\n      var doubleQuote = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.doubleQuote;\n      var ampersand = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.ampersand;\n      var quote = _constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters.quote;\n      input = input.split(tagOpener).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.tagOpener);\n      input = input.split(tagCloser).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.tagCloser);\n      input = input.split(doubleQuote).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.doubleQuote);\n      input = input.split(ampersand).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.ampersand);\n      input = input.split(quote).join(_constants__WEBPACK_IMPORTED_MODULE_0__["default"].safeXmlCharacters.quote);\n      return input;\n    }\n\n    /**\n     * Converts special symbols (> 128) to entities and replaces all textual\n     * entities by its number entities.\n     * @param {string} mathml - MathML string containing - or not - special symbols\n     * @returns {string} MathML with all textual entities replaced.\n     */\n  }, {\n    key: "mathMLEntities",\n    value: function mathMLEntities(mathml) {\n      var toReturn = \'\';\n      for (var i = 0; i < mathml.length; i += 1) {\n        var character = mathml.charAt(i);\n\n        // Parsing > 128 characters.\n        if (mathml.codePointAt(i) > 128) {\n          toReturn += "&#".concat(mathml.codePointAt(i), ";");\n          // For UTF-32 characters we need to move the index one position.\n          if (mathml.codePointAt(i) > 0xffff) {\n            i += 1;\n          }\n        } else if (character === \'&\') {\n          var end = mathml.indexOf(\';\', i + 1);\n          if (end >= 0) {\n            var container = document.createElement(\'span\');\n            container.innerHTML = mathml.substring(i, end + 1);\n            toReturn += "&#".concat(_util__WEBPACK_IMPORTED_MODULE_1__["default"].fixedCharCodeAt(container.textContent || container.innerText, 0), ";");\n            i = end;\n          } else {\n            toReturn += character;\n          }\n        } else {\n          toReturn += character;\n        }\n      }\n      return toReturn;\n    }\n\n    /**\n     * Add a custom editor name with the prefix wrs_ to a MathML class attribute.\n     * @param {string} mathml - a MathML string created with a custom editor, like chemistry.\n     * @param {string} customEditor - custom editor name.\n     * @returns {string} MathML string with his class containing the editor toolbar string.\n     */\n  }, {\n    key: "addCustomEditorClassAttribute",\n    value: function addCustomEditorClassAttribute(mathml, customEditor) {\n      var toReturn = \'\';\n      var start = mathml.indexOf(\'<math\');\n      if (start === 0) {\n        var end = mathml.indexOf(\'>\');\n        if (mathml.indexOf(\'class\') === -1) {\n          // Adding custom editor type.\n          toReturn = "".concat(mathml.substr(start, end), " class=\\"wrs_").concat(customEditor, "\\">");\n          toReturn += mathml.substr(end + 1, mathml.length);\n          return toReturn;\n        }\n      }\n      return mathml;\n    }\n\n    /**\n     * Remove a custom editor name from the MathML class attribute.\n     * @param {string} mathml - a MathML string.\n     * @param {string} customEditor - custom editor name.\n     * @returns {string} The input MathML without customEditor name in his class.\n     */\n  }, {\n    key: "removeCustomEditorClassAttribute",\n    value: function removeCustomEditorClassAttribute(mathml, customEditor) {\n      // Discard MathML without the specified class.\n      if (mathml.indexOf(\'class\') === -1 || mathml.indexOf("wrs_".concat(customEditor)) === -1) {\n        return mathml;\n      }\n\n      // Trivial case: class attribute value equal to editor name. Then\n      // class attribute is removed.\n      if (mathml.indexOf("class=\\"wrs_".concat(customEditor, "\\"")) !== -1) {\n        return mathml.replace("class=\\"wrs_".concat(customEditor, "\\""), \'\');\n      }\n\n      // Non Trivial case: class attribute contains editor name.\n      return mathml.replace("wrs_".concat(customEditor), \'\');\n    }\n\n    /**\n     * Adds annotation tag in MathML element.\n     * @param {String} mathml - valid MathML.\n     * @param {String} content - value to put inside annotation tag.\n     * @param {String} annotationEncoding - annotation encoding.\n     * @returns {String} - \'mathml\' with an annotation that contains\n     * \'content\' and encoding \'encoding\'.\n     */\n  }, {\n    key: "addAnnotation",\n    value: function addAnnotation(mathml, content, annotationEncoding) {\n      // If contains annotation, also contains semantics tag.\n      var containsAnnotation = mathml.indexOf(\'<annotation\');\n      var mathmlWithAnnotation = \'\';\n      if (containsAnnotation !== -1) {\n        var closeSemanticsIndex = mathml.indexOf(\'</semantics>\');\n        mathmlWithAnnotation = "".concat(mathml.substring(0, closeSemanticsIndex), "<annotation encoding=\\"").concat(annotationEncoding, "\\">").concat(content, "</annotation>").concat(mathml.substring(closeSemanticsIndex));\n      } else if (MathML.isEmpty(mathml)) {\n        var endIndexInline = mathml.indexOf(\'/>\');\n        var endIndexNonInline = mathml.indexOf(\'>\');\n        var endIndex = endIndexNonInline === endIndexInline ? endIndexInline : endIndexNonInline;\n        mathmlWithAnnotation = "".concat(mathml.substring(0, endIndex), "><semantics><annotation encoding=\\"").concat(annotationEncoding, "\\">").concat(content, "</annotation></semantics></math>");\n      } else {\n        var beginMathMLContent = mathml.indexOf(\'>\') + 1;\n        var endMathmlContent = mathml.lastIndexOf(\'</math>\');\n        var mathmlContent = mathml.substring(beginMathMLContent, endMathmlContent);\n        mathmlWithAnnotation = "".concat(mathml.substring(0, beginMathMLContent), "<semantics><mrow>").concat(mathmlContent, "</mrow><annotation encoding=\\"").concat(annotationEncoding, "\\">").concat(content, "</annotation></semantics></math>"); // eslint-disable-line max-len\n      }\n      return mathmlWithAnnotation;\n    }\n\n    /**\n     * Removes specific annotation tag in MathML element.\n     * In case of remove the unique annotation, also is removed semantics tag.\n     * @param {String} mathml - valid MathML.\n     * @param {String} annotationEncoding - annotation encoding to remove.\n     * @returns {String} - \'mathml\' without the annotation encoding specified.\n     */\n  }, {\n    key: "removeAnnotation",\n    value: function removeAnnotation(mathml, annotationEncoding) {\n      var mathmlWithoutAnnotation = mathml;\n      var openAnnotationTag = "<annotation encoding=\\"".concat(annotationEncoding, "\\">");\n      var closeAnnotationTag = \'</annotation>\';\n      var startAnnotationIndex = mathml.indexOf(openAnnotationTag);\n      if (startAnnotationIndex !== -1) {\n        var differentAnnotationFound = false;\n        var differentAnnotationIndex = mathml.indexOf(\'<annotation\');\n        while (differentAnnotationIndex !== -1) {\n          if (differentAnnotationIndex !== startAnnotationIndex) {\n            differentAnnotationFound = true;\n          }\n          differentAnnotationIndex = mathml.indexOf(\'<annotation\', differentAnnotationIndex + 1);\n        }\n        if (differentAnnotationFound) {\n          var closeIndex = mathml.indexOf(closeAnnotationTag, startAnnotationIndex);\n          var endAnnotationIndex = closeIndex + closeAnnotationTag.length;\n          var startIndex = mathml.substring(0, startAnnotationIndex);\n          mathmlWithoutAnnotation = startIndex + mathml.substring(endAnnotationIndex);\n        } else {\n          mathmlWithoutAnnotation = MathML.removeSemantics(mathml);\n        }\n      }\n      return mathmlWithoutAnnotation;\n    }\n\n    /**\n     * Removes semantics tag to mathml.\n     * @param {string} mathml - MathML string.\n     * @returns {string} - \'mathml\' without semantics tag.\n     */\n  }, {\n    key: "removeSemantics",\n    value: function removeSemantics(mathml) {\n      var mathTagEnd = \'</math>\';\n      var openSemantics = \'<semantics>\';\n      var openAnnotation = \'<annotation\';\n      var mathmlWithoutSemantics = mathml;\n      var startSemantics = mathml.indexOf(openSemantics);\n      if (startSemantics !== -1) {\n        var startAnnotation = mathml.indexOf(openAnnotation, startSemantics + openSemantics.length);\n        if (startAnnotation !== -1) {\n          mathmlWithoutSemantics = mathml.substring(0, startSemantics) + mathml.substring(startSemantics + openSemantics.length, startAnnotation) + mathTagEnd;\n        }\n      }\n      return mathmlWithoutSemantics;\n    }\n\n    /**\n     * Transforms all xml mathml ocurrences that contain semantics to the same\n     * xml mathml ocurrences without semantics.\n     * @param {string} text - string that can contain xml mathml ocurrences.\n     * @param {Constants} [characters] - Constant object containing xmlCharacters\n     * or safeXmlCharacters relation.\n     * xmlCharacters by default.\n     * @returns {string} - \'text\' with all xml mathml ocurrences without annotation tag.\n     */\n  }, {\n    key: "removeSemanticsOcurrences",\n    value: function removeSemanticsOcurrences(text) {\n      var characters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _constants__WEBPACK_IMPORTED_MODULE_0__["default"].xmlCharacters;\n      var mathTagStart = "".concat(characters.tagOpener, "math");\n      var mathTagEnd = "".concat(characters.tagOpener, "/math").concat(characters.tagCloser);\n      var mathTagEndline = "/".concat(characters.tagCloser);\n      var tagCloser = characters.tagCloser;\n      var semanticsTagStart = "".concat(characters.tagOpener, "semantics").concat(characters.tagCloser);\n      var annotationTagStart = "".concat(characters.tagOpener, "annotation encoding=");\n      var output = \'\';\n      var start = text.indexOf(mathTagStart);\n      var end = 0;\n      while (start !== -1) {\n        output += text.substring(end, start);\n\n        // MathML can be written as \'<math></math>\' or \'<math />\'.\n        var mathTagEndIndex = text.indexOf(mathTagEnd, start);\n        var mathTagEndlineIndex = text.indexOf(mathTagEndline, start);\n        var firstTagCloser = text.indexOf(tagCloser, start);\n        if (mathTagEndIndex !== -1) {\n          end = mathTagEndIndex;\n        } else if (mathTagEndlineIndex === firstTagCloser - 1) {\n          end = mathTagEndlineIndex;\n        }\n        var semanticsIndex = text.indexOf(semanticsTagStart, start);\n        if (semanticsIndex !== -1) {\n          var mmlTagStart = text.substring(start, semanticsIndex);\n          var annotationIndex = text.indexOf(annotationTagStart, start);\n          if (annotationIndex !== -1) {\n            var startIndex = semanticsIndex + semanticsTagStart.length;\n            var mmlContent = text.substring(startIndex, annotationIndex);\n            output += mmlTagStart + mmlContent + mathTagEnd;\n            start = text.indexOf(mathTagStart, start + mathTagStart.length);\n            end += mathTagEnd.length;\n          } else {\n            end = start;\n            start = text.indexOf(mathTagStart, start + mathTagStart.length);\n          }\n        } else {\n          end = start;\n          start = text.indexOf(mathTagStart, start + mathTagStart.length);\n        }\n      }\n      output += text.substring(end, text.length);\n      return output;\n    }\n\n    /**\n     * Returns true if a MathML contains a certain class.\n     * @param {string} mathML - input MathML.\n     * @param {string} className - className.\n     * @returns {boolean} true if the input MathML contains the input class.\n     * false otherwise.\n     * @static\n     */\n  }, {\n    key: "containClass",\n    value: function containClass(mathML, className) {\n      var classIndex = mathML.indexOf(\'class\');\n      if (classIndex === -1) {\n        return false;\n      }\n      var classTagEndIndex = mathML.indexOf(\'>\', classIndex);\n      var classTag = mathML.substring(classIndex, classTagEndIndex);\n      if (classTag.indexOf(className) !== -1) {\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Returns true if mathml is empty. Otherwise, false.\n     * @param {string} mathml - valid MathML with standard XML tags.\n     * @returns {boolean} - true if mathml is empty. Otherwise, false.\n     */\n  }, {\n    key: "isEmpty",\n    value: function isEmpty(mathml) {\n      // MathML can have the shape <math></math> or \'<math />\'.\n      var closeTag = \'>\';\n      var closeTagInline = \'/>\';\n      var firstCloseTagIndex = mathml.indexOf(closeTag);\n      var firstCloseTagInlineIndex = mathml.indexOf(closeTagInline);\n      var empty = false;\n      // MathML is always empty in the second shape.\n      if (firstCloseTagInlineIndex !== -1) {\n        if (firstCloseTagInlineIndex === firstCloseTagIndex - 1) {\n          empty = true;\n        }\n      }\n\n      // MathML is always empty in the first shape when there aren\'t elements\n      // between math tags.\n      if (!empty) {\n        var mathTagEndRegex = new RegExp(\'</(.+:)?math>\');\n        var mathTagEndArray = mathTagEndRegex.exec(mathml);\n        if (mathTagEndArray) {\n          empty = firstCloseTagIndex + 1 === mathTagEndArray.index;\n        }\n      }\n      return empty;\n    }\n\n    /**\n     * Encodes html entities inside properties.\n     * @param {String} mathml - valid MathML with standard XML tags.\n     * @returns {String} - \'mathml\' with property entities encoded.\n     */\n  }, {\n    key: "encodeProperties",\n    value: function encodeProperties(mathml) {\n      // Search all the properties.\n      var regex = /\\w+=".*?"/g;\n      // Encode html entities.\n      var replacer = function replacer(match) {\n        // It has the shape:\n        // <math propertyOne="somethingOne"><children propertyTwo="somethingTwo"></children></math>.\n        var quoteIndex = match.indexOf(\'"\');\n        var propertyValue = match.substring(quoteIndex + 1, match.length - 1);\n        var propertyValueEncoded = _util__WEBPACK_IMPORTED_MODULE_1__["default"].htmlEntities(propertyValue);\n        var matchEncoded = "".concat(match.substring(0, quoteIndex + 1)).concat(propertyValueEncoded, "\\"");\n        return matchEncoded;\n      };\n      var mathmlEncoded = mathml.replace(regex, replacer);\n      return mathmlEncoded;\n    }\n  }]);\n  return MathML;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/mathml.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/md5.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\n/* eslint-disable */\nvar md5;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);\n(function () {\n  var HxOverrides = function HxOverrides() {};\n  HxOverrides.__name__ = true;\n  HxOverrides.dateStr = function (date) {\n    var m = date.getMonth() + 1;\n    var d = date.getDate();\n    var h = date.getHours();\n    var mi = date.getMinutes();\n    var s = date.getSeconds();\n    return date.getFullYear() + "-" + (m < 10 ? "0" + m : "" + m) + "-" + (d < 10 ? "0" + d : "" + d) + " " + (h < 10 ? "0" + h : "" + h) + ":" + (mi < 10 ? "0" + mi : "" + mi) + ":" + (s < 10 ? "0" + s : "" + s);\n  };\n  HxOverrides.strDate = function (s) {\n    switch (s.length) {\n      case 8:\n        var k = s.split(":");\n        var d = new Date();\n        d.setTime(0);\n        d.setUTCHours(k[0]);\n        d.setUTCMinutes(k[1]);\n        d.setUTCSeconds(k[2]);\n        return d;\n      case 10:\n        var k = s.split("-");\n        return new Date(k[0], k[1] - 1, k[2], 0, 0, 0);\n      case 19:\n        var k = s.split(" ");\n        var y = k[0].split("-");\n        var t = k[1].split(":");\n        return new Date(y[0], y[1] - 1, y[2], t[0], t[1], t[2]);\n      default:\n        throw "Invalid date format : " + s;\n    }\n  };\n  HxOverrides.cca = function (s, index) {\n    var x = s.charCodeAt(index);\n    if (x != x) return undefined;\n    return x;\n  };\n  HxOverrides.substr = function (s, pos, len) {\n    if (pos != null && pos != 0 && len != null && len < 0) return "";\n    if (len == null) len = s.length;\n    if (pos < 0) {\n      pos = s.length + pos;\n      if (pos < 0) pos = 0;\n    } else if (len < 0) len = s.length + len - pos;\n    return s.substr(pos, len);\n  };\n  HxOverrides.remove = function (a, obj) {\n    var i = 0;\n    var l = a.length;\n    while (i < l) {\n      if (a[i] == obj) {\n        a.splice(i, 1);\n        return true;\n      }\n      i++;\n    }\n    return false;\n  };\n  HxOverrides.iter = function (a) {\n    return {\n      cur: 0,\n      arr: a,\n      hasNext: function hasNext() {\n        return this.cur < this.arr.length;\n      },\n      next: function next() {\n        return this.arr[this.cur++];\n      }\n    };\n  };\n  var IntIter = function IntIter(min, max) {\n    this.min = min;\n    this.max = max;\n  };\n  IntIter.__name__ = true;\n  IntIter.prototype = {\n    next: function next() {\n      return this.min++;\n    },\n    hasNext: function hasNext() {\n      return this.min < this.max;\n    },\n    __class__: IntIter\n  };\n  var Std = function Std() {};\n  Std.__name__ = true;\n  Std["is"] = function (v, t) {\n    return js.Boot.__instanceof(v, t);\n  };\n  Std.string = function (s) {\n    return js.Boot.__string_rec(s, "");\n  };\n  Std["int"] = function (x) {\n    return x | 0;\n  };\n  Std.parseInt = function (x) {\n    var v = parseInt(x, 10);\n    if (v == 0 && (HxOverrides.cca(x, 1) == 120 || HxOverrides.cca(x, 1) == 88)) v = parseInt(x);\n    if (isNaN(v)) return null;\n    return v;\n  };\n  Std.parseFloat = function (x) {\n    return parseFloat(x);\n  };\n  Std.random = function (x) {\n    return Math.floor(Math.random() * x);\n  };\n  var com = com || {};\n  if (!com.wiris) com.wiris = {};\n  if (!com.wiris.js) com.wiris.js = {};\n  com.wiris.js.JsPluginTools = function () {\n    this.tryReady();\n  };\n  com.wiris.js.JsPluginTools.__name__ = true;\n  com.wiris.js.JsPluginTools.main = function () {\n    var ev;\n    ev = com.wiris.js.JsPluginTools.getInstance();\n    haxe.Timer.delay($bind(ev, ev.tryReady), 100);\n  };\n  com.wiris.js.JsPluginTools.getInstance = function () {\n    if (com.wiris.js.JsPluginTools.instance == null) com.wiris.js.JsPluginTools.instance = new com.wiris.js.JsPluginTools();\n    return com.wiris.js.JsPluginTools.instance;\n  };\n  com.wiris.js.JsPluginTools.bypassEncapsulation = function () {\n    if (window.com == null) window.com = {};\n    if (window.com.wiris == null) window.com.wiris = {};\n    if (window.com.wiris.js == null) window.com.wiris.js = {};\n    if (window.com.wiris.js.JsPluginTools == null) window.com.wiris.js.JsPluginTools = com.wiris.js.JsPluginTools.getInstance();\n  };\n  com.wiris.js.JsPluginTools.prototype = {\n    md5encode: function md5encode(content) {\n      return haxe.Md5.encode(content);\n    },\n    doLoad: function doLoad() {\n      this.ready = true;\n      com.wiris.js.JsPluginTools.instance = this;\n      com.wiris.js.JsPluginTools.bypassEncapsulation();\n    },\n    tryReady: function tryReady() {\n      this.ready = false;\n      if (js.Lib.document.readyState) {\n        this.doLoad();\n        this.ready = true;\n      }\n      if (!this.ready) haxe.Timer.delay($bind(this, this.tryReady), 100);\n    },\n    __class__: com.wiris.js.JsPluginTools\n  };\n  var haxe = haxe || {};\n  haxe.Log = function () {};\n  haxe.Log.__name__ = true;\n  haxe.Log.trace = function (v, infos) {\n    js.Boot.__trace(v, infos);\n  };\n  haxe.Log.clear = function () {\n    js.Boot.__clear_trace();\n  };\n  haxe.Md5 = function () {};\n  haxe.Md5.__name__ = true;\n  haxe.Md5.encode = function (s) {\n    return new haxe.Md5().doEncode(s);\n  };\n  haxe.Md5.prototype = {\n    doEncode: function doEncode(str) {\n      var x = this.str2blks(str);\n      var a = 1732584193;\n      var b = -271733879;\n      var c = -1732584194;\n      var d = 271733878;\n      var step;\n      var i = 0;\n      while (i < x.length) {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n        step = 0;\n        a = this.ff(a, b, c, d, x[i], 7, -680876936);\n        d = this.ff(d, a, b, c, x[i + 1], 12, -389564586);\n        c = this.ff(c, d, a, b, x[i + 2], 17, 606105819);\n        b = this.ff(b, c, d, a, x[i + 3], 22, -1044525330);\n        a = this.ff(a, b, c, d, x[i + 4], 7, -176418897);\n        d = this.ff(d, a, b, c, x[i + 5], 12, 1200080426);\n        c = this.ff(c, d, a, b, x[i + 6], 17, -1473231341);\n        b = this.ff(b, c, d, a, x[i + 7], 22, -45705983);\n        a = this.ff(a, b, c, d, x[i + 8], 7, 1770035416);\n        d = this.ff(d, a, b, c, x[i + 9], 12, -1958414417);\n        c = this.ff(c, d, a, b, x[i + 10], 17, -42063);\n        b = this.ff(b, c, d, a, x[i + 11], 22, -1990404162);\n        a = this.ff(a, b, c, d, x[i + 12], 7, 1804603682);\n        d = this.ff(d, a, b, c, x[i + 13], 12, -40341101);\n        c = this.ff(c, d, a, b, x[i + 14], 17, -1502002290);\n        b = this.ff(b, c, d, a, x[i + 15], 22, 1236535329);\n        a = this.gg(a, b, c, d, x[i + 1], 5, -165796510);\n        d = this.gg(d, a, b, c, x[i + 6], 9, -1069501632);\n        c = this.gg(c, d, a, b, x[i + 11], 14, 643717713);\n        b = this.gg(b, c, d, a, x[i], 20, -373897302);\n        a = this.gg(a, b, c, d, x[i + 5], 5, -701558691);\n        d = this.gg(d, a, b, c, x[i + 10], 9, 38016083);\n        c = this.gg(c, d, a, b, x[i + 15], 14, -660478335);\n        b = this.gg(b, c, d, a, x[i + 4], 20, -405537848);\n        a = this.gg(a, b, c, d, x[i + 9], 5, 568446438);\n        d = this.gg(d, a, b, c, x[i + 14], 9, -1019803690);\n        c = this.gg(c, d, a, b, x[i + 3], 14, -187363961);\n        b = this.gg(b, c, d, a, x[i + 8], 20, 1163531501);\n        a = this.gg(a, b, c, d, x[i + 13], 5, -1444681467);\n        d = this.gg(d, a, b, c, x[i + 2], 9, -51403784);\n        c = this.gg(c, d, a, b, x[i + 7], 14, 1735328473);\n        b = this.gg(b, c, d, a, x[i + 12], 20, -1926607734);\n        a = this.hh(a, b, c, d, x[i + 5], 4, -378558);\n        d = this.hh(d, a, b, c, x[i + 8], 11, -2022574463);\n        c = this.hh(c, d, a, b, x[i + 11], 16, 1839030562);\n        b = this.hh(b, c, d, a, x[i + 14], 23, -35309556);\n        a = this.hh(a, b, c, d, x[i + 1], 4, -1530992060);\n        d = this.hh(d, a, b, c, x[i + 4], 11, 1272893353);\n        c = this.hh(c, d, a, b, x[i + 7], 16, -155497632);\n        b = this.hh(b, c, d, a, x[i + 10], 23, -1094730640);\n        a = this.hh(a, b, c, d, x[i + 13], 4, 681279174);\n        d = this.hh(d, a, b, c, x[i], 11, -358537222);\n        c = this.hh(c, d, a, b, x[i + 3], 16, -722521979);\n        b = this.hh(b, c, d, a, x[i + 6], 23, 76029189);\n        a = this.hh(a, b, c, d, x[i + 9], 4, -640364487);\n        d = this.hh(d, a, b, c, x[i + 12], 11, -421815835);\n        c = this.hh(c, d, a, b, x[i + 15], 16, 530742520);\n        b = this.hh(b, c, d, a, x[i + 2], 23, -995338651);\n        a = this.ii(a, b, c, d, x[i], 6, -198630844);\n        d = this.ii(d, a, b, c, x[i + 7], 10, 1126891415);\n        c = this.ii(c, d, a, b, x[i + 14], 15, -1416354905);\n        b = this.ii(b, c, d, a, x[i + 5], 21, -57434055);\n        a = this.ii(a, b, c, d, x[i + 12], 6, 1700485571);\n        d = this.ii(d, a, b, c, x[i + 3], 10, -1894986606);\n        c = this.ii(c, d, a, b, x[i + 10], 15, -1051523);\n        b = this.ii(b, c, d, a, x[i + 1], 21, -2054922799);\n        a = this.ii(a, b, c, d, x[i + 8], 6, 1873313359);\n        d = this.ii(d, a, b, c, x[i + 15], 10, -30611744);\n        c = this.ii(c, d, a, b, x[i + 6], 15, -1560198380);\n        b = this.ii(b, c, d, a, x[i + 13], 21, 1309151649);\n        a = this.ii(a, b, c, d, x[i + 4], 6, -145523070);\n        d = this.ii(d, a, b, c, x[i + 11], 10, -1120210379);\n        c = this.ii(c, d, a, b, x[i + 2], 15, 718787259);\n        b = this.ii(b, c, d, a, x[i + 9], 21, -343485551);\n        a = this.addme(a, olda);\n        b = this.addme(b, oldb);\n        c = this.addme(c, oldc);\n        d = this.addme(d, oldd);\n        i += 16;\n      }\n      return this.rhex(a) + this.rhex(b) + this.rhex(c) + this.rhex(d);\n    },\n    ii: function ii(a, b, c, d, x, s, t) {\n      return this.cmn(this.bitXOR(c, this.bitOR(b, ~d)), a, b, x, s, t);\n    },\n    hh: function hh(a, b, c, d, x, s, t) {\n      return this.cmn(this.bitXOR(this.bitXOR(b, c), d), a, b, x, s, t);\n    },\n    gg: function gg(a, b, c, d, x, s, t) {\n      return this.cmn(this.bitOR(this.bitAND(b, d), this.bitAND(c, ~d)), a, b, x, s, t);\n    },\n    ff: function ff(a, b, c, d, x, s, t) {\n      return this.cmn(this.bitOR(this.bitAND(b, c), this.bitAND(~b, d)), a, b, x, s, t);\n    },\n    cmn: function cmn(q, a, b, x, s, t) {\n      return this.addme(this.rol(this.addme(this.addme(a, q), this.addme(x, t)), s), b);\n    },\n    rol: function rol(num, cnt) {\n      return num << cnt | num >>> 32 - cnt;\n    },\n    str2blks: function str2blks(str) {\n      var nblk = (str.length + 8 >> 6) + 1;\n      var blks = new Array();\n      var _g1 = 0,\n        _g = nblk * 16;\n      while (_g1 < _g) {\n        var i = _g1++;\n        blks[i] = 0;\n      }\n      var i = 0;\n      while (i < str.length) {\n        blks[i >> 2] |= HxOverrides.cca(str, i) << (str.length * 8 + i) % 4 * 8;\n        i++;\n      }\n      blks[i >> 2] |= 128 << (str.length * 8 + i) % 4 * 8;\n      var l = str.length * 8;\n      var k = nblk * 16 - 2;\n      blks[k] = l & 255;\n      blks[k] |= (l >>> 8 & 255) << 8;\n      blks[k] |= (l >>> 16 & 255) << 16;\n      blks[k] |= (l >>> 24 & 255) << 24;\n      return blks;\n    },\n    rhex: function rhex(num) {\n      var str = "";\n      var hex_chr = "0123456789abcdef";\n      var _g = 0;\n      while (_g < 4) {\n        var j = _g++;\n        str += hex_chr.charAt(num >> j * 8 + 4 & 15) + hex_chr.charAt(num >> j * 8 & 15);\n      }\n      return str;\n    },\n    addme: function addme(x, y) {\n      var lsw = (x & 65535) + (y & 65535);\n      var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n      return msw << 16 | lsw & 65535;\n    },\n    bitAND: function bitAND(a, b) {\n      var lsb = a & 1 & (b & 1);\n      var msb31 = a >>> 1 & b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    bitXOR: function bitXOR(a, b) {\n      var lsb = a & 1 ^ b & 1;\n      var msb31 = a >>> 1 ^ b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    bitOR: function bitOR(a, b) {\n      var lsb = a & 1 | b & 1;\n      var msb31 = a >>> 1 | b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    __class__: haxe.Md5\n  };\n  haxe.Timer = function (time_ms) {\n    var me = this;\n    this.id = window.setInterval(function () {\n      me.run();\n    }, time_ms);\n  };\n  haxe.Timer.__name__ = true;\n  haxe.Timer.delay = function (f, time_ms) {\n    var t = new haxe.Timer(time_ms);\n    t.run = function () {\n      t.stop();\n      f();\n    };\n    return t;\n  };\n  haxe.Timer.measure = function (f, pos) {\n    var t0 = haxe.Timer.stamp();\n    var r = f();\n    haxe.Log.trace(haxe.Timer.stamp() - t0 + "s", pos);\n    return r;\n  };\n  haxe.Timer.stamp = function () {\n    return new Date().getTime() / 1000;\n  };\n  haxe.Timer.prototype = {\n    run: function run() {},\n    stop: function stop() {\n      if (this.id == null) return;\n      window.clearInterval(this.id);\n      this.id = null;\n    },\n    __class__: haxe.Timer\n  };\n  var js = js || {};\n  js.Boot = function () {};\n  js.Boot.__name__ = true;\n  js.Boot.__unhtml = function (s) {\n    return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");\n  };\n  js.Boot.__trace = function (v, i) {\n    var msg = i != null ? i.fileName + ":" + i.lineNumber + ": " : "";\n    msg += js.Boot.__string_rec(v, "");\n    var d;\n    if (typeof document != "undefined" && (d = document.getElementById("haxe:trace")) != null) d.innerHTML += js.Boot.__unhtml(msg) + "<br/>";else if (typeof console != "undefined" && console.log != null) console.log(msg);\n  };\n  js.Boot.__clear_trace = function () {\n    var d = document.getElementById("haxe:trace");\n    if (d != null) d.innerHTML = "";\n  };\n  js.Boot.isClass = function (o) {\n    return o.__name__;\n  };\n  js.Boot.isEnum = function (e) {\n    return e.__ename__;\n  };\n  js.Boot.getClass = function (o) {\n    return o.__class__;\n  };\n  js.Boot.__string_rec = function (o, s) {\n    if (o == null) return "null";\n    if (s.length >= 5) return "<...>";\n    var t = _typeof(o);\n    if (t == "function" && (o.__name__ || o.__ename__)) t = "object";\n    switch (t) {\n      case "object":\n        if (o instanceof Array) {\n          if (o.__enum__) {\n            if (o.length == 2) return o[0];\n            var str = o[0] + "(";\n            s += "\\t";\n            var _g1 = 2,\n              _g = o.length;\n            while (_g1 < _g) {\n              var i = _g1++;\n              if (i != 2) str += "," + js.Boot.__string_rec(o[i], s);else str += js.Boot.__string_rec(o[i], s);\n            }\n            return str + ")";\n          }\n          var l = o.length;\n          var i;\n          var str = "[";\n          s += "\\t";\n          var _g = 0;\n          while (_g < l) {\n            var i1 = _g++;\n            str += (i1 > 0 ? "," : "") + js.Boot.__string_rec(o[i1], s);\n          }\n          str += "]";\n          return str;\n        }\n        var tostr;\n        try {\n          tostr = o.toString;\n        } catch (e) {\n          return "???";\n        }\n        if (tostr != null && tostr != Object.toString) {\n          var s2 = o.toString();\n          if (s2 != "[object Object]") return s2;\n        }\n        var k = null;\n        var str = "{\\n";\n        s += "\\t";\n        var hasp = o.hasOwnProperty != null;\n        for (var k in o) {\n          ;\n          if (hasp && !o.hasOwnProperty(k)) {\n            continue;\n          }\n          if (k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {\n            continue;\n          }\n          if (str.length != 2) str += ", \\n";\n          str += s + k + " : " + js.Boot.__string_rec(o[k], s);\n        }\n        s = s.substring(1);\n        str += "\\n" + s + "}";\n        return str;\n      case "function":\n        return "<function>";\n      case "string":\n        return o;\n      default:\n        return String(o);\n    }\n  };\n  js.Boot.__interfLoop = function (cc, cl) {\n    if (cc == null) return false;\n    if (cc == cl) return true;\n    var intf = cc.__interfaces__;\n    if (intf != null) {\n      var _g1 = 0,\n        _g = intf.length;\n      while (_g1 < _g) {\n        var i = _g1++;\n        var i1 = intf[i];\n        if (i1 == cl || js.Boot.__interfLoop(i1, cl)) return true;\n      }\n    }\n    return js.Boot.__interfLoop(cc.__super__, cl);\n  };\n  js.Boot.__instanceof = function (o, cl) {\n    try {\n      if (o instanceof cl) {\n        if (cl == Array) return o.__enum__ == null;\n        return true;\n      }\n      if (js.Boot.__interfLoop(o.__class__, cl)) return true;\n    } catch (e) {\n      if (cl == null) return false;\n    }\n    switch (cl) {\n      case Int:\n        return Math.ceil(o % 2147483648.0) === o;\n      case Float:\n        return typeof o == "number";\n      case Bool:\n        return o === true || o === false;\n      case String:\n        return typeof o == "string";\n      case Dynamic:\n        return true;\n      default:\n        if (o == null) return false;\n        if (cl == Class && o.__name__ != null) return true;else null;\n        if (cl == Enum && o.__ename__ != null) return true;else null;\n        return o.__enum__ == cl;\n    }\n  };\n  js.Boot.__cast = function (o, t) {\n    if (js.Boot.__instanceof(o, t)) return o;else throw "Cannot cast " + Std.string(o) + " to " + Std.string(t);\n  };\n  js.Lib = function () {};\n  js.Lib.__name__ = true;\n  js.Lib.debug = function () {\n    debugger;\n  };\n  js.Lib.alert = function (v) {\n    alert(js.Boot.__string_rec(v, ""));\n  };\n  js.Lib.eval = function (code) {\n    return eval(code);\n  };\n  js.Lib.setErrorHandler = function (f) {\n    js.Lib.onerror = f;\n  };\n  var $_;\n  function $bind(o, m) {\n    var f = function f() {\n      return f.method.apply(f.scope, arguments);\n    };\n    f.scope = o;\n    f.method = m;\n    return f;\n  }\n  ;\n  if (Array.prototype.indexOf) HxOverrides.remove = function (a, o) {\n    var i = a.indexOf(o);\n    if (i == -1) return false;\n    a.splice(i, 1);\n    return true;\n  };else null;\n  Math.__name__ = ["Math"];\n  Math.NaN = Number.NaN;\n  Math.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;\n  Math.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n  Math.isFinite = function (i) {\n    return isFinite(i);\n  };\n  Math.isNaN = function (i) {\n    return isNaN(i);\n  };\n  String.prototype.__class__ = String;\n  String.__name__ = true;\n  Array.prototype.__class__ = Array;\n  Array.__name__ = true;\n  Date.prototype.__class__ = Date;\n  Date.__name__ = ["Date"];\n  var Int = {\n    __name__: ["Int"]\n  };\n  var Dynamic = {\n    __name__: ["Dynamic"]\n  };\n  var Float = Number;\n  Float.__name__ = ["Float"];\n  var Bool = Boolean;\n  Bool.__ename__ = ["Bool"];\n  var Class = {\n    __name__: ["Class"]\n  };\n  var Enum = {};\n  var Void = {\n    __ename__: ["Void"]\n  };\n  if (typeof document != "undefined") js.Lib.document = document;\n  if (typeof window != "undefined") {\n    js.Lib.window = window;\n    js.Lib.window.onerror = function (msg, url, line) {\n      var f = js.Lib.onerror;\n      if (f == null) return false;\n      return f(msg, [url + ":" + line]);\n    };\n  }\n  com.wiris.js.JsPluginTools.main();\n  delete Array.prototype.__class__;\n})();\n(function () {\n  var HxOverrides = function HxOverrides() {};\n  HxOverrides.__name__ = true;\n  HxOverrides.dateStr = function (date) {\n    var m = date.getMonth() + 1;\n    var d = date.getDate();\n    var h = date.getHours();\n    var mi = date.getMinutes();\n    var s = date.getSeconds();\n    return date.getFullYear() + "-" + (m < 10 ? "0" + m : "" + m) + "-" + (d < 10 ? "0" + d : "" + d) + " " + (h < 10 ? "0" + h : "" + h) + ":" + (mi < 10 ? "0" + mi : "" + mi) + ":" + (s < 10 ? "0" + s : "" + s);\n  };\n  HxOverrides.strDate = function (s) {\n    switch (s.length) {\n      case 8:\n        var k = s.split(":");\n        var d = new Date();\n        d.setTime(0);\n        d.setUTCHours(k[0]);\n        d.setUTCMinutes(k[1]);\n        d.setUTCSeconds(k[2]);\n        return d;\n      case 10:\n        var k = s.split("-");\n        return new Date(k[0], k[1] - 1, k[2], 0, 0, 0);\n      case 19:\n        var k = s.split(" ");\n        var y = k[0].split("-");\n        var t = k[1].split(":");\n        return new Date(y[0], y[1] - 1, y[2], t[0], t[1], t[2]);\n      default:\n        throw "Invalid date format : " + s;\n    }\n  };\n  HxOverrides.cca = function (s, index) {\n    var x = s.charCodeAt(index);\n    if (x != x) return undefined;\n    return x;\n  };\n  HxOverrides.substr = function (s, pos, len) {\n    if (pos != null && pos != 0 && len != null && len < 0) return "";\n    if (len == null) len = s.length;\n    if (pos < 0) {\n      pos = s.length + pos;\n      if (pos < 0) pos = 0;\n    } else if (len < 0) len = s.length + len - pos;\n    return s.substr(pos, len);\n  };\n  HxOverrides.remove = function (a, obj) {\n    var i = 0;\n    var l = a.length;\n    while (i < l) {\n      if (a[i] == obj) {\n        a.splice(i, 1);\n        return true;\n      }\n      i++;\n    }\n    return false;\n  };\n  HxOverrides.iter = function (a) {\n    return {\n      cur: 0,\n      arr: a,\n      hasNext: function hasNext() {\n        return this.cur < this.arr.length;\n      },\n      next: function next() {\n        return this.arr[this.cur++];\n      }\n    };\n  };\n  var IntIter = function IntIter(min, max) {\n    this.min = min;\n    this.max = max;\n  };\n  IntIter.__name__ = true;\n  IntIter.prototype = {\n    next: function next() {\n      return this.min++;\n    },\n    hasNext: function hasNext() {\n      return this.min < this.max;\n    },\n    __class__: IntIter\n  };\n  var Std = function Std() {};\n  Std.__name__ = true;\n  Std["is"] = function (v, t) {\n    return js.Boot.__instanceof(v, t);\n  };\n  Std.string = function (s) {\n    return js.Boot.__string_rec(s, "");\n  };\n  Std["int"] = function (x) {\n    return x | 0;\n  };\n  Std.parseInt = function (x) {\n    var v = parseInt(x, 10);\n    if (v == 0 && (HxOverrides.cca(x, 1) == 120 || HxOverrides.cca(x, 1) == 88)) v = parseInt(x);\n    if (isNaN(v)) return null;\n    return v;\n  };\n  Std.parseFloat = function (x) {\n    return parseFloat(x);\n  };\n  Std.random = function (x) {\n    return Math.floor(Math.random() * x);\n  };\n  var com = com || {};\n  if (!com.wiris) com.wiris = {};\n  if (!com.wiris.js) com.wiris.js = {};\n  com.wiris.js.JsPluginTools = function () {\n    this.tryReady();\n  };\n  com.wiris.js.JsPluginTools.__name__ = true;\n  com.wiris.js.JsPluginTools.main = function () {\n    var ev;\n    ev = com.wiris.js.JsPluginTools.getInstance();\n    haxe.Timer.delay($bind(ev, ev.tryReady), 100);\n  };\n  com.wiris.js.JsPluginTools.getInstance = function () {\n    if (com.wiris.js.JsPluginTools.instance == null) com.wiris.js.JsPluginTools.instance = new com.wiris.js.JsPluginTools();\n    return com.wiris.js.JsPluginTools.instance;\n  };\n  com.wiris.js.JsPluginTools.bypassEncapsulation = function () {\n    if (window.com == null) window.com = {};\n    if (window.com.wiris == null) window.com.wiris = {};\n    if (window.com.wiris.js == null) window.com.wiris.js = {};\n    if (window.com.wiris.js.JsPluginTools == null) window.com.wiris.js.JsPluginTools = com.wiris.js.JsPluginTools.getInstance();\n  };\n  com.wiris.js.JsPluginTools.prototype = {\n    md5encode: function md5encode(content) {\n      return haxe.Md5.encode(content);\n    },\n    doLoad: function doLoad() {\n      this.ready = true;\n      com.wiris.js.JsPluginTools.instance = this;\n      com.wiris.js.JsPluginTools.bypassEncapsulation();\n    },\n    tryReady: function tryReady() {\n      this.ready = false;\n      if (js.Lib.document.readyState) {\n        this.doLoad();\n        this.ready = true;\n      }\n      if (!this.ready) haxe.Timer.delay($bind(this, this.tryReady), 100);\n    },\n    __class__: com.wiris.js.JsPluginTools\n  };\n  var haxe = haxe || {};\n  haxe.Log = function () {};\n  haxe.Log.__name__ = true;\n  haxe.Log.trace = function (v, infos) {\n    js.Boot.__trace(v, infos);\n  };\n  haxe.Log.clear = function () {\n    js.Boot.__clear_trace();\n  };\n  haxe.Md5 = function () {};\n  haxe.Md5.__name__ = true;\n  haxe.Md5.encode = function (s) {\n    return new haxe.Md5().doEncode(s);\n  };\n  haxe.Md5.prototype = {\n    doEncode: function doEncode(str) {\n      var x = this.str2blks(str);\n      var a = 1732584193;\n      var b = -271733879;\n      var c = -1732584194;\n      var d = 271733878;\n      var step;\n      var i = 0;\n      while (i < x.length) {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n        step = 0;\n        a = this.ff(a, b, c, d, x[i], 7, -680876936);\n        d = this.ff(d, a, b, c, x[i + 1], 12, -389564586);\n        c = this.ff(c, d, a, b, x[i + 2], 17, 606105819);\n        b = this.ff(b, c, d, a, x[i + 3], 22, -1044525330);\n        a = this.ff(a, b, c, d, x[i + 4], 7, -176418897);\n        d = this.ff(d, a, b, c, x[i + 5], 12, 1200080426);\n        c = this.ff(c, d, a, b, x[i + 6], 17, -1473231341);\n        b = this.ff(b, c, d, a, x[i + 7], 22, -45705983);\n        a = this.ff(a, b, c, d, x[i + 8], 7, 1770035416);\n        d = this.ff(d, a, b, c, x[i + 9], 12, -1958414417);\n        c = this.ff(c, d, a, b, x[i + 10], 17, -42063);\n        b = this.ff(b, c, d, a, x[i + 11], 22, -1990404162);\n        a = this.ff(a, b, c, d, x[i + 12], 7, 1804603682);\n        d = this.ff(d, a, b, c, x[i + 13], 12, -40341101);\n        c = this.ff(c, d, a, b, x[i + 14], 17, -1502002290);\n        b = this.ff(b, c, d, a, x[i + 15], 22, 1236535329);\n        a = this.gg(a, b, c, d, x[i + 1], 5, -165796510);\n        d = this.gg(d, a, b, c, x[i + 6], 9, -1069501632);\n        c = this.gg(c, d, a, b, x[i + 11], 14, 643717713);\n        b = this.gg(b, c, d, a, x[i], 20, -373897302);\n        a = this.gg(a, b, c, d, x[i + 5], 5, -701558691);\n        d = this.gg(d, a, b, c, x[i + 10], 9, 38016083);\n        c = this.gg(c, d, a, b, x[i + 15], 14, -660478335);\n        b = this.gg(b, c, d, a, x[i + 4], 20, -405537848);\n        a = this.gg(a, b, c, d, x[i + 9], 5, 568446438);\n        d = this.gg(d, a, b, c, x[i + 14], 9, -1019803690);\n        c = this.gg(c, d, a, b, x[i + 3], 14, -187363961);\n        b = this.gg(b, c, d, a, x[i + 8], 20, 1163531501);\n        a = this.gg(a, b, c, d, x[i + 13], 5, -1444681467);\n        d = this.gg(d, a, b, c, x[i + 2], 9, -51403784);\n        c = this.gg(c, d, a, b, x[i + 7], 14, 1735328473);\n        b = this.gg(b, c, d, a, x[i + 12], 20, -1926607734);\n        a = this.hh(a, b, c, d, x[i + 5], 4, -378558);\n        d = this.hh(d, a, b, c, x[i + 8], 11, -2022574463);\n        c = this.hh(c, d, a, b, x[i + 11], 16, 1839030562);\n        b = this.hh(b, c, d, a, x[i + 14], 23, -35309556);\n        a = this.hh(a, b, c, d, x[i + 1], 4, -1530992060);\n        d = this.hh(d, a, b, c, x[i + 4], 11, 1272893353);\n        c = this.hh(c, d, a, b, x[i + 7], 16, -155497632);\n        b = this.hh(b, c, d, a, x[i + 10], 23, -1094730640);\n        a = this.hh(a, b, c, d, x[i + 13], 4, 681279174);\n        d = this.hh(d, a, b, c, x[i], 11, -358537222);\n        c = this.hh(c, d, a, b, x[i + 3], 16, -722521979);\n        b = this.hh(b, c, d, a, x[i + 6], 23, 76029189);\n        a = this.hh(a, b, c, d, x[i + 9], 4, -640364487);\n        d = this.hh(d, a, b, c, x[i + 12], 11, -421815835);\n        c = this.hh(c, d, a, b, x[i + 15], 16, 530742520);\n        b = this.hh(b, c, d, a, x[i + 2], 23, -995338651);\n        a = this.ii(a, b, c, d, x[i], 6, -198630844);\n        d = this.ii(d, a, b, c, x[i + 7], 10, 1126891415);\n        c = this.ii(c, d, a, b, x[i + 14], 15, -1416354905);\n        b = this.ii(b, c, d, a, x[i + 5], 21, -57434055);\n        a = this.ii(a, b, c, d, x[i + 12], 6, 1700485571);\n        d = this.ii(d, a, b, c, x[i + 3], 10, -1894986606);\n        c = this.ii(c, d, a, b, x[i + 10], 15, -1051523);\n        b = this.ii(b, c, d, a, x[i + 1], 21, -2054922799);\n        a = this.ii(a, b, c, d, x[i + 8], 6, 1873313359);\n        d = this.ii(d, a, b, c, x[i + 15], 10, -30611744);\n        c = this.ii(c, d, a, b, x[i + 6], 15, -1560198380);\n        b = this.ii(b, c, d, a, x[i + 13], 21, 1309151649);\n        a = this.ii(a, b, c, d, x[i + 4], 6, -145523070);\n        d = this.ii(d, a, b, c, x[i + 11], 10, -1120210379);\n        c = this.ii(c, d, a, b, x[i + 2], 15, 718787259);\n        b = this.ii(b, c, d, a, x[i + 9], 21, -343485551);\n        a = this.addme(a, olda);\n        b = this.addme(b, oldb);\n        c = this.addme(c, oldc);\n        d = this.addme(d, oldd);\n        i += 16;\n      }\n      return this.rhex(a) + this.rhex(b) + this.rhex(c) + this.rhex(d);\n    },\n    ii: function ii(a, b, c, d, x, s, t) {\n      return this.cmn(this.bitXOR(c, this.bitOR(b, ~d)), a, b, x, s, t);\n    },\n    hh: function hh(a, b, c, d, x, s, t) {\n      return this.cmn(this.bitXOR(this.bitXOR(b, c), d), a, b, x, s, t);\n    },\n    gg: function gg(a, b, c, d, x, s, t) {\n      return this.cmn(this.bitOR(this.bitAND(b, d), this.bitAND(c, ~d)), a, b, x, s, t);\n    },\n    ff: function ff(a, b, c, d, x, s, t) {\n      return this.cmn(this.bitOR(this.bitAND(b, c), this.bitAND(~b, d)), a, b, x, s, t);\n    },\n    cmn: function cmn(q, a, b, x, s, t) {\n      return this.addme(this.rol(this.addme(this.addme(a, q), this.addme(x, t)), s), b);\n    },\n    rol: function rol(num, cnt) {\n      return num << cnt | num >>> 32 - cnt;\n    },\n    str2blks: function str2blks(str) {\n      var nblk = (str.length + 8 >> 6) + 1;\n      var blks = new Array();\n      var _g1 = 0,\n        _g = nblk * 16;\n      while (_g1 < _g) {\n        var i = _g1++;\n        blks[i] = 0;\n      }\n      var i = 0;\n      while (i < str.length) {\n        blks[i >> 2] |= HxOverrides.cca(str, i) << (str.length * 8 + i) % 4 * 8;\n        i++;\n      }\n      blks[i >> 2] |= 128 << (str.length * 8 + i) % 4 * 8;\n      var l = str.length * 8;\n      var k = nblk * 16 - 2;\n      blks[k] = l & 255;\n      blks[k] |= (l >>> 8 & 255) << 8;\n      blks[k] |= (l >>> 16 & 255) << 16;\n      blks[k] |= (l >>> 24 & 255) << 24;\n      return blks;\n    },\n    rhex: function rhex(num) {\n      var str = "";\n      var hex_chr = "0123456789abcdef";\n      var _g = 0;\n      while (_g < 4) {\n        var j = _g++;\n        str += hex_chr.charAt(num >> j * 8 + 4 & 15) + hex_chr.charAt(num >> j * 8 & 15);\n      }\n      return str;\n    },\n    addme: function addme(x, y) {\n      var lsw = (x & 65535) + (y & 65535);\n      var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n      return msw << 16 | lsw & 65535;\n    },\n    bitAND: function bitAND(a, b) {\n      var lsb = a & 1 & (b & 1);\n      var msb31 = a >>> 1 & b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    bitXOR: function bitXOR(a, b) {\n      var lsb = a & 1 ^ b & 1;\n      var msb31 = a >>> 1 ^ b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    bitOR: function bitOR(a, b) {\n      var lsb = a & 1 | b & 1;\n      var msb31 = a >>> 1 | b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    __class__: haxe.Md5\n  };\n  haxe.Timer = function (time_ms) {\n    var me = this;\n    this.id = window.setInterval(function () {\n      me.run();\n    }, time_ms);\n  };\n  haxe.Timer.__name__ = true;\n  haxe.Timer.delay = function (f, time_ms) {\n    var t = new haxe.Timer(time_ms);\n    t.run = function () {\n      t.stop();\n      f();\n    };\n    return t;\n  };\n  haxe.Timer.measure = function (f, pos) {\n    var t0 = haxe.Timer.stamp();\n    var r = f();\n    haxe.Log.trace(haxe.Timer.stamp() - t0 + "s", pos);\n    return r;\n  };\n  haxe.Timer.stamp = function () {\n    return new Date().getTime() / 1000;\n  };\n  haxe.Timer.prototype = {\n    run: function run() {},\n    stop: function stop() {\n      if (this.id == null) return;\n      window.clearInterval(this.id);\n      this.id = null;\n    },\n    __class__: haxe.Timer\n  };\n  var js = js || {};\n  js.Boot = function () {};\n  js.Boot.__name__ = true;\n  js.Boot.__unhtml = function (s) {\n    return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");\n  };\n  js.Boot.__trace = function (v, i) {\n    var msg = i != null ? i.fileName + ":" + i.lineNumber + ": " : "";\n    msg += js.Boot.__string_rec(v, "");\n    var d;\n    if (typeof document != "undefined" && (d = document.getElementById("haxe:trace")) != null) d.innerHTML += js.Boot.__unhtml(msg) + "<br/>";else if (typeof console != "undefined" && console.log != null) console.log(msg);\n  };\n  js.Boot.__clear_trace = function () {\n    var d = document.getElementById("haxe:trace");\n    if (d != null) d.innerHTML = "";\n  };\n  js.Boot.isClass = function (o) {\n    return o.__name__;\n  };\n  js.Boot.isEnum = function (e) {\n    return e.__ename__;\n  };\n  js.Boot.getClass = function (o) {\n    return o.__class__;\n  };\n  js.Boot.__string_rec = function (o, s) {\n    if (o == null) return "null";\n    if (s.length >= 5) return "<...>";\n    var t = _typeof(o);\n    if (t == "function" && (o.__name__ || o.__ename__)) t = "object";\n    switch (t) {\n      case "object":\n        if (o instanceof Array) {\n          if (o.__enum__) {\n            if (o.length == 2) return o[0];\n            var str = o[0] + "(";\n            s += "\\t";\n            var _g1 = 2,\n              _g = o.length;\n            while (_g1 < _g) {\n              var i = _g1++;\n              if (i != 2) str += "," + js.Boot.__string_rec(o[i], s);else str += js.Boot.__string_rec(o[i], s);\n            }\n            return str + ")";\n          }\n          var l = o.length;\n          var i;\n          var str = "[";\n          s += "\\t";\n          var _g = 0;\n          while (_g < l) {\n            var i1 = _g++;\n            str += (i1 > 0 ? "," : "") + js.Boot.__string_rec(o[i1], s);\n          }\n          str += "]";\n          return str;\n        }\n        var tostr;\n        try {\n          tostr = o.toString;\n        } catch (e) {\n          return "???";\n        }\n        if (tostr != null && tostr != Object.toString) {\n          var s2 = o.toString();\n          if (s2 != "[object Object]") return s2;\n        }\n        var k = null;\n        var str = "{\\n";\n        s += "\\t";\n        var hasp = o.hasOwnProperty != null;\n        for (var k in o) {\n          ;\n          if (hasp && !o.hasOwnProperty(k)) {\n            continue;\n          }\n          if (k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {\n            continue;\n          }\n          if (str.length != 2) str += ", \\n";\n          str += s + k + " : " + js.Boot.__string_rec(o[k], s);\n        }\n        s = s.substring(1);\n        str += "\\n" + s + "}";\n        return str;\n      case "function":\n        return "<function>";\n      case "string":\n        return o;\n      default:\n        return String(o);\n    }\n  };\n  js.Boot.__interfLoop = function (cc, cl) {\n    if (cc == null) return false;\n    if (cc == cl) return true;\n    var intf = cc.__interfaces__;\n    if (intf != null) {\n      var _g1 = 0,\n        _g = intf.length;\n      while (_g1 < _g) {\n        var i = _g1++;\n        var i1 = intf[i];\n        if (i1 == cl || js.Boot.__interfLoop(i1, cl)) return true;\n      }\n    }\n    return js.Boot.__interfLoop(cc.__super__, cl);\n  };\n  js.Boot.__instanceof = function (o, cl) {\n    try {\n      if (o instanceof cl) {\n        if (cl == Array) return o.__enum__ == null;\n        return true;\n      }\n      if (js.Boot.__interfLoop(o.__class__, cl)) return true;\n    } catch (e) {\n      if (cl == null) return false;\n    }\n    switch (cl) {\n      case Int:\n        return Math.ceil(o % 2147483648.0) === o;\n      case Float:\n        return typeof o == "number";\n      case Bool:\n        return o === true || o === false;\n      case String:\n        return typeof o == "string";\n      case Dynamic:\n        return true;\n      default:\n        if (o == null) return false;\n        if (cl == Class && o.__name__ != null) return true;else null;\n        if (cl == Enum && o.__ename__ != null) return true;else null;\n        return o.__enum__ == cl;\n    }\n  };\n  js.Boot.__cast = function (o, t) {\n    if (js.Boot.__instanceof(o, t)) return o;else throw "Cannot cast " + Std.string(o) + " to " + Std.string(t);\n  };\n  js.Lib = function () {};\n  js.Lib.__name__ = true;\n  js.Lib.debug = function () {\n    debugger;\n  };\n  js.Lib.alert = function (v) {\n    alert(js.Boot.__string_rec(v, ""));\n  };\n  js.Lib.eval = function (code) {\n    return eval(code);\n  };\n  js.Lib.setErrorHandler = function (f) {\n    js.Lib.onerror = f;\n  };\n  var $_;\n  function $bind(o, m) {\n    var f = function f() {\n      return f.method.apply(f.scope, arguments);\n    };\n    f.scope = o;\n    f.method = m;\n    return f;\n  }\n  ;\n  if (Array.prototype.indexOf) HxOverrides.remove = function (a, o) {\n    var i = a.indexOf(o);\n    if (i == -1) return false;\n    a.splice(i, 1);\n    return true;\n  };else null;\n  Math.__name__ = ["Math"];\n  Math.NaN = Number.NaN;\n  Math.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;\n  Math.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n  Math.isFinite = function (i) {\n    return isFinite(i);\n  };\n  Math.isNaN = function (i) {\n    return isNaN(i);\n  };\n  String.prototype.__class__ = String;\n  String.__name__ = true;\n  Array.prototype.__class__ = Array;\n  Array.__name__ = true;\n  Date.prototype.__class__ = Date;\n  Date.__name__ = ["Date"];\n  var Int = {\n    __name__: ["Int"]\n  };\n  var Dynamic = {\n    __name__: ["Dynamic"]\n  };\n  var Float = Number;\n  Float.__name__ = ["Float"];\n  var Bool = Boolean;\n  Bool.__ename__ = ["Bool"];\n  var Class = {\n    __name__: ["Class"]\n  };\n  var Enum = {};\n  var Void = {\n    __ename__: ["Void"]\n  };\n  if (typeof document != "undefined") js.Lib.document = document;\n  if (typeof window != "undefined") {\n    js.Lib.window = window;\n    js.Lib.window.onerror = function (msg, url, line) {\n      var f = js.Lib.onerror;\n      if (f == null) return false;\n      return f(msg, [url + ":" + line]);\n    };\n  }\n  com.wiris.js.JsPluginTools.main();\n})();\ndelete Array.prototype.__class__;\n// @codingStandardsIgnoreEnd\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/md5.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/modal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ ModalDialog)\n/* harmony export */ });\n/* harmony import */ var _popupmessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./popupmessage */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/popupmessage.js");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./configuration */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./listeners */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js");\n/* harmony import */ var _stringmanager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stringmanager */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/stringmanager.js");\n/* harmony import */ var _contentmanager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./contentmanager */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/contentmanager.js");\n/* harmony import */ var _telemetry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./telemetry */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/telemetry.js");\n/* harmony import */ var _integrationmodel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./integrationmodel */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/integrationmodel.js");\n/* harmony import */ var _raw_loader_styles_icons_general_close_icon_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! !!raw-loader!../styles/icons/general/close_icon.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/close_icon.svg");\n/* harmony import */ var _raw_loader_styles_icons_hover_close_icon_h_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! !!raw-loader!../styles/icons/hover/close_icon_h.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/close_icon_h.svg");\n/* harmony import */ var _raw_loader_styles_icons_general_fulls_icon_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! !!raw-loader!../styles/icons/general/fulls_icon.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/fulls_icon.svg");\n/* harmony import */ var _raw_loader_styles_icons_hover_fulls_icon_h_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! !!raw-loader!../styles/icons/hover/fulls_icon_h.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/fulls_icon_h.svg");\n/* harmony import */ var _raw_loader_styles_icons_general_min_icon_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! !!raw-loader!../styles/icons/general/min_icon.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/min_icon.svg");\n/* harmony import */ var _raw_loader_styles_icons_hover_min_icon_h_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! !!raw-loader!../styles/icons/hover/min_icon_h.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/min_icon_h.svg");\n/* harmony import */ var _raw_loader_styles_icons_general_mins_icon_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! !!raw-loader!../styles/icons/general/mins_icon.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/mins_icon.svg");\n/* harmony import */ var _raw_loader_styles_icons_hover_mins_icon_h_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! !!raw-loader!../styles/icons/hover/mins_icon_h.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/mins_icon_h.svg");\n/* harmony import */ var _raw_loader_styles_icons_general_max_icon_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! !!raw-loader!../styles/icons/general/max_icon.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/max_icon.svg");\n/* harmony import */ var _raw_loader_styles_icons_hover_max_icon_h_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! !!raw-loader!../styles/icons/hover/max_icon_h.svg */ "./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/max_icon_h.svg");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n// eslint-disable-next-line max-classes-per-file\n\n\n\n\n\n\n\n\n //eslint-disable-line\n //eslint-disable-line\n //eslint-disable-line\n //eslint-disable-line\n //eslint-disable-line\n //eslint-disable-line\n //eslint-disable-line\n //eslint-disable-line\n //eslint-disable-line\n //eslint-disable-line\n\n/**\n * @typedef {Object} DeviceProperties\n * @property {String} DeviceProperties.orientation - Indicates of the orientation of the device.\n * @property {Boolean} DeviceProperties.isAndroid - True if the device is Android. False otherwise.\n * @property {Boolean} DeviceProperties.isIOS - True if the device is iOS. False otherwise.\n * @property {Boolean} DeviceProperties.isMobile - True if the device is a mobile one.\n * False otherwise.\n * @property {Boolean} DeviceProperties.isDesktop - True if the device is a desktop one.\n * False otherwise.\n */\nvar ModalDialog = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represents a modal dialog. The modal dialog admits\n   * a {@link ContentManager} instance to manage the content of the dialog.\n   * @constructs\n   * @param {Object} modalDialogAttributes  - An object containing all modal dialog attributes.\n   */\n  function ModalDialog(modalDialogAttributes) {\n    var _this = this;\n    _classCallCheck(this, ModalDialog);\n    this.attributes = modalDialogAttributes;\n\n    // Metrics.\n    var ua = navigator.userAgent.toLowerCase();\n    var isAndroid = ua.indexOf(\'android\') > -1;\n    var isIOS = _contentmanager__WEBPACK_IMPORTED_MODULE_5__["default"].isIOS();\n    this.iosSoftkeyboardOpened = false;\n    this.iosMeasureUnit = ua.indexOf(\'crios\') === -1 ? \'%\' : \'vh\';\n    this.iosDivHeight = "100%".concat(this.iosMeasureUnit);\n    var deviceWidth = window.outerWidth;\n    var deviceHeight = window.outerHeight;\n    var landscape = deviceWidth > deviceHeight;\n    var portrait = deviceWidth < deviceHeight;\n\n    // TODO: Detect isMobile without using editor metrics.\n    var isLandscape = landscape && this.attributes.height > deviceHeight;\n    var isPortrait = portrait && this.attributes.width > deviceWidth;\n    var isMobile = isLandscape || isPortrait;\n\n    // Obtain number of current instance.\n    this.instanceId = document.getElementsByClassName(\'wrs_modal_dialogContainer\').length;\n\n    // Device object properties.\n\n    /**\n     * @type {DeviceProperties}\n     */\n    this.deviceProperties = {\n      orientation: landscape ? \'landscape\' : \'portait\',\n      isAndroid: isAndroid,\n      isIOS: isIOS,\n      isMobile: isMobile,\n      isDesktop: !isMobile && !isIOS && !isAndroid\n    };\n    this.properties = {\n      created: false,\n      state: \'\',\n      previousState: \'\',\n      position: {\n        bottom: 0,\n        right: 10\n      },\n      size: {\n        height: 338,\n        width: 580\n      }\n    };\n\n    /**\n     * Object to keep website\'s style before change it on lock scroll for mobile devices.\n     * @type {Object}\n     * @property {String} bodyStylePosition - Previous body style postion.\n     * @property {String} bodyStyleOverflow - Previous body style overflow.\n     * @property {String} htmlStyleOverflow - Previous body style overflow.\n     * @property {String} windowScrollX - Previous window\'s scroll Y.\n     * @property {String} windowScrollY - Previous window\'s scroll X.\n     */\n    this.websiteBeforeLockParameters = null;\n    var attributes = {};\n    attributes["class"] = \'wrs_modal_overlay\';\n    attributes.id = this.getElementId(attributes["class"]);\n    this.overlay = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'div\', attributes);\n    attributes = {};\n    attributes["class"] = \'wrs_modal_title_bar\';\n    attributes.id = this.getElementId(attributes["class"]);\n    this.titleBar = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'div\', attributes);\n    attributes = {};\n    attributes["class"] = \'wrs_modal_title\';\n    attributes.id = this.getElementId(attributes["class"]);\n    this.title = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'div\', attributes);\n    this.title.innerHTML = \'\';\n    attributes = {};\n    attributes["class"] = \'wrs_modal_close_button\';\n    attributes.id = this.getElementId(attributes["class"]);\n    attributes.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'close\');\n    attributes.style = {};\n    this.closeDiv = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'a\', attributes);\n    this.closeDiv.setAttribute(\'role\', \'button\');\n    // Apply styles and events after the creation as createElement doesn\'t process them correctly\n    var generalStyle = "background-size: 10px; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_general_close_icon_svg__WEBPACK_IMPORTED_MODULE_8__["default"]), ")");\n    var hoverStyle = "background-size: 10px; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_hover_close_icon_h_svg__WEBPACK_IMPORTED_MODULE_9__["default"]), ")");\n    this.closeDiv.setAttribute(\'style\', generalStyle);\n    this.closeDiv.setAttribute(\'onmouseover\', "this.style = \\"".concat(hoverStyle, "\\";"));\n    this.closeDiv.setAttribute(\'onmouseout\', "this.style = \\"".concat(generalStyle, "\\";"));\n    attributes = {};\n    attributes["class"] = \'wrs_modal_stack_button\';\n    attributes.id = this.getElementId(attributes["class"]);\n    attributes.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'exit_fullscreen\');\n    this.stackDiv = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'a\', attributes);\n    this.stackDiv.setAttribute(\'role\', \'button\');\n    generalStyle = "background-size: 10px; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_general_mins_icon_svg__WEBPACK_IMPORTED_MODULE_14__["default"]), ")");\n    hoverStyle = "background-size: 10px; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_hover_mins_icon_h_svg__WEBPACK_IMPORTED_MODULE_15__["default"]), ")");\n    this.stackDiv.setAttribute(\'style\', generalStyle);\n    this.stackDiv.setAttribute(\'onmouseover\', "this.style = \\"".concat(hoverStyle, "\\";"));\n    this.stackDiv.setAttribute(\'onmouseout\', "this.style = \\"".concat(generalStyle, "\\";"));\n    attributes = {};\n    attributes["class"] = \'wrs_modal_maximize_button\';\n    attributes.id = this.getElementId(attributes["class"]);\n    attributes.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'fullscreen\');\n    this.maximizeDiv = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'a\', attributes);\n    this.maximizeDiv.setAttribute(\'role\', \'button\');\n    generalStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_general_fulls_icon_svg__WEBPACK_IMPORTED_MODULE_10__["default"]), ")");\n    hoverStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_hover_fulls_icon_h_svg__WEBPACK_IMPORTED_MODULE_11__["default"]), ")");\n    this.maximizeDiv.setAttribute(\'style\', generalStyle);\n    this.maximizeDiv.setAttribute(\'onmouseover\', "this.style = \\"".concat(hoverStyle, "\\";"));\n    this.maximizeDiv.setAttribute(\'onmouseout\', "this.style = \\"".concat(generalStyle, "\\";"));\n    attributes = {};\n    attributes["class"] = \'wrs_modal_minimize_button\';\n    attributes.id = this.getElementId(attributes["class"]);\n    attributes.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'minimize\');\n    this.minimizeDiv = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'a\', attributes);\n    this.minimizeDiv.setAttribute(\'role\', \'button\');\n    generalStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_general_min_icon_svg__WEBPACK_IMPORTED_MODULE_12__["default"]), ")");\n    hoverStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_hover_min_icon_h_svg__WEBPACK_IMPORTED_MODULE_13__["default"]), ")");\n    this.minimizeDiv.setAttribute(\'style\', generalStyle);\n    this.minimizeDiv.setAttribute(\'onmouseover\', "this.style = \\"".concat(hoverStyle, "\\";"));\n    this.minimizeDiv.setAttribute(\'onmouseout\', "this.style = \\"".concat(generalStyle, "\\";"));\n    attributes = {};\n    attributes["class"] = \'wrs_modal_dialogContainer\';\n    attributes.id = this.getElementId(attributes["class"]);\n    attributes.role = \'dialog\';\n    this.container = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'div\', attributes);\n    this.container.setAttribute(\'aria-labeledby\', \'wrs_modal_title[0]\');\n    attributes = {};\n    attributes["class"] = \'wrs_modal_wrapper\';\n    attributes.id = this.getElementId(attributes["class"]);\n    this.wrapper = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'div\', attributes);\n    attributes = {};\n    attributes["class"] = \'wrs_content_container\';\n    attributes.id = this.getElementId(attributes["class"]);\n    this.contentContainer = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'div\', attributes);\n    attributes = {};\n    attributes["class"] = \'wrs_modal_controls\';\n    attributes.id = this.getElementId(attributes["class"]);\n    this.controls = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'div\', attributes);\n    attributes = {};\n    attributes["class"] = \'wrs_modal_buttons_container\';\n    attributes.id = this.getElementId(attributes["class"]);\n    this.buttonContainer = _util__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(\'div\', attributes);\n\n    // Buttons: all button must be created using createSubmitButton method.\n    this.submitButton = this.createSubmitButton({\n      id: this.getElementId(\'wrs_modal_button_accept\'),\n      "class": \'wrs_modal_button_accept\',\n      innerHTML: _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'accept\')\n    }, this.submitAction.bind(this));\n    this.cancelButton = this.createSubmitButton({\n      id: this.getElementId(\'wrs_modal_button_cancel\'),\n      "class": \'wrs_modal_button_cancel\',\n      innerHTML: _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'cancel\')\n    }, this.cancelAction.bind(this));\n    this.contentManager = null;\n\n    // Overlay popup.\n    var popupStrings = {\n      cancelString: _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'cancel\'),\n      submitString: _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'close\'),\n      message: _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'close_modal_warning\')\n    };\n    var callbacks = {\n      closeCallback: function closeCallback() {\n        _this.close();\n      },\n      cancelCallback: function cancelCallback() {\n        _this.focus();\n      }\n    };\n    var popupupProperties = {\n      overlayElement: this.container,\n      callbacks: callbacks,\n      strings: popupStrings\n    };\n    this.popup = new _popupmessage__WEBPACK_IMPORTED_MODULE_0__["default"](popupupProperties);\n\n    /**\n    * Indicates if directionality of the modal dialog is RTL. false by default.\n    * @type {Boolean}\n    */\n    this.rtl = false;\n    if (\'rtl\' in this.attributes) {\n      this.rtl = this.attributes.rtl;\n    }\n\n    // Event handlers need modal instance context.\n    this.handleOpenedIosSoftkeyboard = this.handleOpenedIosSoftkeyboard.bind(this);\n    this.handleClosedIosSoftkeyboard = this.handleClosedIosSoftkeyboard.bind(this);\n  }\n\n  /**\n   * This method sets an ContentManager instance to ModalDialog. ContentManager\n   * manages the logic of ModalDialog content: submit, update, close and changes.\n   * @param {ContentManager} contentManager - ContentManager instance.\n   */\n  _createClass(ModalDialog, [{\n    key: "setContentManager",\n    value: function setContentManager(contentManager) {\n      this.contentManager = contentManager;\n    }\n\n    /**\n     * Returns the modal contentElement object.\n     * @returns {ContentManager} the instance of the ContentManager class.\n    */\n  }, {\n    key: "getContentManager",\n    value: function getContentManager() {\n      return this.contentManager;\n    }\n\n    /**\n     * This method is called when the modal object has been submitted. Calls\n     * contentElement submitAction method - if exists - and closes the modal\n     * object. No logic about the content should be placed here,\n     * contentElement.submitAction is the responsible of the content logic.\n     */\n  }, {\n    key: "submitAction",\n    value: function submitAction() {\n      if (typeof this.contentManager.submitAction !== \'undefined\') {\n        this.contentManager.submitAction();\n      }\n      this.close();\n    }\n\n    /**\n     * This method is called when the modal object has been cancelled. If\n     * contentElement has implemented hasChanges method, a confirm popup\n     * will be shown if hasChanges returns true.\n     */\n  }, {\n    key: "cancelAction",\n    value: function cancelAction() {\n      // opening a existing formula editor when trying to open a new one\n      if (typeof this.contentManager.hasChanges === \'undefined\') {\n        // Set temporal image to null to prevent loading\n        // an existent formula when strarting one from scrath. Make focus come back too.\n        _integrationmodel__WEBPACK_IMPORTED_MODULE_7__["default"].setActionsOnCancelButtons();\n        this.close();\n      } else if (!this.contentManager.hasChanges()) {\n        _integrationmodel__WEBPACK_IMPORTED_MODULE_7__["default"].setActionsOnCancelButtons();\n        this.close();\n      } else {\n        this.showPopUpMessage();\n      }\n    }\n\n    /**\n     * Returns a button element.\n     * @param {Object} properties - Input button properties.\n     * @param {String} properties.class - Input button class.\n     * @param {String} properties.innerHTML - Input button innerHTML.\n     * @param {Object} callback - Callback function associated to click event.\n     * @returns {HTMLButtonElement} The button element.\n     *\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "createSubmitButton",\n    value: function createSubmitButton(properties, callback) {\n      var SubmitButton = /*#__PURE__*/function () {\n        function SubmitButton() {\n          _classCallCheck(this, SubmitButton);\n          this.element = document.createElement(\'button\');\n          this.element.id = properties.id;\n          this.element.className = properties["class"];\n          this.element.innerHTML = properties.innerHTML;\n          _util__WEBPACK_IMPORTED_MODULE_1__["default"].addEvent(this.element, \'click\', callback);\n        }\n        _createClass(SubmitButton, [{\n          key: "getElement",\n          value: function getElement() {\n            return this.element;\n          }\n        }]);\n        return SubmitButton;\n      }();\n      return new SubmitButton(properties, callback).getElement();\n    }\n\n    /**\n     * Creates the modal window object inserting a contentElement object.\n     */\n  }, {\n    key: "create",\n    value: function create() {\n      /* Modal Window Structure\n      _____________________________________________________________________________________\n      |wrs_modal_dialog_Container                                                         |\n      | _________________________________________________________________________________ |\n      | |title_bar                          minimize_button  stack_button  close_button | |\n      | |_______________________________________________________________________________| |\n      | |wrapper                                                                        | |\n      | | _____________________________________________________________________________ | |\n      | | |content                                                                    | | |\n      | | |                                                                           | | |\n      | | |                                                                           | | |\n      | | |___________________________________________________________________________| | |\n      | | _____________________________________________________________________________ | |\n      | | |controls                                                                   | | |\n      | | | ___________________________________                                       | | |\n      | | | |buttonContainer                  |                                       | | |\n      | | | | _______________________________ |                                       | | |\n      | | | | |button_accept | button_cancel| |                                       | | |\n      | | | |_|_____________ |______________|_|                                       | | |\n      | | |___________________________________________________________________________| | |\n      | |_______________________________________________________________________________| |\n      |___________________________________________________________________________________| */\n\n      this.titleBar.appendChild(this.closeDiv);\n      this.titleBar.appendChild(this.stackDiv);\n      this.titleBar.appendChild(this.maximizeDiv);\n      this.titleBar.appendChild(this.minimizeDiv);\n      this.titleBar.appendChild(this.title);\n      if (this.deviceProperties.isDesktop) {\n        this.container.appendChild(this.titleBar);\n      }\n      this.wrapper.appendChild(this.contentContainer);\n      this.wrapper.appendChild(this.controls);\n      this.controls.appendChild(this.buttonContainer);\n      this.buttonContainer.appendChild(this.submitButton);\n      this.buttonContainer.appendChild(this.cancelButton);\n      this.container.appendChild(this.wrapper);\n\n      // Check if browser has scrollBar before modal has modified.\n      this.recalculateScrollBar();\n      document.body.appendChild(this.container);\n      document.body.appendChild(this.overlay);\n      if (this.deviceProperties.isDesktop) {\n        // Desktop.\n        this.createModalWindowDesktop();\n        this.createResizeButtons();\n        this.addListeners();\n        // Maximize window only when the configuration is set and the device is not iOS or Android.\n        if (_configuration__WEBPACK_IMPORTED_MODULE_2__["default"].get(\'modalWindowFullScreen\')) {\n          this.maximize();\n        }\n      } else if (this.deviceProperties.isAndroid) {\n        this.createModalWindowAndroid();\n      } else if (this.deviceProperties.isIOS) {\n        this.createModalWindowIos();\n      }\n      if (this.contentManager != null) {\n        this.contentManager.insert(this);\n      }\n      this.properties.open = true;\n      this.properties.created = true;\n\n      // Checks language directionality.\n      if (this.isRTL()) {\n        this.container.style.right = "".concat(window.innerWidth - this.scrollbarWidth - this.container.offsetWidth, "px");\n        this.container.className += \' wrs_modal_rtl\';\n      }\n    }\n\n    /**\n     * Creates a button in the modal object to resize it.\n     */\n  }, {\n    key: "createResizeButtons",\n    value: function createResizeButtons() {\n      // This is a definition of Resize Button Bottom-Right.\n      this.resizerBR = document.createElement(\'div\');\n      this.resizerBR.className = \'wrs_bottom_right_resizer\';\n      this.resizerBR.innerHTML = \'◢\';\n      // This is a definition of Resize Button Top-Left.\n      this.resizerTL = document.createElement(\'div\');\n      this.resizerTL.className = \'wrs_bottom_left_resizer\';\n      // Append resize buttons to modal.\n      this.container.appendChild(this.resizerBR);\n      this.titleBar.appendChild(this.resizerTL);\n      // Add events to resize on click and drag.\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addEvent(this.resizerBR, \'mousedown\', this.activateResizeStateBR.bind(this));\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addEvent(this.resizerTL, \'mousedown\', this.activateResizeStateTL.bind(this));\n    }\n\n    /**\n     * Initialize variables for Bottom-Right resize button\n     * @param {MouseEvent} mouseEvent - Mouse event.\n     */\n  }, {\n    key: "activateResizeStateBR",\n    value: function activateResizeStateBR(mouseEvent) {\n      this.initializeResizeProperties(mouseEvent, false);\n    }\n\n    /**\n     * Initialize variables for Top-Left resize button\n     * @param {MouseEvent} mouseEvent - Mouse event.\n     */\n  }, {\n    key: "activateResizeStateTL",\n    value: function activateResizeStateTL(mouseEvent) {\n      this.initializeResizeProperties(mouseEvent, true);\n    }\n\n    /**\n     * Common method to initialize variables at resize.\n     * @param {MouseEvent} mouseEvent - Mouse event.\n     */\n  }, {\n    key: "initializeResizeProperties",\n    value: function initializeResizeProperties(mouseEvent, leftOption) {\n      // Apply class for disable involuntary select text when drag.\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(document.body, \'wrs_noselect\');\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.overlay, \'wrs_overlay_active\');\n      this.resizeDataObject = {\n        x: this.eventClient(mouseEvent).X,\n        y: this.eventClient(mouseEvent).Y\n      };\n      // Save Initial state of modal to compare on drag and obtain the difference.\n      this.initialWidth = parseInt(this.container.style.width, 10);\n      this.initialHeight = parseInt(this.container.style.height, 10);\n      if (!leftOption) {\n        this.initialRight = parseInt(this.container.style.right, 10);\n        this.initialBottom = parseInt(this.container.style.bottom, 10);\n      } else {\n        this.leftScale = true;\n      }\n      if (!this.initialRight) {\n        this.initialRight = 0;\n      }\n      if (!this.initialBottom) {\n        this.initialBottom = 0;\n      }\n      // Disable mouse events on editor when we start to drag modal.\n      document.body.style[\'user-select\'] = \'none\';\n    }\n\n    /**\n     * This method opens the modal window, restoring the previous state, position and metrics,\n     * if exists. By default the modal object opens in stack mode.\n     */\n  }, {\n    key: "open",\n    value: function open() {\n      var _this2 = this;\n      // TODO Change the call to telemetry to use events.\n      try {\n        _telemetry__WEBPACK_IMPORTED_MODULE_6__["default"].send([{\n          timestamp: new Date().toJSON(),\n          topic: \'0\',\n          level: \'info\',\n          message: \'HELO telemetry.wiris.net\'\n        }]).then(function (response) {// eslint-disable-line no-unused-vars\n          // TODO: manage retries for codes\n          // DEBUG\n          // console.log(\'modal.open TelemetryService.send - response:\', response);\n        });\n      } catch (error) {\n        // DEBUG\n        // console.log(\'modal.open TelemetryService.send - error:\', error);\n      }\n\n      // Removing close class.\n      this.removeClass(\'wrs_closed\');\n      // Hiding keyboard for mobile devices.\n      var isIOS = this.deviceProperties.isIOS;\n      var isAndroid = this.deviceProperties.isAndroid;\n      var isMobile = this.deviceProperties.isMobile;\n      if (isIOS || isAndroid || isMobile) {\n        // Restore scale to 1.\n        this.restoreWebsiteScale();\n        this.lockWebsiteScroll();\n        // Due to editor wait we need to wait until editor focus.\n        setTimeout(function () {\n          _this2.hideKeyboard();\n        }, 400);\n      }\n\n      // New modal window. He need to create the whole object.\n      if (!this.properties.created) {\n        this.create();\n      } else {\n        // Previous state closed. Open method can be called even the previous state is open,\n        // for example updating the content of the modal object.\n        if (!this.properties.open) {\n          this.properties.open = true;\n\n          // Restoring the previous open state: if the modal object has been closed\n          // re-open it should preserve the state and the metrics.\n          if (!this.deviceProperties.isAndroid && !this.deviceProperties.isIOS) {\n            this.restoreState();\n          }\n        }\n\n        // Maximize window only when the configuration is set and the device is not iOs or Android.\n        if (this.deviceProperties.isDesktop && _configuration__WEBPACK_IMPORTED_MODULE_2__["default"].get(\'modalWindowFullScreen\')) {\n          this.maximize();\n        }\n\n        // In iOS we need to recalculate the size of the modal object because\n        // iOS keyboard is a float div which can overlay the modal object.\n        if (this.deviceProperties.isIOS) {\n          this.iosSoftkeyboardOpened = false;\n          this.setContainerHeight("".concat(100 + this.iosMeasureUnit));\n        }\n      }\n      if (!_contentmanager__WEBPACK_IMPORTED_MODULE_5__["default"].isEditorLoaded()) {\n        var listener = _listeners__WEBPACK_IMPORTED_MODULE_3__["default"].newListener(\'onLoad\', function () {\n          _this2.contentManager.onOpen(_this2);\n        });\n        this.contentManager.addListener(listener);\n      } else {\n        this.contentManager.onOpen(this);\n      }\n    }\n\n    /**\n     * Closes modal window and restores viewport header.\n     */\n  }, {\n    key: "close",\n    value: function close() {\n      this.removeClass(\'wrs_maximized\');\n      this.removeClass(\'wrs_minimized\');\n      this.removeClass(\'wrs_stack\');\n      this.addClass(\'wrs_closed\');\n      this.saveModalProperties();\n      this.unlockWebsiteScroll();\n      this.properties.open = false;\n    }\n\n    /**\n     * Sets the website scale to one.\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "restoreWebsiteScale",\n    value: function restoreWebsiteScale() {\n      var viewportmeta = document.querySelector(\'meta[name=viewport]\');\n      // Let the equal symbols in order to search and make meta\'s final content.\n      var contentAttrsToUpdate = [\'initial-scale=\', \'minimum-scale=\', \'maximum-scale=\'];\n      var contentAttrsValuesToUpdate = [\'1.0\', \'1.0\', \'1.0\'];\n      var setMetaAttrFunc = function setMetaAttrFunc(viewportelement, contentAttrs) {\n        var contentAttr = viewportelement.getAttribute(\'content\');\n        // If it exists, we need to maintain old values and put our values.\n        if (contentAttr) {\n          var attrArray = contentAttr.split(\',\');\n          var finalContentMeta = \'\';\n          var oldAttrs = [];\n          for (var i = 0; i < attrArray.length; i += 1) {\n            var isAttrToUpdate = false;\n            var j = 0;\n            while (!isAttrToUpdate && j < contentAttrs.length) {\n              if (attrArray[i].indexOf(contentAttrs[j])) {\n                isAttrToUpdate = true;\n              }\n              j += 1;\n            }\n            if (!isAttrToUpdate) {\n              oldAttrs.push(attrArray[i]);\n            }\n          }\n          for (var _i = 0; _i < contentAttrs.length; _i += 1) {\n            var attr = contentAttrs[_i] + contentAttrsValuesToUpdate[_i];\n            finalContentMeta += _i === 0 ? attr : ",".concat(attr);\n          }\n          for (var _i2 = 0; _i2 < oldAttrs.length; _i2 += 1) {\n            finalContentMeta += ",".concat(oldAttrs[_i2]);\n          }\n          viewportelement.setAttribute(\'content\', finalContentMeta);\n          // It needs to set to empty because setAttribute refresh only when attribute is different.\n          viewportelement.setAttribute(\'content\', \'\');\n          viewportelement.setAttribute(\'content\', contentAttr);\n        } else {\n          viewportelement.setAttribute(\'content\', \'initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0\');\n          viewportelement.removeAttribute(\'content\');\n        }\n      };\n      if (!viewportmeta) {\n        viewportmeta = document.createElement(\'meta\');\n        document.getElementsByTagName(\'head\')[0].appendChild(viewportmeta);\n        setMetaAttrFunc(viewportmeta, contentAttrsToUpdate, contentAttrsValuesToUpdate);\n        viewportmeta.remove();\n      } else {\n        setMetaAttrFunc(viewportmeta, contentAttrsToUpdate, contentAttrsValuesToUpdate);\n      }\n    }\n\n    /**\n     * Locks website scroll for mobile devices.\n     */\n  }, {\n    key: "lockWebsiteScroll",\n    value: function lockWebsiteScroll() {\n      this.websiteBeforeLockParameters = {\n        bodyStylePosition: document.body.style.position ? document.body.style.position : \'\',\n        bodyStyleOverflow: document.body.style.overflow ? document.body.style.overflow : \'\',\n        htmlStyleOverflow: document.documentElement.style.overflow ? document.documentElement.style.overflow : \'\',\n        windowScrollX: window.scrollX,\n        windowScrollY: window.scrollY\n      };\n    }\n\n    /**\n     * Unlocks website scroll for mobile devices.\n     */\n  }, {\n    key: "unlockWebsiteScroll",\n    value: function unlockWebsiteScroll() {\n      if (this.websiteBeforeLockParameters) {\n        document.body.style.position = this.websiteBeforeLockParameters.bodyStylePosition;\n        document.body.style.overflow = this.websiteBeforeLockParameters.bodyStyleOverflow;\n        document.documentElement.style.overflow = this.websiteBeforeLockParameters.htmlStyleOverflow;\n        var windowScrollX = this.websiteBeforeLockParameters.windowScrollX;\n        var windowScrollY = this.websiteBeforeLockParameters.windowScrollY;\n        window.scrollTo(windowScrollX, windowScrollY);\n        this.websiteBeforeLockParameters = null;\n      }\n    }\n\n    /**\n     * Util function to known if browser is IE11.\n     * @returns {Boolean} true if the browser is IE11. false otherwise.\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "isIE11",\n    value: function isIE11() {\n      if (navigator.userAgent.search(\'Msie/\') >= 0 || navigator.userAgent.search(\'Trident/\') >= 0 || navigator.userAgent.search(\'Edge/\') >= 0) {\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Returns if the current language type is RTL.\n     * @return {Boolean} true if current language is RTL. false otherwise.\n     */\n  }, {\n    key: "isRTL",\n    value: function isRTL() {\n      if (this.attributes.language === \'ar\' || this.attributes.language === \'he\') {\n        return true;\n      }\n      return this.rtl;\n    }\n\n    /**\n     * Adds a class to all modal ModalDialog DOM elements.\n     * @param {String} className - Class name.\n     */\n  }, {\n    key: "addClass",\n    value: function addClass(className) {\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.overlay, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.titleBar, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.overlay, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.container, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.contentContainer, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.stackDiv, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.minimizeDiv, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.maximizeDiv, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.wrapper, className);\n    }\n\n    /**\n     * Remove a class from all modal DOM elements.\n     * @param {String} className - Class name.\n     */\n  }, {\n    key: "removeClass",\n    value: function removeClass(className) {\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.overlay, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.titleBar, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.overlay, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.container, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.contentContainer, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.stackDiv, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.minimizeDiv, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.maximizeDiv, className);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.wrapper, className);\n    }\n\n    /**\n     * Create modal dialog for desktop.\n     */\n  }, {\n    key: "createModalWindowDesktop",\n    value: function createModalWindowDesktop() {\n      this.addClass(\'wrs_modal_desktop\');\n      this.stack();\n    }\n\n    /**\n     * Create modal dialog for non android devices.\n     */\n  }, {\n    key: "createModalWindowAndroid",\n    value: function createModalWindowAndroid() {\n      this.addClass(\'wrs_modal_android\');\n      window.addEventListener(\'resize\', this.orientationChangeAndroidSoftkeyboard.bind(this));\n    }\n\n    /**\n     * Create modal dialog for iOS devices.\n     */\n  }, {\n    key: "createModalWindowIos",\n    value: function createModalWindowIos() {\n      this.addClass(\'wrs_modal_ios\');\n      // Refresh the size when the orientation is changed.\n      window.addEventListener(\'resize\', this.orientationChangeIosSoftkeyboard.bind(this));\n    }\n\n    /**\n     * Restore previous state, position and size of previous stacked modal dialog.\n     */\n  }, {\n    key: "restoreState",\n    value: function restoreState() {\n      if (this.properties.state === \'maximized\') {\n        // Reset states for prevent return to stack state.\n        this.maximize();\n      } else if (this.properties.state === \'minimized\') {\n        // Reset states for prevent return to stack state.\n        this.properties.state = this.properties.previousState;\n        this.properties.previousState = \'\';\n        this.minimize();\n      } else {\n        this.stack();\n      }\n    }\n\n    /**\n     * Stacks the modal object.\n     */\n  }, {\n    key: "stack",\n    value: function stack() {\n      this.properties.previousState = this.properties.state;\n      this.properties.state = \'stack\';\n      this.removeClass(\'wrs_maximized\');\n      this.minimizeDiv.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'minimize\');\n      this.removeClass(\'wrs_minimized\');\n      this.addClass(\'wrs_stack\');\n\n      // Change maximize/minimize icon to minimize icon\n      var generalStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_general_min_icon_svg__WEBPACK_IMPORTED_MODULE_12__["default"]), ")");\n      var hoverStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_hover_min_icon_h_svg__WEBPACK_IMPORTED_MODULE_13__["default"]), ")");\n      this.minimizeDiv.setAttribute(\'style\', generalStyle);\n      this.minimizeDiv.setAttribute(\'onmouseover\', "this.style = \\"".concat(hoverStyle, "\\";"));\n      this.minimizeDiv.setAttribute(\'onmouseout\', "this.style = \\"".concat(generalStyle, "\\";"));\n      this.restoreModalProperties();\n      if (typeof this.resizerBR !== \'undefined\' && typeof this.resizerTL !== \'undefined\') {\n        this.setResizeButtonsVisibility();\n      }\n\n      // Need recalculate position of actual modal because window can was changed in fullscreenmode.\n      this.recalculateScrollBar();\n      this.recalculatePosition();\n      this.recalculateScale();\n      this.focus();\n    }\n\n    /**\n     * Minimizes the modal object.\n     */\n  }, {\n    key: "minimize",\n    value: function minimize() {\n      // Saving width, height, top and bottom parameters to restore when opening.\n      this.saveModalProperties();\n      this.title.style.cursor = \'pointer\';\n      if (this.properties.state === \'minimized\' && this.properties.previousState === \'stack\') {\n        this.stack();\n      } else if (this.properties.state === \'minimized\' && this.properties.previousState === \'maximized\') {\n        this.maximize();\n      } else {\n        // Setting css to prevent important tag into css style.\n        this.container.style.height = \'30px\';\n        this.container.style.width = \'250px\';\n        this.container.style.bottom = \'0px\';\n        this.container.style.right = \'10px\';\n        this.removeListeners();\n        this.properties.previousState = this.properties.state;\n        this.properties.state = \'minimized\';\n        this.setResizeButtonsVisibility();\n        this.minimizeDiv.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'maximize\');\n        if (_util__WEBPACK_IMPORTED_MODULE_1__["default"].containsClass(this.overlay, \'wrs_stack\')) {\n          this.removeClass(\'wrs_stack\');\n        } else {\n          this.removeClass(\'wrs_maximized\');\n        }\n        this.addClass(\'wrs_minimized\');\n\n        // Change minimize icon to maximize icon\n        var generalStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_general_max_icon_svg__WEBPACK_IMPORTED_MODULE_16__["default"]), ")");\n        var hoverStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_hover_max_icon_h_svg__WEBPACK_IMPORTED_MODULE_17__["default"]), ")");\n        this.minimizeDiv.setAttribute(\'style\', generalStyle);\n        this.minimizeDiv.setAttribute(\'onmouseover\', "this.style = \\"".concat(hoverStyle, "\\";"));\n        this.minimizeDiv.setAttribute(\'onmouseout\', "this.style = \\"".concat(generalStyle, "\\";"));\n      }\n    }\n\n    /**\n     * Maximizes the modal object.\n     */\n  }, {\n    key: "maximize",\n    value: function maximize() {\n      // Saving width, height, top and bottom parameters to restore when openning.\n      this.saveModalProperties();\n      if (this.properties.state !== \'maximized\') {\n        this.properties.previousState = this.properties.state;\n        this.properties.state = \'maximized\';\n      }\n      // Don\'t permit resize on maximize mode.\n      this.setResizeButtonsVisibility();\n      if (_util__WEBPACK_IMPORTED_MODULE_1__["default"].containsClass(this.overlay, \'wrs_minimized\')) {\n        this.minimizeDiv.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__["default"].get(\'minimize\');\n        this.removeClass(\'wrs_minimized\');\n      } else if (_util__WEBPACK_IMPORTED_MODULE_1__["default"].containsClass(this.overlay, \'wrs_stack\')) {\n        this.container.style.left = null;\n        this.container.style.top = null;\n        this.removeClass(\'wrs_stack\');\n      }\n      this.addClass(\'wrs_maximized\');\n\n      // Change maximize icon to minimize icon\n      var generalStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_general_min_icon_svg__WEBPACK_IMPORTED_MODULE_12__["default"]), ")");\n      var hoverStyle = "background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,".concat(window.btoa(_raw_loader_styles_icons_hover_min_icon_h_svg__WEBPACK_IMPORTED_MODULE_13__["default"]), ")");\n      this.minimizeDiv.setAttribute(\'style\', generalStyle);\n      this.minimizeDiv.setAttribute(\'onmouseover\', "this.style = \\"".concat(hoverStyle, "\\";"));\n      this.minimizeDiv.setAttribute(\'onmouseout\', "this.style = \\"".concat(generalStyle, "\\";"));\n\n      // Set size to 80% screen with a max size.\n      this.setSize(parseInt(window.innerHeight * 0.8, 10), parseInt(window.innerWidth * 0.8, 10));\n      if (this.container.clientHeight > 700) {\n        this.container.style.height = \'700px\';\n      }\n      if (this.container.clientWidth > 1200) {\n        this.container.style.width = \'1200px\';\n      }\n\n      // Setting modal position in center on screen.\n      var _window = window,\n        innerHeight = _window.innerHeight;\n      var _window2 = window,\n        innerWidth = _window2.innerWidth;\n      var offsetHeight = this.container.offsetHeight;\n      var offsetWidth = this.container.offsetWidth;\n      var bottom = innerHeight / 2 - offsetHeight / 2;\n      var right = innerWidth / 2 - offsetWidth / 2;\n      this.setPosition(bottom, right);\n      this.recalculateScale();\n      this.recalculatePosition();\n      this.recalculateSize();\n      this.focus();\n    }\n\n    /**\n     * Expand again the modal object from a minimized state.\n     */\n  }, {\n    key: "reExpand",\n    value: function reExpand() {\n      if (this.properties.state === \'minimized\') {\n        if (this.properties.previousState === \'maximized\') {\n          this.maximize();\n        } else {\n          this.stack();\n        }\n        this.title.style.cursor = \'\';\n      }\n    }\n\n    /**\n     * Sets modal size.\n     * @param {Number} height - Height of the ModalDialog\n     * @param {Number} width - Width of the ModalDialog.\n     */\n  }, {\n    key: "setSize",\n    value: function setSize(height, width) {\n      this.container.style.height = "".concat(height, "px");\n      this.container.style.width = "".concat(width, "px");\n      this.recalculateSize();\n    }\n\n    /**\n     * Sets modal position using bottom and right style attributes.\n     * @param  {number} bottom - bottom attribute.\n     * @param  {number} right - right attribute.\n     */\n  }, {\n    key: "setPosition",\n    value: function setPosition(bottom, right) {\n      this.container.style.bottom = "".concat(bottom, "px");\n      this.container.style.right = "".concat(right, "px");\n    }\n\n    /**\n     * Saves position and size parameters of and open ModalDialog. This attributes\n     * are needed to restore it on re-open.\n     */\n  }, {\n    key: "saveModalProperties",\n    value: function saveModalProperties() {\n      // Saving values of modal only when modal is in stack state.\n      if (this.properties.state === \'stack\') {\n        this.properties.position.bottom = parseInt(this.container.style.bottom, 10);\n        this.properties.position.right = parseInt(this.container.style.right, 10);\n        this.properties.size.width = parseInt(this.container.style.width, 10);\n        this.properties.size.height = parseInt(this.container.style.height, 10);\n      }\n    }\n\n    /**\n     * Restore ModalDialog position and size parameters.\n     */\n  }, {\n    key: "restoreModalProperties",\n    value: function restoreModalProperties() {\n      if (this.properties.state === \'stack\') {\n        // Restoring Bottom and Right values from last modal.\n        this.setPosition(this.properties.position.bottom, this.properties.position.right);\n        // Restoring Height and Left values from last modal.\n        this.setSize(this.properties.size.height, this.properties.size.width);\n      }\n    }\n\n    /**\n     * Sets the modal dialog initial size.\n     */\n  }, {\n    key: "recalculateSize",\n    value: function recalculateSize() {\n      this.wrapper.style.width = "".concat(this.container.clientWidth - 12, "px");\n      this.wrapper.style.height = "".concat(this.container.clientHeight - 38, "px");\n      this.contentContainer.style.height = "".concat(parseInt(this.wrapper.offsetHeight - 50, 10), "px");\n    }\n\n    /**\n     * Enable or disable visibility of resize buttons in modal window depend on state.\n     */\n  }, {\n    key: "setResizeButtonsVisibility",\n    value: function setResizeButtonsVisibility() {\n      if (this.properties.state === \'stack\') {\n        this.resizerTL.style.visibility = \'visible\';\n        this.resizerBR.style.visibility = \'visible\';\n      } else {\n        this.resizerTL.style.visibility = \'hidden\';\n        this.resizerBR.style.visibility = \'hidden\';\n      }\n    }\n\n    /**\n     * Makes an object draggable adding mouse and touch events.\n     */\n  }, {\n    key: "addListeners",\n    value: function addListeners() {\n      // Button events (maximize, minimize, stack and close).\n      this.maximizeDiv.addEventListener(\'click\', this.maximize.bind(this), true);\n      this.stackDiv.addEventListener(\'click\', this.stack.bind(this), true);\n      this.minimizeDiv.addEventListener(\'click\', this.minimize.bind(this), true);\n      this.closeDiv.addEventListener(\'click\', this.cancelAction.bind(this));\n      this.title.addEventListener(\'click\', this.reExpand.bind(this));\n\n      // Overlay events (close).\n      this.overlay.addEventListener(\'click\', this.cancelAction.bind(this));\n\n      // Mouse events.\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addEvent(window, \'mousedown\', this.startDrag.bind(this));\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addEvent(window, \'mouseup\', this.stopDrag.bind(this));\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addEvent(window, \'mousemove\', this.drag.bind(this));\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addEvent(window, \'resize\', this.onWindowResize.bind(this));\n      // Key events.\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].addEvent(this.container, \'keydown\', this.onKeyDown.bind(this));\n    }\n\n    /**\n     * Removes draggable events from an object.\n     */\n  }, {\n    key: "removeListeners",\n    value: function removeListeners() {\n      // Mouse events.\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeEvent(window, \'mousedown\', this.startDrag);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeEvent(window, \'mouseup\', this.stopDrag);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeEvent(window, \'mousemove\', this.drag);\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeEvent(window, \'resize\', this.onWindowResize);\n      // Key events.\n      _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeEvent(this.container, \'keydown\', this.onKeyDown);\n    }\n\n    /**\n     * Returns mouse or touch coordinates (on touch events ev.ClientX doesn\'t exists)\n     * @param {MouseEvent} mouseEvent - Mouse event.\n     * @return {Object} With the X and Y coordinates.\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "eventClient",\n    value: function eventClient(mouseEvent) {\n      if (typeof mouseEvent.clientX === \'undefined\' && mouseEvent.changedTouches) {\n        var _client = {\n          X: mouseEvent.changedTouches[0].clientX,\n          Y: mouseEvent.changedTouches[0].clientY\n        };\n        return _client;\n      }\n      var client = {\n        X: mouseEvent.clientX,\n        Y: mouseEvent.clientY\n      };\n      return client;\n    }\n\n    /**\n     * Start drag function: set the object dragDataObject with the draggable\n     * object offsets coordinates.\n     * when drag starts (on touchstart or mousedown events).\n     * @param {MouseEvent} mouseEvent - Touchstart or mousedown event.\n     */\n  }, {\n    key: "startDrag",\n    value: function startDrag(mouseEvent) {\n      if (this.properties.state === \'minimized\') {\n        return;\n      }\n      if (mouseEvent.target === this.title) {\n        if (typeof this.dragDataObject === \'undefined\' || this.dragDataObject === null) {\n          // Save first click mouse point on screen.\n          this.dragDataObject = {\n            x: this.eventClient(mouseEvent).X,\n            y: this.eventClient(mouseEvent).Y\n          };\n          // Reset last drag position when start drag.\n          this.lastDrag = {\n            x: \'0px\',\n            y: \'0px\'\n          };\n          // Init right and bottom values for window modal if it isn\'t exist.\n          if (this.container.style.right === \'\') {\n            this.container.style.right = \'0px\';\n          }\n          if (this.container.style.bottom === \'\') {\n            this.container.style.bottom = \'0px\';\n          }\n\n          // Needed for IE11 for apply disabled mouse events on editor because\n          // iexplorer need a dinamic object to apply this property.\n          if (this.isIE11()) {\n            // this.iframe.style[\'position\'] = \'relative\';\n          }\n          // Apply class for disable involuntary select text when drag.\n          _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(document.body, \'wrs_noselect\');\n          _util__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(this.overlay, \'wrs_overlay_active\');\n          // Obtain screen limits for prevent overflow.\n          this.limitWindow = this.getLimitWindow();\n        }\n      }\n    }\n\n    /**\n     * Updates dragDataObject with the draggable object coordinates when\n     * the draggable object is being moved.\n     * @param {MouseEvent} mouseEvent - The mouse event.\n     */\n  }, {\n    key: "drag",\n    value: function drag(mouseEvent) {\n      if (this.dragDataObject) {\n        mouseEvent.preventDefault();\n        // Calculate max and min between actual mouse position and limit of screeen.\n        // It restric the movement of modal into window.\n        var limitY = Math.min(this.eventClient(mouseEvent).Y, this.limitWindow.minPointer.y);\n        limitY = Math.max(this.limitWindow.maxPointer.y, limitY);\n        var limitX = Math.min(this.eventClient(mouseEvent).X, this.limitWindow.minPointer.x);\n        limitX = Math.max(this.limitWindow.maxPointer.x, limitX);\n        // Substract limit with first position to obtain relative pixels increment\n        // to the anchor point.\n        var dragX = "".concat(limitX - this.dragDataObject.x, "px");\n        var dragY = "".concat(limitY - this.dragDataObject.y, "px");\n        // Save last valid position of modal before window overflow.\n        this.lastDrag = {\n          x: dragX,\n          y: dragY\n        };\n        // This move modal with hadware acceleration.\n        this.container.style.transform = "translate3d(".concat(dragX, ",").concat(dragY, ",0)");\n      }\n      if (this.resizeDataObject) {\n        var _window3 = window,\n          innerWidth = _window3.innerWidth;\n        var _window4 = window,\n          innerHeight = _window4.innerHeight;\n        var _limitX = Math.min(this.eventClient(mouseEvent).X, innerWidth - this.scrollbarWidth - 7);\n        var _limitY = Math.min(this.eventClient(mouseEvent).Y, innerHeight - 7);\n        if (_limitX < 0) {\n          _limitX = 0;\n        }\n        if (_limitY < 0) {\n          _limitY = 0;\n        }\n        var scaleMultiplier;\n        if (this.leftScale) {\n          scaleMultiplier = -1;\n        } else {\n          scaleMultiplier = 1;\n        }\n        this.container.style.width = "".concat(this.initialWidth + scaleMultiplier * (_limitX - this.resizeDataObject.x), "px");\n        this.container.style.height = "".concat(this.initialHeight + scaleMultiplier * (_limitY - this.resizeDataObject.y), "px");\n        if (!this.leftScale) {\n          if (this.resizeDataObject.x - _limitX - this.initialWidth < -580) {\n            this.container.style.right = "".concat(this.initialRight - (_limitX - this.resizeDataObject.x), "px");\n          } else {\n            this.container.style.right = "".concat(this.initialRight + this.initialWidth - 580, "px");\n            this.container.style.width = \'580px\';\n          }\n          if (this.resizeDataObject.y - _limitY < this.initialHeight - 338) {\n            this.container.style.bottom = "".concat(this.initialBottom - (_limitY - this.resizeDataObject.y), "px");\n          } else {\n            this.container.style.bottom = "".concat(this.initialBottom + this.initialHeight - 338, "px");\n            this.container.style.height = \'338px\';\n          }\n        }\n        this.recalculateScale();\n        this.recalculatePosition();\n      }\n    }\n\n    /**\n     * Returns the boundaries of actual window to limit modal movement.\n     * @return {Object} Object containing mouseX and mouseY coordinates of actual mouse on screen.\n     */\n  }, {\n    key: "getLimitWindow",\n    value: function getLimitWindow() {\n      // Obtain dimensions of window page.\n      var maxWidth = window.innerWidth;\n      var maxHeight = window.innerHeight;\n\n      // Calculate relative position of mouse point into window.\n      var offsetHeight = this.container.offsetHeight;\n      var contStyleBottom = parseInt(this.container.style.bottom, 10);\n      var contStyleRight = parseInt(this.container.style.right, 10);\n      var _window5 = window,\n        pageXOffset = _window5.pageXOffset;\n      var dragY = this.dragDataObject.y;\n      var dragX = this.dragDataObject.x;\n      var offSetToolbarY = offsetHeight + contStyleBottom - (maxHeight - (dragY - pageXOffset));\n      var offSetToolbarX = maxWidth - this.scrollbarWidth - (dragX - pageXOffset) - contStyleRight;\n\n      // Calculate limits with sizes of window, modal and mouse position.\n      var minPointerY = maxHeight - this.container.offsetHeight + offSetToolbarY;\n      var maxPointerY = this.title.offsetHeight - (this.title.offsetHeight - offSetToolbarY);\n      var minPointerX = maxWidth - offSetToolbarX - this.scrollbarWidth;\n      var maxPointerX = this.container.offsetWidth - offSetToolbarX;\n      var minPointer = {\n        x: minPointerX,\n        y: minPointerY\n      };\n      var maxPointer = {\n        x: maxPointerX,\n        y: maxPointerY\n      };\n      return {\n        minPointer: minPointer,\n        maxPointer: maxPointer\n      };\n    }\n\n    /**\n     * Returns the scrollbar width size of browser\n     * @returns {Number} The scrollbar width.\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "getScrollBarWidth",\n    value: function getScrollBarWidth() {\n      // Create a paragraph with full width of page.\n      var inner = document.createElement(\'p\');\n      inner.style.width = \'100%\';\n      inner.style.height = \'200px\';\n\n      // Create a hidden div to compare sizes.\n      var outer = document.createElement(\'div\');\n      outer.style.position = \'absolute\';\n      outer.style.top = \'0px\';\n      outer.style.left = \'0px\';\n      outer.style.visibility = \'hidden\';\n      outer.style.width = \'200px\';\n      outer.style.height = \'150px\';\n      outer.style.overflow = \'hidden\';\n      outer.appendChild(inner);\n      document.body.appendChild(outer);\n      var widthOuter = inner.offsetWidth;\n\n      // Change type overflow of paragraph for measure scrollbar.\n      outer.style.overflow = \'scroll\';\n      var widthInner = inner.offsetWidth;\n\n      // If measure is the same, we compare with internal div.\n      if (widthOuter === widthInner) {\n        widthInner = outer.clientWidth;\n      }\n      document.body.removeChild(outer);\n      return widthOuter - widthInner;\n    }\n\n    /**\n     * Set the dragDataObject to null.\n     */\n  }, {\n    key: "stopDrag",\n    value: function stopDrag() {\n      // Due to we have multiple events that call this function, we need only to execute\n      // the next modifiers one time,\n      // when the user stops to drag and dragDataObject is not null (the object to drag is attached).\n      if (this.dragDataObject || this.resizeDataObject) {\n        // If modal doesn\'t change, it\'s not necessary to set position with interpolation.\n        this.container.style.transform = \'\';\n        if (this.dragDataObject) {\n          this.container.style.right = "".concat(parseInt(this.container.style.right, 10) - parseInt(this.lastDrag.x, 10), "px");\n          this.container.style.bottom = "".concat(parseInt(this.container.style.bottom, 10) - parseInt(this.lastDrag.y, 10), "px");\n        }\n        // We make focus on editor after drag modal windows to prevent lose focus.\n        this.focus();\n        // Restore mouse events on iframe.\n        // this.iframe.style[\'pointer-events\'] = \'auto\';\n        document.body.style[\'user-select\'] = \'\';\n        // Restore static state of iframe if we use Internet Explorer.\n        if (this.isIE11()) {\n          // this.iframe.style[\'position\'] = null;\n        }\n        // Active text select event.\n        _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(document.body, \'wrs_noselect\');\n        _util__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(this.overlay, \'wrs_overlay_active\');\n      }\n      this.dragDataObject = null;\n      this.resizeDataObject = null;\n      this.initialWidth = null;\n      this.leftScale = null;\n    }\n\n    /**\n     * Recalculates scale for modal when resize browser window.\n     */\n  }, {\n    key: "onWindowResize",\n    value: function onWindowResize() {\n      this.recalculateScrollBar();\n      this.recalculatePosition();\n      this.recalculateScale();\n    }\n\n    /**\n     * Triggers keyboard events:\n     * - Tab key tab to go to submit button.\n     * - Esc key to close the modal dialog.\n     * @param {KeyboardEvent} keyboardEvent - The keyboard event.\n     */\n  }, {\n    key: "onKeyDown",\n    value: function onKeyDown(keyboardEvent) {\n      if (keyboardEvent.key !== undefined) {\n        // Popupmessage is not oppened.\n        if (this.popup.overlayWrapper.style.display !== \'block\') {\n          // Code to detect Esc event\n          if (keyboardEvent.key === \'Escape\' || keyboardEvent.key === \'Esc\') {\n            if (this.properties.open) {\n              this.contentManager.onKeyDown(keyboardEvent);\n            }\n          } else if (keyboardEvent.shiftKey && keyboardEvent.key === \'Tab\') {\n            // Code to detect shift Tab event.\n            if (document.activeElement === this.cancelButton) {\n              this.submitButton.focus();\n              keyboardEvent.stopPropagation();\n              keyboardEvent.preventDefault();\n            } else {\n              this.contentManager.onKeyDown(keyboardEvent);\n            }\n          } else if (keyboardEvent.key === \'Tab\') {\n            // Code to detect Tab event.\n            if (document.activeElement === this.submitButton) {\n              this.cancelButton.focus();\n              keyboardEvent.stopPropagation();\n              keyboardEvent.preventDefault();\n            } else {\n              this.contentManager.onKeyDown(keyboardEvent);\n            }\n          }\n        } else {\n          // Popupmessage oppened.\n          this.popup.onKeyDown(keyboardEvent);\n        }\n      }\n    }\n\n    /**\n     * Recalculating position for modal dialog when the browser is resized.\n     */\n  }, {\n    key: "recalculatePosition",\n    value: function recalculatePosition() {\n      this.container.style.right = "".concat(Math.min(parseInt(this.container.style.right, 10), window.innerWidth - this.scrollbarWidth - this.container.offsetWidth), "px");\n      if (parseInt(this.container.style.right, 10) < 0) {\n        this.container.style.right = \'0px\';\n      }\n      this.container.style.bottom = "".concat(Math.min(parseInt(this.container.style.bottom, 10), window.innerHeight - this.container.offsetHeight), "px");\n      if (parseInt(this.container.style.bottom, 10) < 0) {\n        this.container.style.bottom = \'0px\';\n      }\n    }\n\n    /**\n     * Recalculating scale for modal when the browser is resized.\n     */\n  }, {\n    key: "recalculateScale",\n    value: function recalculateScale() {\n      var sizeModificated = false;\n      if (parseInt(this.container.style.width, 10) > 580) {\n        this.container.style.width = "".concat(Math.min(parseInt(this.container.style.width, 10), window.innerWidth - this.scrollbarWidth), "px");\n        sizeModificated = true;\n      } else {\n        this.container.style.width = \'580px\';\n        sizeModificated = true;\n      }\n      if (parseInt(this.container.style.height, 10) > 338) {\n        this.container.style.height = "".concat(Math.min(parseInt(this.container.style.height, 10), window.innerHeight), "px");\n        sizeModificated = true;\n      } else {\n        this.container.style.height = \'338px\';\n        sizeModificated = true;\n      }\n      if (sizeModificated) {\n        this.recalculateSize();\n      }\n    }\n\n    /**\n     * Recalculating width of browser scroll bar.\n     */\n  }, {\n    key: "recalculateScrollBar",\n    value: function recalculateScrollBar() {\n      this.hasScrollBar = window.innerWidth > document.documentElement.clientWidth;\n      if (this.hasScrollBar) {\n        this.scrollbarWidth = this.getScrollBarWidth();\n      } else {\n        this.scrollbarWidth = 0;\n      }\n    }\n\n    /**\n     * Hide soft keyboards on iOS devices.\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "hideKeyboard",\n    value: function hideKeyboard() {\n      // iOS keyboard can\'t be detected or hide directly from JavaScript.\n      // So, this method simulates that user focus a text input and blur\n      // the selection.\n      var inputField = document.createElement(\'input\');\n      this.container.appendChild(inputField);\n      inputField.focus();\n      inputField.blur();\n      // Is removed to not see it.\n      inputField.remove();\n    }\n\n    /**\n     * Focus to contentManager object.\n     */\n  }, {\n    key: "focus",\n    value: function focus() {\n      if (this.contentManager != null && typeof this.contentManager.onFocus !== \'undefined\') {\n        this.contentManager.onFocus();\n      }\n    }\n\n    /**\n     * Returns true when the device is on portrait mode.\n     */\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "portraitMode",\n    value: function portraitMode() {\n      return window.innerHeight > window.innerWidth;\n    }\n\n    /**\n     * Event handler that change container size when IOS softkeyboard is opened.\n     */\n  }, {\n    key: "handleOpenedIosSoftkeyboard",\n    value: function handleOpenedIosSoftkeyboard() {\n      if (!this.iosSoftkeyboardOpened && this.iosDivHeight != null && this.iosDivHeight === "100".concat(this.iosMeasureUnit)) {\n        if (this.portraitMode()) {\n          this.setContainerHeight("63".concat(this.iosMeasureUnit));\n        } else {\n          this.setContainerHeight("40".concat(this.iosMeasureUnit));\n        }\n      }\n      this.iosSoftkeyboardOpened = true;\n    }\n\n    /**\n     * Event handler that change container size when IOS softkeyboard is closed.\n     */\n  }, {\n    key: "handleClosedIosSoftkeyboard",\n    value: function handleClosedIosSoftkeyboard() {\n      this.iosSoftkeyboardOpened = false;\n      this.setContainerHeight("100".concat(this.iosMeasureUnit));\n    }\n\n    /**\n     * Change container sizes when orientation is changed on iOS.\n     */\n  }, {\n    key: "orientationChangeIosSoftkeyboard",\n    value: function orientationChangeIosSoftkeyboard() {\n      if (this.iosSoftkeyboardOpened) {\n        if (this.portraitMode()) {\n          this.setContainerHeight("63".concat(this.iosMeasureUnit));\n        } else {\n          this.setContainerHeight("40".concat(this.iosMeasureUnit));\n        }\n      } else {\n        this.setContainerHeight("100".concat(this.iosMeasureUnit));\n      }\n    }\n\n    /**\n     * Change container sizes when orientation is changed on Android.\n     */\n  }, {\n    key: "orientationChangeAndroidSoftkeyboard",\n    value: function orientationChangeAndroidSoftkeyboard() {\n      this.setContainerHeight(\'100%\');\n    }\n\n    /**\n     * Set iframe container height.\n     * @param {Number} height - New height.\n     */\n  }, {\n    key: "setContainerHeight",\n    value: function setContainerHeight(height) {\n      this.iosDivHeight = height;\n      this.wrapper.style.height = height;\n    }\n\n    /**\n     * Check content of editor before close action.\n     */\n  }, {\n    key: "showPopUpMessage",\n    value: function showPopUpMessage() {\n      if (this.properties.state === \'minimized\') {\n        this.stack();\n      }\n      this.popup.show();\n    }\n\n    /**\n     * Sets the tithle of the modal dialog.\n     * @param {String} title - Modal dialog title.\n     */\n  }, {\n    key: "setTitle",\n    value: function setTitle(title) {\n      this.title.innerHTML = title;\n    }\n\n    /**\n     * Returns the id of an element, adding the instance number to\n     * the element class name:\n     * className --\x3e className[idNumber]\n     * @param {String} className - The element class name.\n     * @returns {String} A string appending the instance id to the className.\n     */\n  }, {\n    key: "getElementId",\n    value: function getElementId(className) {\n      return "".concat(className, "[").concat(this.instanceId, "]");\n    }\n  }]);\n  return ModalDialog;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/modal.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/parser.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Parser)\n/* harmony export */ });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js\");\n/* harmony import */ var _latex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./latex */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/latex.js\");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mathml */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/mathml.js\");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./image */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/image.js\");\n/* harmony import */ var _accessibility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessibility */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/accessibility.js\");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./serviceprovider */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/serviceprovider.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./configuration */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./constants */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/constants.js\");\n/* harmony import */ var _md5__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./md5 */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/md5.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n\n\n\n\n\n// eslint-disable-next-line no-unused-vars\n\n\n/**\n * @classdesc\n * This class represent a MahML parser. Converts MathML into formulas depending on the\n * image format (SVG, PNG, base64) and the save mode (XML, safeXML, Image) configured\n * in the backend.\n */\nvar Parser = /*#__PURE__*/function () {\n  function Parser() {\n    _classCallCheck(this, Parser);\n  }\n  _createClass(Parser, null, [{\n    key: \"mathmlToImgObject\",\n    value:\n    /**\n     * Converts a MathML string to an img element.\n     * @param {Document} creator - Document object to call createElement method.\n     * @param {string} mathml - MathML code\n     * @param {Object[]} wirisProperties - object containing WIRIS custom properties\n     * @param {language} language - custom language for accessibility.\n     * @returns {HTMLImageElement} the formula image corresponding to initial MathML string.\n     * @static\n     */\n    function mathmlToImgObject(creator, mathml, wirisProperties, language) {\n      var imgObject = creator.createElement('img');\n      imgObject.align = 'middle';\n      imgObject.style.maxWidth = 'none';\n      var data = wirisProperties || {};\n\n      // Take into account the backend config\n      var wirisEditorProperties = _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get(\"editorParameters\");\n      data = _objectSpread(_objectSpread({}, wirisEditorProperties), data);\n      data.mml = mathml;\n      data.lang = language;\n      // Request metrics of the generated image.\n      data.metrics = 'true';\n      data.centerbaseline = 'false';\n\n      // Full base64 method (edit & save).\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'default') {\n        data.base64 = true;\n      }\n\n      // Render js params: _wrs_int_wirisProperties contains some js render params.\n      // Since MathML can support render params, js params should be send only to editor.\n\n      imgObject.className = _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName');\n      if (mathml.indexOf('class=\"') !== -1) {\n        // We check here if the MathML has been created from a customEditor (such chemistry)\n        // to add custom editor name attribute to img object (if necessary).\n        var mathmlSubstring = mathml.substring(mathml.indexOf('class=\"') + 'class=\"'.length, mathml.length);\n        mathmlSubstring = mathmlSubstring.substring(0, mathmlSubstring.indexOf('\"'));\n        mathmlSubstring = mathmlSubstring.substring(4, mathmlSubstring.length);\n        imgObject.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageCustomEditorName'), mathmlSubstring);\n      }\n\n      // Performance enabled.\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('wirisPluginPerformance') && (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'xml' || _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'safeXml')) {\n        var result = JSON.parse(Parser.createShowImageSrc(data, language));\n        if (result.status === 'warning') {\n          // POST call.\n          // if the mathml is malformed, this function will throw an exception.\n          try {\n            result = JSON.parse(_serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getService('showimage', data));\n          } catch (e) {\n            return null;\n          }\n        }\n        var _result = result;\n        result = _result.result;\n        if (result.format === 'png') {\n          imgObject.src = \"data:image/png;base64,\".concat(result.content);\n        } else {\n          imgObject.src = \"data:image/svg+xml;charset=utf8,\".concat(_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].urlEncode(result.content));\n        }\n        imgObject.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'), _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlEncode(mathml));\n        _image__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setImgSize(imgObject, result.content, true);\n        if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('enableAccessibility')) {\n          if (typeof result.alt === 'undefined') {\n            imgObject.alt = _accessibility__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mathMLToAccessible(mathml, language, data);\n          } else {\n            imgObject.alt = result.alt;\n          }\n        }\n      } else {\n        var _result2 = Parser.createImageSrc(mathml, data);\n        imgObject.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'), _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlEncode(mathml));\n        imgObject.src = _result2;\n        _image__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setImgSize(imgObject, _result2, _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'default');\n        if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('enableAccessibility')) {\n          imgObject.alt = _accessibility__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mathMLToAccessible(mathml, language, data);\n        }\n      }\n      if (typeof Parser.observer !== 'undefined') {\n        Parser.observer.observe(imgObject);\n      }\n\n      // Role math https://www.w3.org/TR/wai-aria/roles#math.\n      imgObject.setAttribute('role', 'math');\n      return imgObject;\n    }\n\n    /**\n     * Returns the source to showimage service by calling createimage service. The\n     * output of the createimage service is a URL path pointing to showimage service.\n     * This method is called when performance is disabled.\n     * @param {string} mathml - MathML code.\n     * @param {Object[]} data - data object containing service parameters.\n     * @returns {string} the showimage path.\n     */\n  }, {\n    key: \"createImageSrc\",\n    value: function createImageSrc(mathml, data) {\n      // Full base64 method (edit & save).\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'default') {\n        data.base64 = true;\n      }\n      var result = _serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getService('createimage', data);\n      if (result.indexOf('@BASE@') !== -1) {\n        // Replacing '@BASE@' with the base URL of createimage.\n        var baseParts = _serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getServicePath('createimage').split('/');\n        baseParts.pop();\n        result = result.split('@BASE@').join(baseParts.join('/'));\n      }\n      return result;\n    }\n\n    /**\n     * Parses initial HTML code. If the HTML contains data generated by WIRIS,\n     * this data would be converted as following:\n     * <pre>\n     * MathML code: Image containing the corresponding MathML formulas.\n     * MathML code with LaTeX annotation : LaTeX string.\n     * </pre>\n     * @param {string} code - HTML code containing MathML data.\n     * @param {string} language - language to create image alt text.\n     * @returns {string} HTML code with the original MathML converted into LaTeX and images.\n     */\n  }, {\n    key: \"initParse\",\n    value: function initParse(code, language) {\n      /* Note: The code inside this function has been inverted.\n      If you invert again the code then you cannot use correctly LaTeX\n      in Moodle.\n      */\n      code = Parser.initParseSaveMode(code, language);\n      return Parser.initParseEditMode(code);\n    }\n\n    /**\n     * Parses initial HTML code depending on the save mode. Transforms all MathML\n     * occurrences for it's correspondent image or LaTeX.\n     * @param {string} code - HTML code to be parsed\n     * @param {string} language - language to create image alt text.\n     * @returns {string} HTML code parsed.\n     */\n  }, {\n    key: \"initParseSaveMode\",\n    value: function initParseSaveMode(code, language) {\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode')) {\n        // Converting XML to tags.\n        code = _latex__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseMathmlToLatex(code, _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].safeXmlCharacters);\n        code = _latex__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseMathmlToLatex(code, _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].xmlCharacters);\n        code = Parser.parseMathmlToImg(code, _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].safeXmlCharacters, language);\n        code = Parser.parseMathmlToImg(code, _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].xmlCharacters, language);\n        if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'image') {\n          code = Parser.codeImgTransform(code, 'base642showimage');\n        }\n      }\n      return code;\n    }\n\n    /**\n     * Parses initial HTML code depending on the edit mode.\n     * If 'latex' parseMode is enabled all MathML containing an annotation with encoding='LaTeX' will\n     * be converted into a LaTeX string instead of an image.\n     * @param {string} code - HTML code containing MathML.\n     * @returns {string} parsed HTML code.\n     */\n  }, {\n    key: \"initParseEditMode\",\n    value: function initParseEditMode(code) {\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('parseModes').indexOf('latex') !== -1) {\n        var imgList = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getElementsByNameFromString(code, 'img', true);\n        var token = 'encoding=\"LaTeX\">';\n        // While replacing images with latex, the indexes of the found images changes\n        // respecting the original code, so this carry is needed.\n        var carry = 0;\n        for (var i = 0; i < imgList.length; i += 1) {\n          var imgCode = code.substring(imgList[i].start + carry, imgList[i].end + carry);\n          if (imgCode.indexOf(\" class=\\\"\".concat(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName'), \"\\\"\")) !== -1) {\n            var mathmlStartToken = \" \".concat(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'), \"=\\\"\");\n            var mathmlStart = imgCode.indexOf(mathmlStartToken);\n            if (mathmlStart === -1) {\n              mathmlStartToken = ' alt=\"';\n              mathmlStart = imgCode.indexOf(mathmlStartToken);\n            }\n            if (mathmlStart !== -1) {\n              mathmlStart += mathmlStartToken.length;\n              var mathmlEnd = imgCode.indexOf('\"', mathmlStart);\n              var mathml = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].htmlSanitize(_mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlDecode(imgCode.substring(mathmlStart, mathmlEnd)));\n              var latexStartPosition = mathml.indexOf(token);\n              if (latexStartPosition !== -1) {\n                latexStartPosition += token.length;\n                var latexEndPosition = mathml.indexOf('</annotation>', latexStartPosition);\n                var latex = mathml.substring(latexStartPosition, latexEndPosition);\n                var replaceText = \"$$\".concat(_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].htmlEntitiesDecode(latex), \"$$\");\n                var start = code.substring(0, imgList[i].start + carry);\n                var end = code.substring(imgList[i].end + carry);\n                code = start + replaceText + end;\n                carry += replaceText.length - (imgList[i].end - imgList[i].start);\n              }\n            }\n          }\n        }\n      }\n      return code;\n    }\n\n    /**\n     * Parses end HTML code. The end HTML code is HTML code with embedded images\n     * or LaTeX formulas created with MathType. <br>\n     * By default this method converts the formula images and LaTeX strings in MathML. <br>\n     * If image mode is enabled the images will not be converted into MathML. For further information see {@link https://docs.wiris.com/mathtype/en/mathtype-integrations/mathtype-web-interface-features/full-mathml-mode---wirisplugins-js.html}.\n     * @param {string} code - HTML to be parsed\n     * @returns {string} the HTML code parsed.\n     */\n  }, {\n    key: \"endParse\",\n    value: function endParse(code) {\n      // Transform LaTeX ocurrences to MathML elements.\n      var codeEndParsedEditMode = Parser.endParseEditMode(code);\n      // Transform img elements to MathML elements.\n      var codeEndParseSaveMode = Parser.endParseSaveMode(codeEndParsedEditMode);\n      return codeEndParseSaveMode;\n    }\n\n    /**\n     * Parses end HTML code depending on the edit mode.\n     * - LaTeX is an enabled parse mode, all LaTeX occurrences will be converted into MathML.\n     * @param {string} code - HTML code to be parsed.\n     * @returns {string} HTML code parsed.\n     */\n  }, {\n    key: \"endParseEditMode\",\n    value: function endParseEditMode(code) {\n      // Converting LaTeX to images.\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('parseModes').indexOf('latex') !== -1) {\n        var output = '';\n        var endPosition = 0;\n        var startPosition = code.indexOf('$$');\n        while (startPosition !== -1) {\n          output += code.substring(endPosition, startPosition);\n          endPosition = code.indexOf('$$', startPosition + 2);\n          if (endPosition !== -1) {\n            // Before, it was a condition here to execute the next codelines\n            // 'latex.indexOf('<') == -1'.\n            // We don't know why it was used, but seems to have a conflict with\n            // latex formulas that contains '<'.\n            var latex = code.substring(startPosition + 2, endPosition);\n            var decodedLatex = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].htmlEntitiesDecode(latex);\n            var mathml = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].htmlSanitize(_latex__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMathMLFromLatex(decodedLatex, true));\n            if (!_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveHandTraces')) {\n              // Remove hand traces.\n              mathml = _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].removeAnnotation(mathml, 'application/json');\n            }\n            output += mathml;\n            endPosition += 2;\n          } else {\n            output += '$$';\n            endPosition = startPosition + 2;\n          }\n          startPosition = code.indexOf('$$', endPosition);\n        }\n        output += code.substring(endPosition, code.length);\n        code = output;\n      }\n      return code;\n    }\n\n    /**\n     * Parses end HTML code depending on the save mode. Converts all\n     * images into the element determined by the save mode:\n     * - xml: Parses images formulas into MathML.\n     * - safeXml: Parses images formulas into safeMAthML\n     * - base64: Parses images into base64 images.\n     * - image: Parse images into images (no parsing)\n     * @param {string} code - HTML code to be parsed\n     * @returns {string} HTML code parsed.\n     */\n  }, {\n    key: \"endParseSaveMode\",\n    value: function endParseSaveMode(code) {\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode')) {\n        if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'safeXml') {\n          code = Parser.codeImgTransform(code, 'img2mathml');\n        } else if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'xml') {\n          code = Parser.codeImgTransform(code, 'img2mathml');\n        } else if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'image') {\n          code = Parser.codeImgTransform(code, 'img264');\n        }\n      }\n      return code;\n    }\n\n    /**\n     * Returns the result to call showimage service with the formula md5 as parameter.\n     *  The result could be:\n     * - {'status' : warning'} : The image associated to the MathML md5 is not in cache.\n     * - {'status' : 'ok' ...} : The image associated to the MathML md5 is in cache.\n     * @param {Object[]} data - object containing showimage service parameters.\n     * @param {string} language - string containing the language of the formula.\n     * @returns {Object} JSON object containing showimage response.\n     */\n  }, {\n    key: \"createShowImageSrc\",\n    value: function createShowImageSrc(data, language) {\n      var dataMd5 = {};\n      var renderParams = ['mml', 'color', 'centerbaseline', 'zoom', 'dpi', 'fontSize', 'fontFamily', 'defaultStretchy', 'backgroundColor', 'format'];\n      renderParams.forEach(function (param) {\n        if (typeof data[param] !== 'undefined') {\n          dataMd5[param] = data[param];\n        }\n      });\n      // Data variables to get.\n      var dataObject = {};\n      Object.keys(data).forEach(function (key) {\n        // We don't need mathml in this request we try to get cached.\n        // Only need the formula md5 calculated before.\n        if (key !== 'mml') {\n          dataObject[key] = data[key];\n        }\n      });\n      dataObject.formula = com.wiris.js.JsPluginTools.md5encode(_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].propertiesToString(dataMd5));\n      dataObject.lang = typeof language === 'undefined' ? 'en' : language;\n      dataObject.version = _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('version');\n      var result = _serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getService('showimage', _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].httpBuildQuery(dataObject), true);\n      return result;\n    }\n\n    /**\n     * Transform html img tags inside a html code to mathml, base64 img tags (i.e with base64 on src)\n     * or showimage img tags (i.e with showimage.php on src)\n     * @param  {string} code - HTML code\n     * @param  {string} mode - base642showimage or img2mathml or img264 transform.\n     * @returns {string} html - code transformed.\n     */\n  }, {\n    key: \"codeImgTransform\",\n    value: function codeImgTransform(code, mode) {\n      var output = '';\n      var endPosition = 0;\n      var pattern = /<img/gi;\n      var patternLength = pattern.source.length;\n      while (pattern.test(code)) {\n        var startPosition = pattern.lastIndex - patternLength;\n        output += code.substring(endPosition, startPosition);\n        var i = startPosition + 1;\n        while (i < code.length && endPosition <= startPosition) {\n          var character = code.charAt(i);\n          if (character === '\"' || character === '\\'') {\n            var characterNextPosition = code.indexOf(character, i + 1);\n            if (characterNextPosition === -1) {\n              i = code.length; // End while.\n            } else {\n              i = characterNextPosition;\n            }\n          } else if (character === '>') {\n            endPosition = i + 1;\n          }\n          i += 1;\n        }\n        if (endPosition < startPosition) {\n          // The img tag is stripped.\n          output += code.substring(startPosition, code.length);\n          return output;\n        }\n        var imgCode = code.substring(startPosition, endPosition);\n        var imgObject = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createObject(imgCode);\n        var xmlCode = imgObject.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'));\n        var convertToXml = void 0;\n        var convertToSafeXml = void 0;\n        if (mode === 'base642showimage') {\n          if (xmlCode == null) {\n            xmlCode = imgObject.getAttribute('alt');\n          }\n          xmlCode = _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlDecode(xmlCode);\n          imgCode = Parser.mathmlToImgObject(document, xmlCode, null, null);\n          output += _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createObjectCode(imgCode);\n        } else if (mode === 'img2mathml') {\n          if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode')) {\n            if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'safeXml') {\n              convertToXml = true;\n              convertToSafeXml = true;\n            } else if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'xml') {\n              convertToXml = true;\n              convertToSafeXml = false;\n            }\n          }\n          output += _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getWIRISImageOutput(imgCode, convertToXml, convertToSafeXml);\n        } else if (mode === 'img264') {\n          if (xmlCode === null) {\n            xmlCode = imgObject.getAttribute('alt');\n          }\n          xmlCode = _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlDecode(xmlCode);\n          var properties = {};\n          properties.base64 = 'true';\n          imgCode = Parser.mathmlToImgObject(document, xmlCode, properties, null);\n          // Metrics.\n          _image__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setImgSize(imgCode, imgCode.src, true);\n          output += _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createObjectCode(imgCode);\n        }\n      }\n      output += code.substring(endPosition, code.length);\n      return output;\n    }\n\n    /**\n     * Converts all occurrences of MathML to the corresponding image.\n     * @param {string} content - string with valid MathML code.\n     * The MathML code doesn't contain semantics.\n     * @param {Constants} characters - Constant object containing xmlCharacters\n     * or safeXmlCharacters relation.\n     * @param {string} language - a valid language code\n     * in order to generate formula accessibility.\n     * @returns {string} The input string with all the MathML\n     * occurrences replaced by the corresponding image.\n     */\n  }, {\n    key: \"parseMathmlToImg\",\n    value: function parseMathmlToImg(content, characters, language) {\n      var output = '';\n      var mathTagBegin = \"\".concat(characters.tagOpener, \"math\");\n      var mathTagEnd = \"\".concat(characters.tagOpener, \"/math\").concat(characters.tagCloser);\n      var start = content.indexOf(mathTagBegin);\n      var end = 0;\n      while (start !== -1) {\n        output += content.substring(end, start);\n        // Avoid WIRIS images to be parsed.\n        var imageMathmlAtrribute = content.indexOf(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'));\n        end = content.indexOf(mathTagEnd, start);\n        if (end === -1) {\n          end = content.length - 1;\n        } else if (imageMathmlAtrribute !== -1) {\n          // First close tag of img attribute\n          // If a mathmlAttribute exists should be inside a img tag.\n          end += content.indexOf('/>', start);\n        } else {\n          end += mathTagEnd.length;\n        }\n        if (!_mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isMathmlInAttribute(content, start) && imageMathmlAtrribute === -1) {\n          var mathml = content.substring(start, end);\n          mathml = characters.id === _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].safeXmlCharacters.id ? _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlDecode(mathml) : _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mathMLEntities(mathml);\n          output += _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createObjectCode(Parser.mathmlToImgObject(document, mathml, null, language));\n        } else {\n          output += content.substring(start, end);\n        }\n        start = content.indexOf(mathTagBegin, end);\n      }\n      output += content.substring(end, content.length);\n      return output;\n    }\n  }]);\n  return Parser;\n}(); // Mutation observers to avoid wiris image formulas class be removed.\n\nif (typeof MutationObserver !== 'undefined') {\n  var mutationObserver = new MutationObserver(function (mutations) {\n    mutations.forEach(function (mutation) {\n      if (mutation.oldValue === _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName') && mutation.attributeName === 'class' && mutation.target.className.indexOf(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName')) === -1) {\n        mutation.target.className = _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName');\n      }\n    });\n  });\n  Parser.observer = Object.create(mutationObserver);\n  Parser.observer.Config = {\n    attributes: true,\n    attributeOldValue: true\n  };\n  // We use own default config.\n  Parser.observer.observe = function (target) {\n    Object.getPrototypeOf(this).observe(target, this.Config);\n  };\n}\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/parser.js?")},"./node_modules/@wiris/mathtype-html-integration-devkit/src/polyfills.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* eslint-disable */\nvar polyfills;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (polyfills);\n\n// Polyfills.\n/*! http://mths.be/codepointat v0.1.0 by @mathias */\nif (!String.prototype.codePointAt) {\n  (function () {\n    'use strict';\n\n    // needed to support `apply`/`call` with `undefined`/`null`\n    var codePointAt = function codePointAt(position) {\n      if (this == null) {\n        throw TypeError();\n      }\n      var string = String(this);\n      var size = string.length;\n      // `ToInteger`\n      var index = position ? Number(position) : 0;\n      if (index != index) {\n        // better `isNaN`\n        index = 0;\n      }\n      // Account for out-of-bounds indices:\n      if (index < 0 || index >= size) {\n        return undefined;\n      }\n      // Get the first code unit\n      var first = string.charCodeAt(index);\n      var second;\n      if (\n      // check if it’s the start of a surrogate pair\n      first >= 0xD800 && first <= 0xDBFF &&\n      // high surrogate\n      size > index + 1 // there is a next code unit\n      ) {\n        second = string.charCodeAt(index + 1);\n        if (second >= 0xDC00 && second <= 0xDFFF) {\n          // low surrogate\n          // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n          return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        }\n      }\n      return first;\n    };\n    if (Object.defineProperty) {\n      Object.defineProperty(String.prototype, 'codePointAt', {\n        'value': codePointAt,\n        'configurable': true,\n        'writable': true\n      });\n    } else {\n      String.prototype.codePointAt = codePointAt;\n    }\n  })();\n}\n\n// Object.assign polyfill.\nif (typeof Object.assign != 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, \"assign\", {\n    value: function assign(target, varArgs) {\n      // .length of function is 2\n      'use strict';\n\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n      var to = Object(target);\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function value(searchElement, fromIndex) {\n      if (this == null) {\n        throw new TypeError('\"this\" s null or is not defined');\n      }\n\n      // 1. Let O be ? ToObject(this value).\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. if len is 0, return false.\n      if (len === 0) {\n        return false;\n      }\n\n      // 4. Let n be ? ToInteger(fromIndex).\n      //    (if fromIndex is undefinedo, this step generates the value 0.)\n      var n = fromIndex | 0;\n\n      // 5. if n ≥ 0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. if k < 0, let k be 0.\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n      function sameValueZero(x, y) {\n        return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n      }\n\n      // 7. Repeat while k < len\n      while (k < len) {\n        // a. let element k be the result of ? Get(O, ! ToString(k)).\n        // b. if SameValueZero(searchElement, elementK) is true, return true.\n        if (sameValueZero(o[k], searchElement)) {\n          return true;\n        }\n        // c. Increase k by 1.\n        k++;\n      }\n\n      // 8. Return false\n      return false;\n    }\n  });\n}\nif (!String.prototype.includes) {\n  String.prototype.includes = function (search, start) {\n    'use strict';\n\n    if (search instanceof RegExp) {\n      throw TypeError('first argument must not be a RegExp');\n    }\n    if (start === undefined) {\n      start = 0;\n    }\n    return this.indexOf(search, start) !== -1;\n  };\n}\nif (!String.prototype.startsWith) {\n  Object.defineProperty(String.prototype, 'startsWith', {\n    value: function value(search, rawPos) {\n      var pos = rawPos > 0 ? rawPos | 0 : 0;\n      return this.substring(pos, pos + search.length) === search;\n    }\n  });\n}\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/polyfills.js?")},"./node_modules/@wiris/mathtype-html-integration-devkit/src/popupmessage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PopUpMessage)\n/* harmony export */ });\n/* harmony import */ var _integrationmodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integrationmodel */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/integrationmodel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n/**\n\n */\nvar PopUpMessage = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represents a dialog message overlaying a DOM element in order to\n   * accept / cancel discard changes. The dialog can be closed i.e the overlay disappears\n   * o canceled. In this last case a callback function should be called.\n   * @constructs\n   * @param {Object} popupMessageAttributes - Object containing popup properties.\n   * @param {HTMLElement} popupMessageAttributes.overlayElement - Element to overlay.\n   * @param {Object} popupMessageAttributes.callbacks - Contains callback\n   * methods for close and cancel actions.\n   * @param {Object} popupMessageAttributes.strings - Contains all the strings needed.\n   */\n  function PopUpMessage(popupMessageAttributes) {\n    _classCallCheck(this, PopUpMessage);\n    /**\n     * Element to be overlaid when the popup appears.\n     */\n    this.overlayElement = popupMessageAttributes.overlayElement;\n    this.callbacks = popupMessageAttributes.callbacks;\n\n    /**\n     * HTMLElement element to wrap all HTML elements inside the popupMessage.\n     */\n    this.overlayWrapper = this.overlayElement.appendChild(document.createElement('div'));\n    this.overlayWrapper.setAttribute('class', 'wrs_popupmessage_overlay_envolture');\n\n    /**\n     * HTMLElement to display the popup message, close button and cancel button.\n     */\n    this.message = this.overlayWrapper.appendChild(document.createElement('div'));\n    this.message.id = 'wrs_popupmessage';\n    this.message.setAttribute('class', 'wrs_popupmessage_panel');\n    this.message.setAttribute('role', 'dialog');\n    this.message.setAttribute('aria-describedby', 'description_txt');\n    var paragraph = document.createElement('p');\n    var text = document.createTextNode(popupMessageAttributes.strings.message);\n    paragraph.appendChild(text);\n    paragraph.id = 'description_txt';\n    this.message.appendChild(paragraph);\n\n    /**\n     * HTML element overlaying the overlayElement.\n     */\n    var overlay = this.overlayWrapper.appendChild(document.createElement('div'));\n    overlay.setAttribute('class', 'wrs_popupmessage_overlay');\n    // We create a overlay that close popup message on click in there\n    overlay.addEventListener('click', this.cancelAction.bind(this));\n\n    /**\n     * HTML element containing cancel and close buttons.\n     */\n    this.buttonArea = this.message.appendChild(document.createElement('div'));\n    this.buttonArea.setAttribute('class', 'wrs_popupmessage_button_area');\n    this.buttonArea.id = 'wrs_popup_button_area';\n\n    // Close button arguments.\n    var buttonSubmitArguments = {\n      \"class\": 'wrs_button_accept',\n      innerHTML: popupMessageAttributes.strings.submitString,\n      id: 'wrs_popup_accept_button'\n    };\n\n    /**\n     * Close button arguments.\n     */\n    this.closeButton = this.createButton(buttonSubmitArguments, this.closeAction.bind(this));\n    this.buttonArea.appendChild(this.closeButton);\n\n    // Cancel button arguments.\n    var buttonCancelArguments = {\n      \"class\": 'wrs_button_cancel',\n      innerHTML: popupMessageAttributes.strings.cancelString,\n      id: 'wrs_popup_cancel_button'\n    };\n\n    /**\n     * Cancel button.\n     */\n    this.cancelButton = this.createButton(buttonCancelArguments, this.cancelAction.bind(this));\n    this.buttonArea.appendChild(this.cancelButton);\n  }\n\n  /**\n   * This method create a button with arguments and return button dom object\n   * @param {Object} parameters - An object containing id, class and innerHTML button text.\n   * @param {String} parameters.id - Button id.\n   * @param {String} parameters.class - Button class name.\n   * @param {String} parameters.innerHTML - Button innerHTML text.\n   * @param {Object} callback- Callback method to call on click event.\n   * @returns {HTMLElement} HTML button.\n   */\n  // eslint-disable-next-line class-methods-use-this\n  _createClass(PopUpMessage, [{\n    key: \"createButton\",\n    value: function createButton(parameters, callback) {\n      var element = {};\n      element = document.createElement('button');\n      element.setAttribute('id', parameters.id);\n      element.setAttribute('class', parameters[\"class\"]);\n      element.innerHTML = parameters.innerHTML;\n      element.addEventListener('click', callback);\n      return element;\n    }\n\n    /**\n     * Shows the popupmessage containing a message, and two buttons\n     * to cancel the action or close the modal dialog.\n     */\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.overlayWrapper.style.display !== 'block') {\n        // Clear focus with blur for prevent press any key.\n        document.activeElement.blur();\n        this.overlayWrapper.style.display = 'block';\n        this.closeButton.focus();\n      } else {\n        this.overlayWrapper.style.display = 'none';\n        // _wrs_modalWindow.focus(); This throws an error of not existing _wrs_modalWindow\n      }\n    }\n\n    /**\n     * This method cancels the popupMessage: the dialog disappears revealing the overlaid element.\n     * A callback method is called (if defined). For example a method to focus the overlaid element.\n     */\n  }, {\n    key: \"cancelAction\",\n    value: function cancelAction() {\n      this.overlayWrapper.style.display = 'none';\n      if (typeof this.callbacks.cancelCallback !== 'undefined') {\n        this.callbacks.cancelCallback();\n        // Set temporal image to null to prevent loading\n        // an existent formula when strarting one from scrath. Make focus come back too.\n        _integrationmodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setActionsOnCancelButtons();\n      }\n    }\n\n    /**\n     * This method closes the popupMessage: the dialog disappears and the close callback is called.\n     * For example to close the overlaid element.\n     */\n  }, {\n    key: \"closeAction\",\n    value: function closeAction() {\n      this.cancelAction();\n      if (typeof this.callbacks.closeCallback !== 'undefined') {\n        this.callbacks.closeCallback();\n      }\n    }\n\n    /**\n     * Handle keyboard events detected in modal when elements of this class intervene.\n     * @param {KeyboardEvent} keyboardEvent - The keyboard event.\n     */\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(keyboardEvent) {\n      if (keyboardEvent.key !== undefined) {\n        // Code to detect Esc event.\n        if (keyboardEvent.key === 'Escape' || keyboardEvent.key === 'Esc') {\n          this.cancelAction();\n          keyboardEvent.stopPropagation();\n          keyboardEvent.preventDefault();\n        } else if (keyboardEvent.key === 'Tab') {\n          // Code to detect Tab event.\n          if (document.activeElement === this.closeButton) {\n            this.cancelButton.focus();\n          } else {\n            this.closeButton.focus();\n          }\n          keyboardEvent.stopPropagation();\n          keyboardEvent.preventDefault();\n        }\n      }\n    }\n  }]);\n  return PopUpMessage;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/popupmessage.js?")},"./node_modules/@wiris/mathtype-html-integration-devkit/src/serviceprovider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ServiceProvider)\n/* harmony export */ });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./listeners */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/listeners.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n/**\n * @typedef {Object} ServiceProviderProperties\n * @property {String} URI - Service URI.\n * @property {String} server - Service server language.\n */\n\n/**\n * @classdesc\n * Class representing a serviceProvider. A serviceProvider is a class containing\n * an arbitrary number of services with the correspondent path.\n */\nvar ServiceProvider = /*#__PURE__*/function () {\n  function ServiceProvider() {\n    _classCallCheck(this, ServiceProvider);\n  }\n  _createClass(ServiceProvider, null, [{\n    key: \"listeners\",\n    get:\n    /**\n     * Returns Service Provider listeners.\n     * @type {Listeners}\n     */\n    function get() {\n      return ServiceProvider._listeners;\n    }\n\n    /**\n     * Adds a {@link Listener} instance to {@link ServiceProvider} class.\n     * @param {Listener} listener - Instance of {@link Listener}.\n     */\n  }, {\n    key: \"addListener\",\n    value: function addListener(listener) {\n      ServiceProvider.listeners.add(listener);\n    }\n\n    /**\n     * Fires events in Service Provider.\n     * @param {String} eventName - Event name.\n     * @param {Event} event - Event object.\n     */\n  }, {\n    key: \"fireEvent\",\n    value: function fireEvent(eventName, event) {\n      ServiceProvider.listeners.fire(eventName, event);\n    }\n\n    /**\n     * Service parameters.\n     * @type {ServiceProviderProperties}\n     *\n     */\n  }, {\n    key: \"parameters\",\n    get: function get() {\n      return ServiceProvider._parameters;\n    }\n\n    /**\n     * Service parameters.\n     * @private\n     * @type {ServiceProviderProperties}\n     */,\n    set: function set(parameters) {\n      ServiceProvider._parameters = parameters;\n    }\n\n    /**\n     * Static property.\n     * Return service provider paths.\n     * @private\n     * @type {String}\n     */\n  }, {\n    key: \"servicePaths\",\n    get: function get() {\n      return ServiceProvider._servicePaths;\n    }\n\n    /**\n     * Static property setter.\n     * Set service paths.\n     * @param {String} value - The property value.\n     * @ignore\n     */,\n    set: function set(value) {\n      ServiceProvider._servicePaths = value;\n    }\n\n    /**\n     * Adds a new service to the ServiceProvider.\n     * @param {String} service - Service name.\n     * @param {String} path - Service path.\n     * @static\n     */\n  }, {\n    key: \"setServicePath\",\n    value: function setServicePath(service, path) {\n      ServiceProvider.servicePaths[service] = path;\n    }\n\n    /**\n     * Returns the service path for a certain service.\n     * @param {String} serviceName - Service name.\n     * @returns {String} The service path.\n     * @static\n     */\n  }, {\n    key: \"getServicePath\",\n    value: function getServicePath(serviceName) {\n      return ServiceProvider.servicePaths[serviceName];\n    }\n\n    /**\n     * Static property.\n     * Service provider integration path.\n     * @type {String}\n     */\n  }, {\n    key: \"integrationPath\",\n    get: function get() {\n      return ServiceProvider._integrationPath;\n    }\n\n    /**\n     * Static property setter.\n     * Set service provider integration path.\n     * @param {String} value - The property value.\n     * @ignore\n     */,\n    set: function set(value) {\n      ServiceProvider._integrationPath = value;\n    }\n\n    /**\n     * Returns the server URL in the form protocol://serverName:serverPort.\n     * @return {String} The client side server path.\n     */\n  }, {\n    key: \"getServerURL\",\n    value: function getServerURL() {\n      var url = window.location.href;\n      var arr = url.split('/');\n      var result = \"\".concat(arr[0], \"//\").concat(arr[2]);\n      return result;\n    }\n\n    /**\n     * Inits {@link this} class. Uses {@link this.integrationPath} as\n     * base path to generate all backend services paths.\n     * @param {Object} parameters - Function parameters.\n     * @param {String} parameters.integrationPath - Service path.\n     */\n  }, {\n    key: \"init\",\n    value: function init(parameters) {\n      ServiceProvider.parameters = parameters;\n      // Services path (tech dependant).\n      var configurationURI = ServiceProvider.createServiceURI('configurationjs');\n      var createImageURI = ServiceProvider.createServiceURI('createimage');\n      var showImageURI = ServiceProvider.createServiceURI('showimage');\n      var getMathMLURI = ServiceProvider.createServiceURI('getmathml');\n      var serviceURI = ServiceProvider.createServiceURI('service');\n\n      // Some backend integrations (like Java o Ruby) have an absolute backend path,\n      // for example: /app/service. For them we calculate the absolute URL path, i.e\n      // protocol://domain:port/app/service\n      if (ServiceProvider.parameters.URI.indexOf('/') === 0) {\n        var serverPath = ServiceProvider.getServerURL();\n        configurationURI = serverPath + configurationURI;\n        showImageURI = serverPath + showImageURI;\n        createImageURI = serverPath + createImageURI;\n        getMathMLURI = serverPath + getMathMLURI;\n        serviceURI = serverPath + serviceURI;\n      }\n      ServiceProvider.setServicePath('configurationjs', configurationURI);\n      ServiceProvider.setServicePath('showimage', showImageURI);\n      ServiceProvider.setServicePath('createimage', createImageURI);\n      ServiceProvider.setServicePath('service', serviceURI);\n      ServiceProvider.setServicePath('getmathml', getMathMLURI);\n      ServiceProvider.setServicePath('configurationjs', configurationURI);\n      ServiceProvider.listeners.fire('onInit', {});\n    }\n\n    /**\n     * Gets the content from an URL.\n     * @param {String} url - Target URL.\n     * @param {Object} [postVariables] - Object containing post variables.\n     * null if a GET query should be done.\n     * @returns {String} Content of the target URL.\n     * @private\n     * @static\n     */\n  }, {\n    key: \"getUrl\",\n    value: function getUrl(url, postVariables) {\n      var currentPath = window.location.toString().substr(0, window.location.toString().lastIndexOf('/') + 1);\n      var httpRequest = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createHttpRequest();\n      if (httpRequest) {\n        if (typeof postVariables === 'undefined' || typeof postVariables === 'undefined') {\n          httpRequest.open('GET', url, false);\n        } else if (url.substr(0, 1) === '/' || url.substr(0, 7) === 'http://' || url.substr(0, 8) === 'https://') {\n          httpRequest.open('POST', url, false);\n        } else {\n          httpRequest.open('POST', currentPath + url, false);\n        }\n        if (typeof postVariables !== 'undefined' && postVariables) {\n          httpRequest.setRequestHeader('Content-type', 'application/x-www-form-urlencoded; charset=UTF-8');\n          httpRequest.send(_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].httpBuildQuery(postVariables));\n        } else {\n          httpRequest.send(null);\n        }\n        return httpRequest.responseText;\n      }\n      return '';\n    }\n\n    /**\n     * Returns the response text of a certain service.\n     * @param {String} service - Service name.\n     * @param {String} postVariables - Post variables.\n     * @param {Boolean} get - True if the request is GET instead of POST. false otherwise.\n     * @returns {String} Service response text.\n     */\n  }, {\n    key: \"getService\",\n    value: function getService(service, postVariables, get) {\n      var response;\n      if (get === true) {\n        var getVariables = postVariables ? \"?\".concat(postVariables) : '';\n        var serviceUrl = \"\".concat(ServiceProvider.getServicePath(service)).concat(getVariables);\n        response = ServiceProvider.getUrl(serviceUrl);\n      } else {\n        var _serviceUrl = ServiceProvider.getServicePath(service);\n        response = ServiceProvider.getUrl(_serviceUrl, postVariables);\n      }\n      return response;\n    }\n\n    /**\n     * Returns the server language of a certain service. The possible values\n     * are: php, aspx, java and ruby.\n     * This method has backward compatibility purposes.\n     * @param {String} service - The configuration service.\n     * @returns {String} - The server technology associated with the configuration service.\n     */\n  }, {\n    key: \"getServerLanguageFromService\",\n    value: function getServerLanguageFromService(service) {\n      if (service.indexOf('.php') !== -1) {\n        return 'php';\n      }\n      if (service.indexOf('.aspx') !== -1) {\n        return 'aspx';\n      }\n      if (service.indexOf('wirispluginengine') !== -1) {\n        return 'ruby';\n      }\n      return 'java';\n    }\n\n    /**\n     * Returns the URI associated with a certain service.\n     * @param {String} service - The service name.\n     * @return {String} The service path.\n     */\n  }, {\n    key: \"createServiceURI\",\n    value: function createServiceURI(service) {\n      var extension = ServiceProvider.serverExtension();\n      return _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].concatenateUrl(ServiceProvider.parameters.URI, service) + extension;\n    }\n  }, {\n    key: \"serverExtension\",\n    value: function serverExtension() {\n      if (ServiceProvider.parameters.server.indexOf('php') !== -1) {\n        return '.php';\n      }\n      if (ServiceProvider.parameters.server.indexOf('aspx') !== -1) {\n        return '.aspx';\n      }\n      return '';\n    }\n  }]);\n  return ServiceProvider;\n}();\n/**\n * @property {String} service - The service name.\n * @property {String} path - The service path.\n * @static\n */\n\nServiceProvider._servicePaths = {};\n\n/**\n * The integration path. Contains the path of the configuration service.\n * Used to define the path for all services.\n * @type {String}\n * @private\n */\nServiceProvider._integrationPath = '';\n\n/**\n * ServiceProvider static listeners.\n * @type {Listeners}\n * @private\n */\nServiceProvider._listeners = new _listeners__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n/**\n * Service provider parameters.\n * @type {ServiceProviderParameters}\n */\nServiceProvider._parameters = {};\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/serviceprovider.js?")},"./node_modules/@wiris/mathtype-html-integration-devkit/src/stringmanager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ StringManager)\n/* harmony export */ });\n/* harmony import */ var _lang_strings_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lang/strings.json */ "./node_modules/@wiris/mathtype-html-integration-devkit/lang/strings.json");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n/**\n * This class represents a string manager. It\'s used to load localized strings.\n */\nvar StringManager = /*#__PURE__*/function () {\n  function StringManager() {\n    _classCallCheck(this, StringManager);\n    throw new Error(\'Static class StringManager can not be instantiated.\');\n  }\n\n  /**\n   * Returns the associated value of certain string key. If the associated value\n   * doesn\'t exits returns the original key.\n   * @param {string} key - string key\n   * @returns {string} correspondent value. If doesn\'t exists original key.\n   */\n  _createClass(StringManager, null, [{\n    key: "get",\n    value: function get(key) {\n      var language = this.language;\n\n      // Cut down on strings. e.g. en_US -> en\n      if (language && language.length > 2) {\n        language = language.slice(0, 2);\n      }\n\n      // Check if we support the language\n      if (!this.strings.hasOwnProperty(language)) {\n        // eslint-disable-line no-prototype-builtins\n        console.warn("Unknown language ".concat(language, " set in StringManager."));\n        language = \'en\';\n      }\n\n      // Check if the key is supported in the given language\n      if (!this.strings[language].hasOwnProperty(key)) {\n        // eslint-disable-line no-prototype-builtins\n        console.warn("Unknown key ".concat(key, " for language ").concat(language, " in StringManager."));\n        return key;\n      }\n      return this.strings[language][key];\n    }\n  }]);\n  return StringManager;\n}();\n/**\n * Dictionary of dictionaries:\n * Key: language code\n * Value: Key: id of the string\n *        Value: translation of the string\n */\n\nStringManager.strings = _lang_strings_json__WEBPACK_IMPORTED_MODULE_0__;\n\n/**\n * Language of the translations; English by default\n */\nStringManager.language = \'en\';\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/stringmanager.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/telemetry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ TelemetryService)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/v4.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n/**\n * Name of the cookie that keeps the sender id.\n */\nvar senderIdCookieName = \'wiris_telemetry_mathtype_web_senderid\';\n\n/**\n* Time in seconds that the cookie with the sender id should last.\n* It\'s set to 10 years since we\'d like to never be deleted.\n*/\nvar senderIdCookieMaxAge = 60 * 60 * 24 * 365 * 10;\n\n/**\n* TelemetryServer\n* The URL for the telemetry server host is hard-coded.\n*/\nvar telemetryHost = {\n  local: \'http://localhost:4000\',\n  production: \'https://telemetry.wiris.net\'\n};\n\n/**\n* @classdesc\n* Sends and receuives Wiris telemetry data.\n*/\nvar TelemetryService = /*#__PURE__*/function () {\n  function TelemetryService() {\n    _classCallCheck(this, TelemetryService);\n    throw new Error(\'Static class StringManager can not be instantiated.\');\n  }\n\n  /**\n  * Static property.\n  * The sender uuid..\n  * @private\n  * @type {String}\n  */\n  _createClass(TelemetryService, null, [{\n    key: "senderId",\n    get: function get() {\n      if (!this._senderId) {\n        // Look for previous cookie and use that\n        var cookies = document.cookie.split(\';\').map(function (cookie) {\n          return cookie.trim().split(\'=\');\n        });\n        var _iterator = _createForOfIteratorHelper(cookies),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _slicedToArray(_step.value, 2),\n              key = _step$value[0],\n              value = _step$value[1];\n            if (key === senderIdCookieName) {\n              this._senderId = value;\n              break;\n            }\n          }\n\n          // No cookie has been previously set\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        if (!this._senderId) {\n          this._senderId = TelemetryService.composeUUID();\n          document.cookie = this.composeCookie(senderIdCookieName, this._senderId, senderIdCookieMaxAge);\n        }\n      }\n      return this._senderId;\n    }\n\n    /**\n    * Static property.\n    * The session uuid.\n    * @private\n    * @type {String}\n    */\n  }, {\n    key: "sessionId",\n    get: function get() {\n      if (!this._sessionId) {\n        this._sessionId = TelemetryService.composeUUID();\n      }\n      return this._sessionId;\n    }\n\n    /**\n    * Sends the specified array of messages to the telemetry endpoint.\n    */\n  }, {\n    key: "send",\n    value: function send(messages) {\n      var data = {\n        method: \'POST\',\n        cache: \'no-cache\',\n        headers: {\n          \'Content-Type\': \'application/json\',\n          \'X-Api-Key\': \'CK20op1pOx2LAUjPFP7kB2UPveHZRidG51UJE26m\',\n          \'Accept-Version\': \'1\' // TODO\n        },\n        body: JSON.stringify(TelemetryService.composeBody(messages))\n      };\n\n      // DEBUG\n      // console.log(\'TelemetryService.send - data:\', data);\n      return fetch(TelemetryService.endpoint, data).then(function (response) {\n        return response;\n      })["catch"](function (error) {\n        console.warn(error);\n        // DEBUG\n        // console.error(\'TelemetryService.send - error:\', error);\n      });\n    }\n\n    /**\n     * Composes the \'session\' object for the Telemetry Service request call.\n     */\n  }, {\n    key: "session",\n    get: function get() {\n      return {\n        id: TelemetryService.sessionId,\n        page: 0\n      };\n    }\n\n    /**\n     * Composes the \'sender\' object for the Telemetry Service request call.\n     */\n  }, {\n    key: "sender",\n    get: function get() {\n      return {\n        // 1. Client related.\n        id: TelemetryService.senderId,\n        // This returns \'Linux x86_64\'.\n        // Not as complete as the example \'Ubuntu; Linux x86_64\'.\n        os: navigator.oscpu,\n        user_agent: window.navigator.userAgent,\n        // 2. Server related.\n        domain: window.location.hostname,\n        // 3. Tech related.\n        // The deployment key id as defined on the specification.\n        deployment: TelemetryService.deployment,\n        // The version of the editor.\n        editor_version: WirisPlugin.currentInstance.environment.editorVersion ? WirisPlugin.currentInstance.environment.editorVersion : \'\',\n        // The configured language of the editor.\n        language: WirisPlugin.currentInstance.language,\n        // The version of the current javascript package.\n        product_version: WirisPlugin.currentInstance.version,\n        backend: WirisPlugin.currentInstance.serviceProviderProperties.server ? WirisPlugin.currentInstance.serviceProviderProperties.server : \'\'\n\n        // TODOs:\n        // 1. Backend version, the server language of the service.\n        // The possible values are: php, aspx, java or ruby.\n        // backend_version: (WirisPlugin.currentInstance.environment.backend_version ? WirisPlugin.currentInstance.environment.backend_version : \'\'), // TODO: next iteration.\n        // 2. Framework & platform. We can\'t know this, yet.\n        // This should be injected from the right package.\n        // framework: (WirisPlugin.currentInstance.serviceProviderProperties.framework ? WirisPlugin.currentInstance.serviceProviderProperties.framework : \'\'), // TODO: next iteration.\n        // platform: (WirisPlugin.currentInstance.serviceProviderProperties.platform ? WirisPlugin.currentInstance.serviceProviderProperties.platform : \'\'), // TODO: next iteration.\n        // 3. Product backend version.\n        // product_backend_version: \'7.18.0\', // TODO: next iteration.\n      };\n    }\n\n    /**\n     * Composes the deployment id key for \'mathtype-web-*\'.\n     * It follows the convention defined at the \'doc/adr/XXX-telemetry-deployment-name-convention\'\n     * TODO: create the \'doc/adr\'.\n     */\n  }, {\n    key: "deployment",\n    get: function get() {\n      var editor = WirisPlugin.currentInstance.environment.editor;\n      var prefix = \'mathtype-web-plugin-\';\n      var suffix = \'\';\n      if (/Generic/.test(editor)) {\n        suffix = \'generic\';\n      } else if (/Froala/.test(editor)) {\n        suffix = \'froala\';\n      } else if (/CKEditor/.test(editor)) {\n        suffix = \'ckeditor\';\n      } else if (/TinyMCE/.test(editor)) {\n        suffix = \'tinymce\';\n      }\n      return "".concat(prefix).concat(suffix);\n    }\n\n    /**\n    * Given \'messages\', composes the Telemetry request body as a JSON.\n    */\n  }, {\n    key: "composeBody",\n    value: function composeBody(messages) {\n      var body = {\n        messages: messages,\n        sender: TelemetryService.sender,\n        session: TelemetryService.session\n      };\n      return body;\n    }\n\n    /**\n    * Helper function that generates a random UUID used to identify both the batch and the sender.\n    * Wikipedia: A universally unique identifier (UUID) is an identifier standard\n    * used in software construction. A UUID is simply a 128-bit value.\n    * The meaning of each bit is defined by any of several variants. For human-readable display,\n    * many systems use a canonical format using hexadecimal text with inserted hyphen characters.\n    */\n  }, {\n    key: "composeUUID",\n    value: function composeUUID() {\n      return (0,uuid__WEBPACK_IMPORTED_MODULE_0__["default"])();\n    }\n\n    // TODO: generate an anonymous unique sender footprint based on the local configuration\n  }, {\n    key: "composeSenderUUID",\n    value: function composeSenderUUID() {\n      return this.composeUUID();\n    }\n  }, {\n    key: "composeCookie",\n    value: function composeCookie(name, content, maxAge) {\n      var duration = maxAge == null ? \'\' : "; max-age=".concat(maxAge);\n      return "".concat(name, "=").concat(content).concat(duration);\n    }\n  }]);\n  return TelemetryService;\n}();\n/**\n * Stores the Telemetry endpoint host URL.\n * @private\n * @type {String}\n */\n\nTelemetryService.endpoint = telemetryHost.production;\n\n/**\n * Stores the sender uuid.\n * @private\n * @type {String}\n */\nTelemetryService._senderId = \'\';\n\n/**\n * Stores the session uuid.\n * @private\n * @type {String}\n */\nTelemetryService._sessionId = \'\';\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/telemetry.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/test.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Test)\n/* harmony export */ });\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./serviceprovider */ "./node_modules/@wiris/mathtype-html-integration-devkit/src/serviceprovider.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/* eslint-disable no-console */\n\n\nvar Test = /*#__PURE__*/function () {\n  function Test() {\n    _classCallCheck(this, Test);\n  }\n  _createClass(Test, null, [{\n    key: "init",\n    value: function init() {\n      Test.testServices();\n    }\n  }, {\n    key: "testServices",\n    value: function testServices() {\n      var data;\n      console.log(\'Testing configuration service...\');\n      console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__["default"].getService(\'configurationjs\', \'\', \'get\'));\n      console.log(\'Testing showimage service...\');\n      data = [];\n      data.mml = \'<math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup></math>\';\n      console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__["default"].getService(\'showimage\', data));\n      console.log(\'Testing createimage service...\');\n      data = [];\n      data.mml = \'<math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup></math>\';\n      console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__["default"].getService(\'createimage\', data, \'post\'));\n      console.log(\'Testing MathML2Latex service...\');\n      data = [];\n      data.service = \'mathml2latex\';\n      data.mml = \'<math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup></math>\';\n      console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__["default"].getService(\'service\', data));\n      console.log(\'Testing Latex2MathML service...\');\n      data = [];\n      data.service = \'latex2mathml\';\n      data.latex = \'x^2\';\n      console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__["default"].getService(\'service\', data));\n      console.log(\'Testing Mathml2Accesible service...\');\n      data = [];\n      data.service = \'mathml2accessible\';\n      data.mml = \'<math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup></math>\';\n      console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__["default"].getService(\'service\', data));\n    }\n  }]);\n  return Test;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/test.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/textcache.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ TextCache)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nvar TextCache = /*#__PURE__*/function () {\n  /**\n   * @classdesc\n   * This class represent a client-side text cache class. Contains pairs of\n   * strings (key/value) which can be retrieved in any moment. Usually used\n   * to store AJAX responses for text services like mathml2latex\n   * (c.f {@link Latex} class) or mathml2accessible (c.f {@link Accessibility} class).\n   * @constructs\n   */\n  function TextCache() {\n    _classCallCheck(this, TextCache);\n    /**\n     * Cache array property storing the cache entries.\n     * @type {Array.<String>}\n     */\n    this.cache = [];\n  }\n\n  /**\n   * This method populates a key/value pair into the {@link this.cache} property.\n   * @param {String} key - Cache key, usually the service string parameter.\n   * @param {String} value - Cache value, usually the service response.\n   */\n  _createClass(TextCache, [{\n    key: "populate",\n    value: function populate(key, value) {\n      this.cache[key] = value;\n    }\n\n    /**\n     * Returns the cache value associated to certain cache key.\n     * @param {String} key - Cache key, usually the service string parameter.\n     * @return {String} value - Cache value, if exists. False otherwise.\n     */\n  }, {\n    key: "get",\n    value: function get(key) {\n      if (Object.prototype.hasOwnProperty.call(this.cache, key)) {\n        return this.cache[key];\n      }\n      return false;\n    }\n  }]);\n  return TextCache;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/textcache.js?')},"./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Util)\n/* harmony export */ });\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dompurify */ \"./node_modules/dompurify/dist/purify.js\");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mathml */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/mathml.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./configuration */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/configuration.js\");\n/* harmony import */ var _latex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./latex */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/latex.js\");\n/* harmony import */ var _stringmanager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stringmanager */ \"./node_modules/@wiris/mathtype-html-integration-devkit/src/stringmanager.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/* eslint-disable no-bitwise */\n\n\n\n\n\n\n/**\n * This class represents an utility class.\n */\nvar Util = /*#__PURE__*/function () {\n  function Util() {\n    _classCallCheck(this, Util);\n  }\n  _createClass(Util, null, [{\n    key: \"fireEvent\",\n    value:\n    /**\n     * Fires an event in a target.\n     * @param {EventTarget} eventTarget - target where event should be fired.\n     * @param {string} eventName event to fire.\n     * @static\n     */\n    function fireEvent(eventTarget, eventName) {\n      if (document.createEvent) {\n        var _eventObject = document.createEvent('HTMLEvents');\n        _eventObject.initEvent(eventName, true, true);\n        return !eventTarget.dispatchEvent(_eventObject);\n      }\n      var eventObject = document.createEventObject();\n      return eventTarget.fireEvent(\"on\".concat(eventName), eventObject);\n    }\n\n    /**\n     * Cross-browser addEventListener/attachEvent function.\n     * @param {EventTarget} eventTarget - target to add the event.\n     * @param {string} eventName - specifies the type of event.\n     * @param {Function} callBackFunction - callback function.\n     * @static\n     */\n  }, {\n    key: \"addEvent\",\n    value: function addEvent(eventTarget, eventName, callBackFunction) {\n      if (eventTarget.addEventListener) {\n        eventTarget.addEventListener(eventName, callBackFunction, true);\n      } else if (eventTarget.attachEvent) {\n        // Backwards compatibility.\n        eventTarget.attachEvent(\"on\".concat(eventName), callBackFunction);\n      }\n    }\n\n    /**\n     * Cross-browser removeEventListener/detachEvent function.\n     * @param {EventTarget} eventTarget - target to add the event.\n     * @param {string} eventName - specifies the type of event.\n     * @param {Function} callBackFunction - function to remove from the event target.\n     * @static\n     */\n  }, {\n    key: \"removeEvent\",\n    value: function removeEvent(eventTarget, eventName, callBackFunction) {\n      if (eventTarget.removeEventListener) {\n        eventTarget.removeEventListener(eventName, callBackFunction, true);\n      } else if (eventTarget.detachEvent) {\n        eventTarget.detachEvent(\"on\".concat(eventName), callBackFunction);\n      }\n    }\n\n    /**\n     * Adds the a callback function, for a certain event target, to the following event types:\n     * - dblclick\n     * - mousedown\n     * - mouseup\n     * @param {EventTarget} eventTarget - event target.\n     * @param {Function} doubleClickHandler - function to run when on dblclick event.\n     * @param {Function} mousedownHandler - function to run when on mousedown event.\n     * @param {Function} mouseupHandler - function to run when on mouseup event.\n     * @static\n     */\n  }, {\n    key: \"addElementEvents\",\n    value: function addElementEvents(eventTarget, doubleClickHandler, mousedownHandler, mouseupHandler) {\n      if (doubleClickHandler) {\n        this.callbackDblclick = function (event) {\n          var realEvent = event || window.event;\n          var element = realEvent.srcElement ? realEvent.srcElement : realEvent.target;\n          doubleClickHandler(element, realEvent);\n        };\n        Util.addEvent(eventTarget, 'dblclick', this.callbackDblclick);\n      }\n      if (mousedownHandler) {\n        this.callbackMousedown = function (event) {\n          var realEvent = event || window.event;\n          var element = realEvent.srcElement ? realEvent.srcElement : realEvent.target;\n          mousedownHandler(element, realEvent);\n        };\n        Util.addEvent(eventTarget, 'mousedown', this.callbackMousedown);\n      }\n      if (mouseupHandler) {\n        this.callbackMouseup = function (event) {\n          var realEvent = event || window.event;\n          var element = realEvent.srcElement ? realEvent.srcElement : realEvent.target;\n          mouseupHandler(element, realEvent);\n        };\n        // Chrome doesn't trigger this event for eventTarget if we release the mouse button\n        // while the mouse is outside the editor text field.\n        // This is a workaround: we trigger the event independently of where the mouse\n        // is when we release its button.\n        Util.addEvent(document, 'mouseup', this.callbackMouseup);\n        Util.addEvent(eventTarget, 'mouseup', this.callbackMouseup);\n      }\n    }\n\n    /**\n     * Remove all callback function, for a certain event target, to the following event types:\n     * - dblclick\n     * - mousedown\n     * - mouseup\n     * @param {EventTarget} eventTarget - event target.\n     * @static\n     */\n  }, {\n    key: \"removeElementEvents\",\n    value: function removeElementEvents(eventTarget) {\n      Util.removeEvent(eventTarget, 'dblclick', this.callbackDblclick);\n      Util.removeEvent(eventTarget, 'mousedown', this.callbackMousedown);\n      Util.removeEvent(document, 'mouseup', this.callbackMouseup);\n      Util.removeEvent(eventTarget, 'mouseup', this.callbackMouseup);\n    }\n\n    /**\n     * Adds a class name to a HTMLElement.\n     * @param {HTMLElement} element - the HTML element.\n     * @param {string} className - the class name.\n     * @static\n     */\n  }, {\n    key: \"addClass\",\n    value: function addClass(element, className) {\n      if (!Util.containsClass(element, className)) {\n        element.className += \" \".concat(className);\n      }\n    }\n\n    /**\n     * Checks if a HTMLElement contains a certain class.\n     * @param {HTMLElement} element - the HTML element.\n     * @param {string} className - the className.\n     * @returns {boolean} true if the HTMLElement contains the class name. false otherwise.\n     * @static\n     */\n  }, {\n    key: \"containsClass\",\n    value: function containsClass(element, className) {\n      if (element == null || !('className' in element)) {\n        return false;\n      }\n      var currentClasses = element.className.split(' ');\n      for (var i = currentClasses.length - 1; i >= 0; i -= 1) {\n        if (currentClasses[i] === className) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Remove a certain class for a HTMLElement.\n     * @param {HTMLElement} element - the HTML element.\n     * @param {string} className - the class name.\n     * @static\n     */\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(element, className) {\n      var newClassName = '';\n      var classes = element.className.split(' ');\n      for (var i = 0; i < classes.length; i += 1) {\n        if (classes[i] !== className) {\n          newClassName += \"\".concat(classes[i], \" \");\n        }\n      }\n      element.className = newClassName.trim();\n    }\n\n    /**\n     * Converts old xml initial text attribute (with «») to the correct one(with §lt;§gt;). It's\n     * used to parse old applets.\n     * @param {string} text - string containing safeXml characters\n     * @returns {string} a string with safeXml characters parsed.\n     * @static\n     */\n  }, {\n    key: \"convertOldXmlinitialtextAttribute\",\n    value: function convertOldXmlinitialtextAttribute(text) {\n      // Used to fix a bug with Cas imported from Moodle 1.9 to Moodle 2.x.\n      // This could be removed in future.\n      var val = 'value=';\n      var xitpos = text.indexOf('xmlinitialtext');\n      var valpos = text.indexOf(val, xitpos);\n      var quote = text.charAt(valpos + val.length);\n      var startquote = valpos + val.length + 1;\n      var endquote = text.indexOf(quote, startquote);\n      var value = text.substring(startquote, endquote);\n      var newvalue = value.split('«').join('§lt;');\n      newvalue = newvalue.split('»').join('§gt;');\n      newvalue = newvalue.split('&').join('§');\n      newvalue = newvalue.split('¨').join('§quot;');\n      text = text.split(value).join(newvalue);\n      return text;\n    }\n\n    /**\n     * Cross-browser solution for creating new elements.\n     * @param {string} tagName - tag name of the wished element.\n     * @param {Object} attributes - an object where each key is a wished\n     * attribute name and each value is its value.\n     * @param {Object} [creator] - if supplied, this function will use\n     * the \"createElement\" method from this param. Otherwise\n     * document will be used as creator.\n     * @returns {Element} The DOM element with the specified attributes assigned.\n     * @static\n     */\n  }, {\n    key: \"createElement\",\n    value: function createElement(tagName, attributes, creator) {\n      if (attributes === undefined) {\n        attributes = {};\n      }\n      if (creator === undefined) {\n        creator = document;\n      }\n      var element;\n\n      /*\n      * Internet Explorer fix:\n      * If you create a new object dynamically, you can't set a non-standard attribute.\n      * For example, you can't set the \"src\" attribute on an \"applet\" object.\n      * Other browsers will throw an exception and will run the standard code.\n      */\n      try {\n        var html = \"<\".concat(tagName);\n        Object.keys(attributes).forEach(function (attributeName) {\n          html += \" \".concat(attributeName, \"=\\\"\").concat(Util.htmlEntities(attributes[attributeName]), \"\\\"\");\n        });\n        html += '>';\n        element = creator.createElement(html);\n      } catch (e) {\n        element = creator.createElement(tagName);\n        Object.keys(attributes).forEach(function (attributeName) {\n          element.setAttribute(attributeName, attributes[attributeName]);\n        });\n      }\n      return element;\n    }\n\n    /**\n     * Creates new HTML from it's HTML code as string.\n     * @param {string} objectCode - html code\n     * @returns {Element} the HTML element.\n     * @static\n     */\n  }, {\n    key: \"createObject\",\n    value: function createObject(objectCode, creator) {\n      if (creator === undefined) {\n        creator = document;\n      }\n\n      // Internet Explorer can't include \"param\" tag when is setting an innerHTML property.\n      objectCode = objectCode.split('<applet ').join('<span wirisObject=\"WirisApplet\" ').split('<APPLET ').join('<span wirisObject=\"WirisApplet\" '); // It is a 'span' because 'span' objects can contain 'br' nodes.\n      objectCode = objectCode.split('</applet>').join('</span>').split('</APPLET>').join('</span>');\n      objectCode = objectCode.split('<param ').join('<br wirisObject=\"WirisParam\" ').split('<PARAM ').join('<br wirisObject=\"WirisParam\" '); // It is a 'br' because 'br' can't contain nodes.\n      objectCode = objectCode.split('</param>').join('</br>').split('</PARAM>').join('</br>');\n      var container = Util.createElement('div', {}, creator);\n      container.innerHTML = objectCode;\n      function recursiveParamsFix(object) {\n        if (object.getAttribute && object.getAttribute('wirisObject') === 'WirisParam') {\n          var attributesParsed = {};\n          for (var i = 0; i < object.attributes.length; i += 1) {\n            if (object.attributes[i].nodeValue !== null) {\n              attributesParsed[object.attributes[i].nodeName] = object.attributes[i].nodeValue;\n            }\n          }\n          var param = Util.createElement('param', attributesParsed, creator);\n\n          // IE fix.\n          if (param.NAME) {\n            param.name = param.NAME;\n            param.value = param.VALUE;\n          }\n          param.removeAttribute('wirisObject');\n          object.parentNode.replaceChild(param, object);\n        } else if (object.getAttribute && object.getAttribute('wirisObject') === 'WirisApplet') {\n          var _attributesParsed = {};\n          for (var _i = 0; _i < object.attributes.length; _i += 1) {\n            if (object.attributes[_i].nodeValue !== null) {\n              _attributesParsed[object.attributes[_i].nodeName] = object.attributes[_i].nodeValue;\n            }\n          }\n          var applet = Util.createElement('applet', _attributesParsed, creator);\n          applet.removeAttribute('wirisObject');\n          for (var _i2 = 0; _i2 < object.childNodes.length; _i2 += 1) {\n            recursiveParamsFix(object.childNodes[_i2]);\n            if (object.childNodes[_i2].nodeName.toLowerCase() === 'param') {\n              applet.appendChild(object.childNodes[_i2]);\n              _i2 -= 1; // When we insert the object child into the applet, object loses one child.\n            }\n          }\n          object.parentNode.replaceChild(applet, object);\n        } else {\n          for (var _i3 = 0; _i3 < object.childNodes.length; _i3 += 1) {\n            recursiveParamsFix(object.childNodes[_i3]);\n          }\n        }\n      }\n      recursiveParamsFix(container);\n      return container.firstChild;\n    }\n\n    /**\n     * Converts an Element to its HTML code.\n     * @param {Element} element - entry element.\n     * @return {string} the HTML code of the input element.\n     * @static\n     */\n  }, {\n    key: \"createObjectCode\",\n    value: function createObjectCode(element) {\n      // In case that the image was not created, the object can be null or undefined.\n      if (typeof element === 'undefined' || element === null) {\n        return null;\n      }\n      if (element.nodeType === 1) {\n        // ELEMENT_NODE.\n        var output = \"<\".concat(element.tagName);\n        for (var i = 0; i < element.attributes.length; i += 1) {\n          if (element.attributes[i].specified) {\n            output += \" \".concat(element.attributes[i].name, \"=\\\"\").concat(Util.htmlEntities(element.attributes[i].value), \"\\\"\");\n          }\n        }\n        if (element.childNodes.length > 0) {\n          output += '>';\n          for (var _i4 = 0; _i4 < element.childNodes.length; _i4 += 1) {\n            output += Util.createObject(element.childNodes[_i4]);\n          }\n          output += \"</\".concat(element.tagName, \">\");\n        } else if (element.nodeName === 'DIV' || element.nodeName === 'SCRIPT') {\n          output += \"></\".concat(element.tagName, \">\");\n        } else {\n          output += '/>';\n        }\n        return output;\n      }\n      if (element.nodeType === 3) {\n        // TEXT_NODE.\n        return Util.htmlEntities(element.nodeValue);\n      }\n      return '';\n    }\n\n    /**\n     * Concatenates two URL paths.\n     * @param {string} path1 - first URL path\n     * @param {string} path2 - second URL path\n     * @returns {string} new URL.\n     */\n  }, {\n    key: \"concatenateUrl\",\n    value: function concatenateUrl(path1, path2) {\n      var separator = '';\n      if (path1.indexOf('/') !== path1.length && path2.indexOf('/') !== 0) {\n        separator = '/';\n      }\n      return (path1 + separator + path2).replace(/([^:]\\/)\\/+/g, '$1');\n    }\n\n    /**\n     * Parses a text and replaces all HTML special characters by their correspondent entities.\n     * @param {string} input - text to be parsed.\n     * @returns {string} the input text with all their special characters replaced by their entities.\n     * @static\n     */\n  }, {\n    key: \"htmlEntities\",\n    value: function htmlEntities(input) {\n      return input.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;').split('\"').join('&quot;');\n    }\n\n    /**\n     * Sanitize HTML to prevent XSS injections.\n     * @param {string} html - html to be sanitize.\n     * @returns {string} html sanitized.\n     * @static\n     */\n  }, {\n    key: \"htmlSanitize\",\n    value: function htmlSanitize(html) {\n      return dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(html);\n    }\n\n    /**\n     * Check if HTML contains XSS injections.\n     * @param {string} html - html to be sanitize.\n     * @returns {string} html sanitized.\n     * @static\n     */\n  }, {\n    key: \"containsXSS\",\n    value: function containsXSS(html) {\n      return !(dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(html) === html);\n    }\n\n    /**\n     * Parses a text and replaces all the HTML entities by their characters.\n     * @param {string} input - text to be parsed\n     * @returns {string} the input text with all their entities replaced by characters.\n     * @static\n     */\n  }, {\n    key: \"htmlEntitiesDecode\",\n    value: function htmlEntitiesDecode(input) {\n      // Textarea element decodes when inner html is set.\n      var textarea = document.createElement('textarea');\n      textarea.innerHTML = input;\n      return textarea.value;\n    }\n\n    /**\n     * Returns a cross-browser http request.\n     * @return {object} httpRequest request object.\n     * @returns {XMLHttpRequest|ActiveXObject} the proper request object.\n     */\n  }, {\n    key: \"createHttpRequest\",\n    value: function createHttpRequest() {\n      var currentPath = window.location.toString().substr(0, window.location.toString().lastIndexOf('/') + 1);\n      if (currentPath.substr(0, 7) === 'file://') {\n        throw _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('exception_cross_site');\n      }\n      if (typeof XMLHttpRequest !== 'undefined') {\n        return new XMLHttpRequest();\n      }\n      try {\n        return new ActiveXObject('Msxml2.XMLHTTP');\n      } catch (e) {\n        try {\n          return new ActiveXObject('Microsoft.XMLHTTP');\n        } catch (oc) {\n          return null;\n        }\n      }\n    }\n\n    /**\n     * Converts a hash to a HTTP query.\n     * @param {Object[]} properties - a key/value object.\n     * @returns {string} a HTTP query containing all the key value pairs with\n     * all the special characters replaced by their entities.\n     * @static\n     */\n  }, {\n    key: \"httpBuildQuery\",\n    value: function httpBuildQuery(properties) {\n      var result = '';\n      Object.keys(properties).forEach(function (i) {\n        if (properties[i] != null) {\n          result += \"\".concat(Util.urlEncode(i), \"=\").concat(Util.urlEncode(properties[i]), \"&\");\n        }\n      });\n\n      // Deleting last '&' empty character.\n      if (result.substring(result.length - 1) === '&') {\n        result = result.substring(0, result.length - 1);\n      }\n      return result;\n    }\n\n    /**\n     * Convert a hash to string sorting keys to get a deterministic output\n     * @param {Object[]} hash - a key/value object.\n     * @returns {string} a string with the form key1=value1...keyn=valuen\n     * @static\n     */\n  }, {\n    key: \"propertiesToString\",\n    value: function propertiesToString(hash) {\n      // 1. Sort keys. We sort the keys because we want a deterministic output.\n      var keys = [];\n      Object.keys(hash).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(hash, key)) {\n          keys.push(key);\n        }\n      });\n      var n = keys.length;\n      for (var i = 0; i < n; i += 1) {\n        for (var j = i + 1; j < n; j += 1) {\n          var s1 = keys[i];\n          var s2 = keys[j];\n          if (Util.compareStrings(s1, s2) > 0) {\n            // Swap.\n            keys[i] = s2;\n            keys[j] = s1;\n          }\n        }\n      }\n\n      // 2. Generate output.\n      var output = '';\n      for (var _i5 = 0; _i5 < n; _i5 += 1) {\n        var key = keys[_i5];\n        output += key;\n        output += '=';\n        var value = hash[key];\n        value = value.replace('\\\\', '\\\\\\\\');\n        value = value.replace('\\n', '\\\\n');\n        value = value.replace('\\r', '\\\\r');\n        value = value.replace('\\t', '\\\\t');\n        output += value;\n        output += '\\n';\n      }\n      return output;\n    }\n\n    /**\n     * Compare two strings using charCodeAt method\n     * @param {string} a - first string to compare.\n     * @param {string} b - second string to compare.\n     * @returns {number} the difference between a and b\n     * @static\n     */\n  }, {\n    key: \"compareStrings\",\n    value: function compareStrings(a, b) {\n      var i;\n      var an = a.length;\n      var bn = b.length;\n      var n = an > bn ? bn : an;\n      for (i = 0; i < n; i += 1) {\n        var c = Util.fixedCharCodeAt(a, i) - Util.fixedCharCodeAt(b, i);\n        if (c !== 0) {\n          return c;\n        }\n      }\n      return a.length - b.length;\n    }\n\n    /**\n     * Fix charCodeAt() JavaScript function to handle non-Basic-Multilingual-Plane characters.\n     * @param {string} string - input string\n     * @param {number} idx - an integer greater than or equal to 0\n     * and less than the length of the string\n     * @returns {number} an integer representing the UTF-16 code of the string at the given index.\n     * @static\n     */\n  }, {\n    key: \"fixedCharCodeAt\",\n    value: function fixedCharCodeAt(string, idx) {\n      idx = idx || 0;\n      var code = string.charCodeAt(idx);\n      var hi;\n      var low;\n\n      /* High surrogate (could change last hex to 0xDB7F to treat high\n      private surrogates as single characters) */\n\n      if (code >= 0xD800 && code <= 0xDBFF) {\n        hi = code;\n        low = string.charCodeAt(idx + 1);\n        if (Number.isNaN(low)) {\n          throw _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('exception_high_surrogate');\n        }\n        return (hi - 0xD800) * 0x400 + (low - 0xDC00) + 0x10000;\n      }\n      if (code >= 0xDC00 && code <= 0xDFFF) {\n        // Low surrogate.\n        /* We return false to allow loops to skip this iteration since should have\n        already handled high surrogate above in the previous iteration. */\n        return false;\n      }\n      return code;\n    }\n\n    /**\n     * Returns an URL with it's query params converted into array.\n     * @param {string} url - input URL.\n     * @returns {Object[]} an array containing all URL query params.\n     * @static\n     */\n  }, {\n    key: \"urlToAssArray\",\n    value: function urlToAssArray(url) {\n      var i;\n      i = url.indexOf('?');\n      if (i > 0) {\n        var query = url.substring(i + 1);\n        var ss = query.split('&');\n        var h = {};\n        for (i = 0; i < ss.length; i += 1) {\n          var s = ss[i];\n          var kv = s.split('=');\n          if (kv.length > 1) {\n            h[kv[0]] = decodeURIComponent(kv[1].replace(/\\+/g, ' '));\n          }\n        }\n        return h;\n      }\n      return {};\n    }\n\n    /**\n     * Returns an encoded URL by replacing each instance of certain characters by\n     * one, two, three or four escape sequences using encodeURIComponent method.\n     * !'()* . will not be encoded.\n     *\n     * @param {string} clearString - URL string to be encoded\n     * @returns {string} URL with it's special characters replaced.\n     * @static\n     */\n  }, {\n    key: \"urlEncode\",\n    value: function urlEncode(clearString) {\n      var output = '';\n      // Method encodeURIComponent doesn't encode !'()*~ .\n      output = encodeURIComponent(clearString);\n      return output;\n    }\n\n    // TODO: To parser?\n    /**\n     * Converts the HTML of a image into the output code that WIRIS must return.\n     * By default returns the MathML stored on data-mahml attribute (if imgCode is a formula)\n     * or the Wiriscas attribute of a WIRIS applet.\n     * @param {string} imgCode - the html code from a formula or a CAS image.\n     * @param {boolean} convertToXml - true if the image should be converted to XML.\n     * @param {boolean} convertToSafeXml - true if the image should be converted to safeXML.\n     * @returns {string} the XML or safeXML of a WIRIS image.\n     * @static\n     */\n  }, {\n    key: \"getWIRISImageOutput\",\n    value: function getWIRISImageOutput(imgCode, convertToXml, convertToSafeXml) {\n      var imgObject = Util.createObject(imgCode);\n      if (imgObject) {\n        if (imgObject.className === _configuration__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get('imageClassName') || imgObject.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get('imageMathmlAttribute'))) {\n          if (!convertToXml) {\n            return imgCode;\n          }\n          var dataMathML = imgObject.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get('imageMathmlAttribute'));\n          // To handle annotations, first we need the MathML in XML.\n          var mathML = _mathml__WEBPACK_IMPORTED_MODULE_1__[\"default\"].safeXmlDecode(dataMathML);\n          if (!_configuration__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get('saveHandTraces')) {\n            mathML = _mathml__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeAnnotation(mathML, 'application/json');\n          }\n          if (mathML == null) {\n            mathML = imgObject.getAttribute('alt');\n          }\n          if (convertToSafeXml) {\n            var safeMathML = _mathml__WEBPACK_IMPORTED_MODULE_1__[\"default\"].safeXmlEncode(mathML);\n            return safeMathML;\n          }\n          return mathML;\n        }\n      }\n      return imgCode;\n    }\n\n    /**\n     * Gets the node length in characters.\n     * @param {Node} node - HTML node.\n     * @returns {number} node length.\n     * @static\n     */\n  }, {\n    key: \"getNodeLength\",\n    value: function getNodeLength(node) {\n      var staticNodeLengths = {\n        IMG: 1,\n        BR: 1\n      };\n      if (node.nodeType === 3) {\n        // TEXT_NODE.\n        return node.nodeValue.length;\n      }\n      if (node.nodeType === 1) {\n        // ELEMENT_NODE.\n        var length = staticNodeLengths[node.nodeName.toUpperCase()];\n        if (length === undefined) {\n          length = 0;\n        }\n        for (var i = 0; i < node.childNodes.length; i += 1) {\n          length += Util.getNodeLength(node.childNodes[i]);\n        }\n        return length;\n      }\n      return 0;\n    }\n\n    /**\n     * Gets a selected node or text from an editable HTMLElement.\n     * If the caret is on a text node, concatenates it with all the previous and next text nodes.\n     * @param {HTMLElement} target - the editable HTMLElement.\n     * @param {boolean} isIframe  - specifies if the target is an iframe or not\n     * @param {boolean} forceGetSelection - if true, ignores IE system to get\n     * the current selection and uses window.getSelection()\n     * @returns {object} an object with the 'node' key set if the item is an\n     * element or the keys 'node' and 'caretPosition' if the element is text.\n     * @static\n     */\n  }, {\n    key: \"getSelectedItem\",\n    value: function getSelectedItem(target, isIframe, forceGetSelection) {\n      var windowTarget;\n      if (isIframe) {\n        windowTarget = target.contentWindow;\n        windowTarget.focus();\n      } else {\n        windowTarget = window;\n        target.focus();\n      }\n      if (document.selection && !forceGetSelection) {\n        var range = windowTarget.document.selection.createRange();\n        if (range.parentElement) {\n          if (range.htmlText.length > 0) {\n            if (range.text.length === 0) {\n              return Util.getSelectedItem(target, isIframe, true);\n            }\n            return null;\n          }\n          windowTarget.document.execCommand('InsertImage', false, '#');\n          var temporalObject = range.parentElement();\n          if (temporalObject.nodeName.toUpperCase() !== 'IMG') {\n            // IE9 fix: parentElement() does not return the IMG node,\n            // returns the parent DIV node. In IE < 9, pasteHTML does not work well.\n            range.pasteHTML('<span id=\"wrs_openEditorWindow_temporalObject\"></span>');\n            temporalObject = windowTarget.document.getElementById('wrs_openEditorWindow_temporalObject');\n          }\n          var node;\n          var caretPosition;\n          if (temporalObject.nextSibling && temporalObject.nextSibling.nodeType === 3) {\n            // TEXT_NODE.\n            node = temporalObject.nextSibling;\n            caretPosition = 0;\n          } else if (temporalObject.previousSibling && temporalObject.previousSibling.nodeType === 3) {\n            node = temporalObject.previousSibling;\n            caretPosition = node.nodeValue.length;\n          } else {\n            node = windowTarget.document.createTextNode('');\n            temporalObject.parentNode.insertBefore(node, temporalObject);\n            caretPosition = 0;\n          }\n          temporalObject.parentNode.removeChild(temporalObject);\n          return {\n            node: node,\n            caretPosition: caretPosition\n          };\n        }\n        if (range.length > 1) {\n          return null;\n        }\n        return {\n          node: range.item(0)\n        };\n      }\n      if (windowTarget.getSelection) {\n        var _range;\n        var selection = windowTarget.getSelection();\n        try {\n          _range = selection.getRangeAt(0);\n        } catch (e) {\n          _range = windowTarget.document.createRange();\n        }\n        var _node = _range.startContainer;\n        if (_node.nodeType === 3) {\n          // TEXT_NODE.\n          return {\n            node: _node,\n            caretPosition: _range.startOffset\n          };\n        }\n        if (_node !== _range.endContainer) {\n          return null;\n        }\n        if (_node.nodeType === 1) {\n          // ELEMENT_NODE.\n          var position = _range.startOffset;\n          if (_node.childNodes[position]) {\n            return {\n              node: _node.childNodes[position]\n            };\n          }\n        }\n      }\n      return null;\n    }\n\n    /**\n     * Returns null if there isn't any item or if it is malformed.\n     * Otherwise returns an object containing the node with the MathML image\n     * and the cursor position inside the textarea.\n     * @param {HTMLTextAreaElement} textarea - textarea element.\n     * @returns {Object} An object containing the node, the index of the\n     * beginning  of the selected text, caret position and the start and end position of the\n     * text node.\n     * @static\n     */\n  }, {\n    key: \"getSelectedItemOnTextarea\",\n    value: function getSelectedItemOnTextarea(textarea) {\n      var textNode = document.createTextNode(textarea.value);\n      var textNodeValues = _latex__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getLatexFromTextNode(textNode, textarea.selectionStart);\n      if (textNodeValues === null) {\n        return null;\n      }\n      return {\n        node: textNode,\n        caretPosition: textarea.selectionStart,\n        startPosition: textNodeValues.startPosition,\n        endPosition: textNodeValues.endPosition\n      };\n    }\n\n    /**\n     * Looks for elements that match the given name in a HTML code string.\n     * Important: this function is very concrete for WIRIS code.\n     * It takes as preconditions lots of behaviors that are not the general case.\n     * @param {string} code -  HTML code.\n     * @param {string} name - element name.\n     * @param {boolean} autoClosed - true if the elements are autoClosed.\n     * @return {Object[]} an object containing all HTML elements of code matching the name argument.\n     * @static\n     */\n  }, {\n    key: \"getElementsByNameFromString\",\n    value: function getElementsByNameFromString(code, name, autoClosed) {\n      var elements = [];\n      code = code.toLowerCase();\n      name = name.toLowerCase();\n      var start = code.indexOf(\"<\".concat(name, \" \"));\n      while (start !== -1) {\n        // Look for nodes.\n        var endString = void 0;\n        if (autoClosed) {\n          endString = '>';\n        } else {\n          endString = \"</\".concat(name, \">\");\n        }\n        var end = code.indexOf(endString, start);\n        if (end !== -1) {\n          end += endString.length;\n          elements.push({\n            start: start,\n            end: end\n          });\n        } else {\n          end = start + 1;\n        }\n        start = code.indexOf(\"<\".concat(name, \" \"), end);\n      }\n      return elements;\n    }\n\n    /**\n     * Returns the numeric value of a base64 character.\n     * @param  {string} character - base64 character.\n     * @returns {number} base64 character numeric value.\n     * @static\n     */\n  }, {\n    key: \"decode64\",\n    value: function decode64(character) {\n      var PLUS = '+'.charCodeAt(0);\n      var SLASH = '/'.charCodeAt(0);\n      var NUMBER = '0'.charCodeAt(0);\n      var LOWER = 'a'.charCodeAt(0);\n      var UPPER = 'A'.charCodeAt(0);\n      var PLUS_URL_SAFE = '-'.charCodeAt(0);\n      var SLASH_URL_SAFE = '_'.charCodeAt(0);\n      var code = character.charCodeAt(0);\n      if (code === PLUS || code === PLUS_URL_SAFE) {\n        return 62; // Char '+'.\n      }\n      if (code === SLASH || code === SLASH_URL_SAFE) {\n        return 63; // Char '/'.\n      }\n      if (code < NUMBER) {\n        return -1; // No match.\n      }\n      if (code < NUMBER + 10) {\n        return code - NUMBER + 26 + 26;\n      }\n      if (code < UPPER + 26) {\n        return code - UPPER;\n      }\n      if (code < LOWER + 26) {\n        return code - LOWER + 26;\n      }\n      return null;\n    }\n\n    /**\n     * Converts a base64 string to a array of bytes.\n     * @param {string} b64String - base64 string.\n     * @param {number} length - dimension of byte array (by default whole string).\n     * @return {Object[]} the resultant byte array.\n     * @static\n     */\n  }, {\n    key: \"b64ToByteArray\",\n    value: function b64ToByteArray(b64String, length) {\n      var tmp;\n      if (b64String.length % 4 > 0) {\n        throw new Error('Invalid string. Length must be a multiple of 4'); // Tipped base64. Length is fixed.\n      }\n      var arr = [];\n      var l;\n      var placeHolders;\n      if (!length) {\n        // All b64String string.\n        if (b64String.charAt(b64String.length - 2) === '=') {\n          placeHolders = 2;\n        } else if (b64String.charAt(b64String.length - 1) === '=') {\n          placeHolders = 1;\n        } else {\n          placeHolders = 0;\n        }\n        l = placeHolders > 0 ? b64String.length - 4 : b64String.length;\n      } else {\n        l = length;\n      }\n      var i;\n      for (i = 0; i < l; i += 4) {\n        // Ignoring code checker standards (bitewise operators).\n        // See https://tracker.moodle.org/browse/CONTRIB-5862 for further information.\n        // @codingStandardsIgnoreStart\n        // eslint-disable-next-line max-len\n        tmp = Util.decode64(b64String.charAt(i)) << 18 | Util.decode64(b64String.charAt(i + 1)) << 12 | Util.decode64(b64String.charAt(i + 2)) << 6 | Util.decode64(b64String.charAt(i + 3));\n        arr.push(tmp >> 16 & 0xFF);\n        arr.push(tmp >> 8 & 0xFF);\n        arr.push(tmp & 0xFF);\n        // @codingStandardsIgnoreEnd\n      }\n      if (placeHolders) {\n        if (placeHolders === 2) {\n          // Ignoring code checker standards (bitewise operators).\n          // @codingStandardsIgnoreStart\n          // eslint-disable-next-line max-len\n          tmp = Util.decode64(b64String.charAt(i)) << 2 | Util.decode64(b64String.charAt(i + 1)) >> 4;\n          arr.push(tmp & 0xFF);\n        } else if (placeHolders === 1) {\n          // eslint-disable-next-line max-len\n          tmp = Util.decode64(b64String.charAt(i)) << 10 | Util.decode64(b64String.charAt(i + 1)) << 4 | Util.decode64(b64String.charAt(i + 2)) >> 2;\n          arr.push(tmp >> 8 & 0xFF);\n          arr.push(tmp & 0xFF);\n          // @codingStandardsIgnoreEnd\n        }\n      }\n      return arr;\n    }\n\n    /**\n     * Returns the first 32-bit signed integer from a byte array.\n     * @param {Object[]} bytes - array of bytes.\n     * @returns {number} the 32-bit signed integer.\n     * @static\n     */\n  }, {\n    key: \"readInt32\",\n    value: function readInt32(bytes) {\n      if (bytes.length < 4) {\n        return false;\n      }\n      var int32 = bytes.splice(0, 4);\n      // @codingStandardsIgnoreStart¡\n      return int32[0] << 24 | int32[1] << 16 | int32[2] << 8 | int32[3] << 0;\n      // @codingStandardsIgnoreEnd\n    }\n\n    /**\n     * Read the first byte from a byte array.\n     * @param {Object} bytes - input byte array.\n     * @returns {number} first byte of the byte array.\n     * @static\n     */\n  }, {\n    key: \"readByte\",\n    value: function readByte(bytes) {\n      // @codingStandardsIgnoreStart\n      return bytes.shift() << 0;\n      // @codingStandardsIgnoreEnd\n    }\n\n    /**\n     * Read an arbitrary number of bytes, from a fixed position on a byte array.\n     * @param  {Object[]} bytes - byte array.\n     * @param  {number} pos - start position.\n     * @param  {number} len - number of bytes to read.\n     * @returns {Object[]} the byte array.\n     * @static\n     */\n  }, {\n    key: \"readBytes\",\n    value: function readBytes(bytes, pos, len) {\n      return bytes.splice(pos, len);\n    }\n\n    /**\n     * Inserts or modifies formulas or CAS on a textarea.\n     * @param {HTMLTextAreaElement} textarea - textarea target.\n     * @param {string} text - text to add in the textarea. For example, to add the link to the image,\n     * call this function as (textarea, Parser.createImageSrc(mathml));\n     * @static\n     */\n  }, {\n    key: \"updateTextArea\",\n    value: function updateTextArea(textarea, text) {\n      if (textarea && text) {\n        textarea.focus();\n        if (textarea.selectionStart != null) {\n          var selectionEnd = textarea.selectionEnd;\n          var selectionStart = textarea.value.substring(0, textarea.selectionStart);\n          var selectionEndSub = textarea.value.substring(selectionEnd, textarea.value.length);\n          textarea.value = selectionStart + text + selectionEndSub;\n          textarea.selectionEnd = selectionEnd + text.length;\n        } else {\n          var selection = document.selection.createRange();\n          selection.text = text;\n        }\n      }\n    }\n\n    /**\n     * Modifies existing formula on a textarea.\n     * @param {HTMLTextAreaElement} textarea - text area target.\n     * @param {string} text - text to add in the textarea. For example, if you want to add the link\n     * to the image,you can call this function as\n     * Util.updateTextarea(textarea, Parser.createImageSrc(mathml));\n     * @param {number} start - beginning index from textarea where it needs to be replaced by text.\n     * @param {number} end - ending index from textarea where it needs to be replaced by text\n     * @static\n     */\n  }, {\n    key: \"updateExistingTextOnTextarea\",\n    value: function updateExistingTextOnTextarea(textarea, text, start, end) {\n      textarea.focus();\n      var textareaStart = textarea.value.substring(0, start);\n      textarea.value = textareaStart + text + textarea.value.substring(end, textarea.value.length);\n      textarea.selectionEnd = start + text.length;\n    }\n\n    /**\n     * Add a parameter with it's correspondent value to an URL (GET).\n     * @param {string} path - URL path\n     * @param {string} parameter - parameter\n     * @param {string} value - value\n     * @static\n     */\n  }, {\n    key: \"addArgument\",\n    value: function addArgument(path, parameter, value) {\n      var sep;\n      if (path.indexOf('?') > 0) {\n        sep = '&';\n      } else {\n        sep = '?';\n      }\n      return \"\".concat(path + sep + parameter, \"=\").concat(value);\n    }\n  }]);\n  return Util;\n}();\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/src/util.js?")},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n      if (item[2]) {\n        return "@media ".concat(item[2], " {").concat(content, "}");\n      }\n      return content;\n    }).join("");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === "string") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, ""]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/css-loader/dist/runtime/api.js?')},"./node_modules/dompurify/dist/purify.js":function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof2(o) { \"@babel/helpers - typeof\"; return _typeof2 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof2(o); }\n/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */\n\n(function (global, factory) {\n  ( false ? 0 : _typeof2(exports)) === 'object' && \"object\" !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : (0);\n})(this, function () {\n  'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n    return _setPrototypeOf(o, p);\n  }\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  function _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n    return _construct.apply(null, arguments);\n  }\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var hasOwnProperty = Object.hasOwnProperty,\n    setPrototypeOf = Object.setPrototypeOf,\n    isFrozen = Object.isFrozen,\n    getPrototypeOf = Object.getPrototypeOf,\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n    seal = Object.seal,\n    create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n    apply = _ref.apply,\n    construct = _ref.construct;\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return _construct(Func, _toConsumableArray(args));\n    };\n  }\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringToString = unapply(String.prototype.toString);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n  var regExpTest = unapply(RegExp.prototype.test);\n  var typeErrorCreate = unconstruct(TypeError);\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      return apply(func, thisArg, args);\n    };\n  }\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return construct(func, args);\n    };\n  }\n  /* Add properties to a lookup table */\n\n  function addToSet(set, array, transformCaseFunc) {\n    var _transformCaseFunc;\n    transformCaseFunc = (_transformCaseFunc = transformCaseFunc) !== null && _transformCaseFunc !== void 0 ? _transformCaseFunc : stringToLowerCase;\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n    var l = array.length;\n    while (l--) {\n      var element = array[l];\n      if (typeof element === 'string') {\n        var lcElement = transformCaseFunc(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n          element = lcElement;\n        }\n      }\n      set[element] = true;\n    }\n    return set;\n  }\n  /* Shallow clone an object */\n\n  function clone(object) {\n    var newObject = create(null);\n    var property;\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property]) === true) {\n        newObject[property] = object[property];\n      }\n    }\n    return newObject;\n  }\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n      object = getPrototypeOf(object);\n    }\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n    return fallbackValue;\n  }\n  var html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\n  var svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  var mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']); // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  var text = freeze(['#text']);\n  var html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  var svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  var mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\n  var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  var TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  var DOCTYPE_NAME = seal(/^html$/i);\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    } // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html) {\n          return html;\n        },\n        createScriptURL: function createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n\n    DOMPurify.version = '2.4.7';\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n\n    DOMPurify.removed = [];\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n    var originalDocument = window.document;\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n      HTMLTemplateElement = window.HTMLTemplateElement,\n      Node = window.Node,\n      Element = window.Element,\n      NodeFilter = window.NodeFilter,\n      _window$NamedNodeMap = window.NamedNodeMap,\n      NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n      HTMLFormElement = window.HTMLFormElement,\n      DOMParser = window.DOMParser,\n      trustedTypes = window.trustedTypes;\n    var ElementPrototype = Element.prototype;\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n    var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n    var _document = document,\n      implementation = _document.implementation,\n      createNodeIterator = _document.createNodeIterator,\n      createDocumentFragment = _document.createDocumentFragment,\n      getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n    var documentMode = {};\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n    var hooks = {};\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined && documentMode !== 9;\n    var MUSTACHE_EXPR$1 = MUSTACHE_EXPR,\n      ERB_EXPR$1 = ERB_EXPR,\n      TMPLIT_EXPR$1 = TMPLIT_EXPR,\n      DATA_ATTR$1 = DATA_ATTR,\n      ARIA_ATTR$1 = ARIA_ATTR,\n      IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n    /* Allowed attribute names */\n\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n\n    var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n    var FORBID_TAGS = null;\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n    var FORBID_ATTR = null;\n    /* Decide if ARIA attributes are okay */\n\n    var ALLOW_ARIA_ATTR = true;\n    /* Decide if custom data attributes are okay */\n\n    var ALLOW_DATA_ATTR = true;\n    /* Decide if unknown protocols are okay */\n\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n    /* Decide if self-closing tags in attributes are allowed.\n     * Usually removed due to a mXSS issue in jQuery 3.0 */\n\n    var ALLOW_SELF_CLOSE_IN_ATTR = true;\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n\n    var SAFE_FOR_TEMPLATES = false;\n    /* Decide if document with <html>... should be returned */\n\n    var WHOLE_DOCUMENT = false;\n    /* Track whether config is already set on this instance of DOMPurify. */\n\n    var SET_CONFIG = false;\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n\n    var FORCE_BODY = false;\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n\n    var RETURN_DOM = false;\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n    var RETURN_DOM_FRAGMENT = false;\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n\n    var RETURN_TRUSTED_TYPE = false;\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n\n    var SANITIZE_DOM = true;\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (§7.3.3)\n     *   - DOM Tree Accessors (§3.1.5)\n     *   - Form Element Parent-Child Relations (§4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n     *   - HTMLCollection (§4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n\n    var SANITIZE_NAMED_PROPS = false;\n    var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n    /* Keep element content when removing element? */\n\n    var KEEP_CONTENT = true;\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n\n    var IN_PLACE = false;\n    /* Allow usage of profiles like html, svg and mathMl */\n\n    var USE_PROFILES = {};\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n\n    var FORBID_CONTENTS = null;\n    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n    /* Tags that are safe for data: URIs */\n\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n    /* Attributes safe for values like \"javascript:\" */\n\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n    /* Allowed XHTML+XML namespaces */\n\n    var ALLOWED_NAMESPACES = null;\n    var DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n    /* Parsing of strict XHTML documents */\n\n    var PARSER_MEDIA_TYPE;\n    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    var transformCaseFunc;\n    /* Keep a reference to config to pass to hooks */\n\n    var CONFIG = null;\n    /* Ideally, do not touch anything below this line */\n\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n    var isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n      /* Shield configuration object from tampering */\n\n      if (!cfg || _typeof(cfg) !== 'object') {\n        cfg = {};\n      }\n      /* Shield configuration object from prototype pollution */\n\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n      /* Set configuration parameters */\n\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n      // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR,\n      // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS),\n      // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS,\n      // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n      ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n      /* Parse profile info */\n\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n      /* Merge configuration parameters */\n\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n      /* Add #text in case KEEP_CONTENT is set to true */\n\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      } // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n\n      if (freeze) {\n        freeze(cfg);\n      }\n      CONFIG = cfg;\n    };\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n\n    var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n\n    var ALL_SVG_TAGS = addToSet({}, svg$1);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n    var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: NAMESPACE,\n          tagName: 'template'\n        };\n      }\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n      if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return false;\n      }\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        } // The only way to switch from MathML to SVG is via`\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        } // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        } // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        } // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        } // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      } // For XHTML and XML documents that support custom namespaces\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return true;\n      } // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n      // Return false just in case.\n\n      return false;\n    };\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n      node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc;\n      var leadingWhitespace;\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n      /* Use createHTMLDocument in case DOMParser is not available */\n\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n        } catch (_) {// Syntax error if dirtyPayload is invalid xml\n        }\n      }\n      var body = doc.body || doc.documentElement;\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n      /* Work on whole document or just its body */\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n\n    var _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n    };\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n\n    var _isNode = function _isNode(object) {\n      return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeElements', currentNode, null);\n      /* Check if element is clobbered or can clobber */\n\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n      /* Check if tagname contains Unicode */\n\n      if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n      /* Now let's check the element's type and name */\n\n      var tagName = transformCaseFunc(currentNode.nodeName);\n      /* Execute a hook if present */\n\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n      /* Detect mXSS attempts abusing namespace confusion */\n\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n      /* Mitigate a problem with templates inside select */\n\n      if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n      /* Remove element if anything forbids its presence */\n\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n        }\n        /* Keep content except for bad-listed elements */\n\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n        _forceRemove(currentNode);\n        return true;\n      }\n      /* Check whether element has a valid namespace */\n\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n      /* Make sure that older browsers don't get fallback-tag mXSS */\n\n      if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n      /* Sanitize element content to be template-safe */\n\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n        content = stringReplace(content, ERB_EXPR$1, ' ');\n        content = stringReplace(content, TMPLIT_EXPR$1, ' ');\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n      /* Execute a hook if present */\n\n      _executeHook('afterSanitizeElements', currentNode, null);\n      return false;\n    };\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName)) ;else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName)) ;else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ;else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ;else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ;else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ;else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ;else if (value) {\n        return false;\n      } else ;\n      return true;\n    };\n    /**\n     * _basicCustomElementCheck\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     * @param {string} tagName name of the tag of the node to sanitize\n     */\n\n    var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n      return tagName.indexOf('-') > 0;\n    };\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr;\n      var value;\n      var lcName;\n      var l;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n      var attributes = currentNode.attributes;\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n      /* Go backwards over all attributes; safely remove bad ones */\n\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n          name = _attr.name,\n          namespaceURI = _attr.namespaceURI;\n        value = name === 'value' ? attr.value : stringTrim(attr.value);\n        lcName = transformCaseFunc(name);\n        /* Execute a hook if present */\n\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n        /* Remove attribute */\n\n        _removeAttribute(name, currentNode);\n        /* Did the hooks approve of the attribute? */\n\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n        /* Work around a security issue in jQuery 3.0 */\n\n        if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n        /* Sanitize attribute content to be template-safe */\n\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n          value = stringReplace(value, ERB_EXPR$1, ' ');\n          value = stringReplace(value, TMPLIT_EXPR$1, ' ');\n        }\n        /* Is `value` valid for this attribute? */\n\n        var lcTag = transformCaseFunc(currentNode.nodeName);\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n        /* Handle attributes that require Trusted Types */\n\n        if (trustedTypesPolicy && _typeof(trustedTypes) === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ;else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                {\n                  value = trustedTypesPolicy.createHTML(value);\n                  break;\n                }\n              case 'TrustedScriptURL':\n                {\n                  value = trustedTypesPolicy.createScriptURL(value);\n                  break;\n                }\n            }\n          }\n        }\n        /* Handle invalid data-* attribute set by try-catching it */\n\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n      /* Execute a hook if present */\n\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode;\n      var shadowIterator = _createIterator(fragment);\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n        /* Sanitize tags and elements */\n\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n        /* Deep shadow DOM detected */\n\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n        _sanitizeAttributes(shadowNode);\n      }\n      /* Execute a hook if present */\n\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n\n    DOMPurify.sanitize = function (dirty) {\n      var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var body;\n      var importedNode;\n      var currentNode;\n      var oldNode;\n      var returnNode;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n\n      IS_EMPTY_INPUT = !dirty;\n      if (IS_EMPTY_INPUT) {\n        dirty = '\x3c!--\x3e';\n      }\n      /* Stringify, in case dirty is an object */\n\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        if (typeof dirty.toString === 'function') {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        } else {\n          throw typeErrorCreate('toString is not a function');\n        }\n      }\n      /* Check we can run. Otherwise fall back or ignore */\n\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n        return dirty;\n      }\n      /* Assign config vars */\n\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n      /* Clean up removed elements */\n\n      DOMPurify.removed = [];\n      /* Check if dirty is correctly typed for IN_PLACE */\n\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          var tagName = transformCaseFunc(dirty.nodeName);\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('\x3c!----\x3e');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n        /* Initialize the document to work on */\n\n        body = _initDocument(dirty);\n        /* Check we have a DOM node from the data */\n\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n      /* Remove first element node (ours) if FORCE_BODY is set */\n\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n      /* Get node iterator */\n\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n      /* Now start iterating over the created document */\n\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n        /* Sanitize tags and elements */\n\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n        /* Shadow DOM detected, sanitize it */\n\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n        _sanitizeAttributes(currentNode);\n        oldNode = currentNode;\n      }\n      oldNode = null;\n      /* If we sanitized `dirty` in-place, return it. */\n\n      if (IN_PLACE) {\n        return dirty;\n      }\n      /* Return sanitized string or DOM */\n\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n        if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmod) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n        return returnNode;\n      }\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n      /* Serialize doctype if allowed */\n\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n      /* Sanitize final string template-safe */\n\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR$1, ' ');\n      }\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n      var lcTag = transformCaseFunc(tag);\n      var lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n    return DOMPurify;\n  }\n  var purify = createDOMPurify();\n  return purify;\n});\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/dompurify/dist/purify.js?")},"./node_modules/uuid/dist/esm-browser/regex.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/uuid/dist/esm-browser/regex.js?')},"./node_modules/uuid/dist/esm-browser/rng.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/uuid/dist/esm-browser/rng.js?")},"./node_modules/uuid/dist/esm-browser/stringify.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/uuid/dist/esm-browser/stringify.js?")},"./node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ "./node_modules/uuid/dist/esm-browser/rng.js");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");\n\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__["default"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__["default"])(rnds);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/uuid/dist/esm-browser/v4.js?')},"./node_modules/uuid/dist/esm-browser/validate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ "./node_modules/uuid/dist/esm-browser/regex.js");\n\nfunction validate(uuid) {\n  return typeof uuid === \'string\' && _regex_js__WEBPACK_IMPORTED_MODULE_0__["default"].test(uuid);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/uuid/dist/esm-browser/validate.js?')},"./node_modules/css-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/styles.css":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ".wrs_modal_overlay {\\n  position: fixed;\\n  font-family: arial, sans-serif;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  background: rgba(0, 0, 0, 0.8);\\n  z-index: 999998;\\n  opacity: 0.65;\\n  pointer-events: auto;\\n}\\n\\n.wrs_modal_overlay.wrs_modal_ios {\\n  visibility: hidden;\\n  display: none;\\n}\\n\\n.wrs_modal_overlay.wrs_modal_android {\\n  visibility: hidden;\\n  display: none;\\n}\\n\\n.wrs_modal_overlay.wrs_modal_ios.moodle {\\n  position: fixed;\\n}\\n\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_stack {\\n  background: rgba(0, 0, 0, 0);\\n  display: none;\\n}\\n\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_maximized {\\n  background: rgba(0, 0, 0, 0.8);\\n}\\n\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_minimized {\\n  background: rgba(0, 0, 0, 0);\\n  display: none;\\n}\\n\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_closed {\\n  background: rgba(0, 0, 0, 0);\\n  display: none;\\n}\\n\\n.wrs_modal_title {\\n  color: #fff;\\n  padding: 5px 0 5px 10px;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  text-align: left;\\n}\\n\\n.wrs_modal_close_button {\\n  float: right;\\n  cursor: pointer;\\n  color: #fff;\\n  padding: 5px 10px 5px 0;\\n  margin: 10px 7px 0 0;\\n  background-repeat: no-repeat;\\n}\\n\\n.wrs_modal_minimize_button {\\n  float: right;\\n  cursor: pointer;\\n  color: #fff;\\n  padding: 5px 10px 5px 0;\\n  top: inherit;\\n  margin: 10px 7px 0 0;\\n}\\n\\n.wrs_modal_stack_button {\\n  float: right;\\n  cursor: pointer;\\n  color: #fff;\\n  margin: 10px 7px 0 0;\\n  padding: 5px 10px 5px 0;\\n  top: inherit;\\n}\\n\\n.wrs_modal_stack_button.wrs_stack {\\n  visibility: hidden;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.wrs_modal_stack_button.wrs_minimized {\\n  visibility: hidden;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.wrs_modal_maximize_button {\\n  float: right;\\n  cursor: pointer;\\n  color: #fff;\\n  margin: 10px 7px 0 0;\\n  padding: 5px 10px 5px 0;\\n  top: inherit;\\n}\\n\\n.wrs_modal_maximize_button.wrs_maximized {\\n  visibility: hidden;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.wrs_modal_title_bar {\\n  display: block;\\n  background-color: #778e9a;\\n}\\n\\n.wrs_modal_dialogContainer {\\n  border: none;\\n  background: #fafafa;\\n  z-index: 999999;\\n}\\n\\n.wrs_modal_dialogContainer.wrs_modal_desktop {\\n  font-size: 14px;\\n}\\n\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_maximized {\\n  position: fixed;\\n}\\n\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized {\\n  position: fixed;\\n  top: inherit;\\n  margin: 0;\\n  margin-right: 10px;\\n}\\n\\n.wrs_modal_dialogContainer.wrs_closed {\\n  visibility: hidden;\\n  display: none;\\n  opacity: 0;\\n}\\n\\n/* Class that exists but hasn\'t got css properties defined\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized.wrs_drag {} */\\n\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_stack {\\n  position: fixed;\\n  bottom: 0;\\n  right: 0;\\n  box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\\n}\\n\\n.wrs_modal_dialogContainer.wrs_drag {\\n  box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\\n}\\n\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_drag {\\n  box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\\n}\\n\\n.wrs_modal_dialogContainer.wrs_modal_android {\\n  margin: auto;\\n  position: fixed;\\n  width: 99%;\\n  height: 99%;\\n  overflow: hidden;\\n  transform: translate(50%, -50%);\\n  top: 50%;\\n  right: 50% !important;\\n}\\n\\n.wrs_modal_dialogContainer.wrs_modal_ios {\\n  margin: auto;\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  transform: translate(50%, -50%);\\n  top: 50%;\\n  right: 50% !important;\\n}\\n\\n/* Class that exists but hasn\'t got css properties defined\\n.wrs_content_container.wrs_maximized {} */\\n\\n.wrs_content_container.wrs_minimized {\\n  display: none;\\n}\\n\\n/* .wrs_editor {\\n    flex-grow: 1;\\n} */\\n\\n.wrs_content_container.wrs_modal_android {\\n  width: 100%;\\n  height: 0%;\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.wrs_content_container.wrs_modal_android > div:first-child {\\n  flex-grow: 1;\\n}\\n\\n.wrs_content_container.wrs_modal_ios > div:first-child {\\n  flex-grow: 1;\\n}\\n\\n.wrs_content_container.wrs_modal_desktop > div:first-child {\\n  flex-grow: 1;\\n}\\n\\n.wrs_modal_wrapper.wrs_modal_android {\\n  margin: auto;\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n.wrs_content_container.wrs_modal_desktop {\\n  width: 100%;\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.wrs_content_container.wrs_modal_ios {\\n  width: 100%;\\n  height: 0%;\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.wrs_modal_wrapper.wrs_modal_ios {\\n  margin: auto;\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n.wrs_virtual_keyboard {\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 50%;\\n  transform: translate(-50%, 0%);\\n}\\n\\n@media all and (orientation: portrait) {\\n  .wrs_modal_dialogContainer.wrs_modal_mobile {\\n    width: 100vmin;\\n    height: 100vmin;\\n    margin: auto;\\n    border-width: 0;\\n  }\\n\\n  .wrs_modal_wrapper.wrs_modal_mobile {\\n    width: 100vmin;\\n    height: 100vmin;\\n    margin: auto;\\n  }\\n}\\n\\n@media all and (orientation: landscape) {\\n  .wrs_modal_dialogContainer.wrs_modal_mobile {\\n    width: 100vmin;\\n    height: 100vmin;\\n    margin: auto;\\n    border-width: 0;\\n  }\\n\\n  .wrs_modal_wrapper.wrs_modal_mobile {\\n    width: 100vmin;\\n    height: 100vmin;\\n    margin: auto;\\n  }\\n}\\n\\n.wrs_modal_dialogContainer.wrs_modal_badStock {\\n  width: 100%;\\n  height: 280px;\\n  margin: 0 auto;\\n  border-width: 0;\\n}\\n\\n.wrs_modal_wrapper.wrs_modal_badStock {\\n  width: 100%;\\n  height: 280px;\\n  margin: 0 auto;\\n  border-width: 0;\\n}\\n\\n.wrs_noselect {\\n  -moz-user-select: none;\\n  -khtml-user-select: none;\\n  -webkit-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.wrs_bottom_right_resizer {\\n  width: 10px;\\n  height: 10px;\\n  color: #778e9a;\\n  position: absolute;\\n  right: 4px;\\n  bottom: 8px;\\n  cursor: se-resize;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.wrs_bottom_left_resizer {\\n  width: 15px;\\n  height: 15px;\\n  color: #778e9a;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  cursor: se-resize;\\n}\\n\\n.wrs_modal_controls {\\n  height: 42px;\\n  margin: 3px 0;\\n  overflow: hidden;\\n  line-height: normal;\\n}\\n\\n.wrs_modal_links {\\n  margin: 10px auto;\\n  margin-bottom: 0;\\n  font-family: arial, sans-serif;\\n  padding: 6px;\\n  display: inline;\\n  float: right;\\n  text-align: right;\\n}\\n\\n.wrs_modal_links > a {\\n  text-decoration: none;\\n  color: #778e9a;\\n  font-size: 16px;\\n}\\n\\n.wrs_modal_button_cancel,\\n.wrs_modal_button_cancel:hover,\\n.wrs_modal_button_cancel:visited,\\n.wrs_modal_button_cancel:active,\\n.wrs_modal_button_cancel:focus {\\n  min-width: 80px;\\n  font-size: 14px;\\n  border-radius: 3px;\\n  border: 1px solid #778e9a;\\n  padding: 6px 8px;\\n  margin: 10px auto;\\n  margin-left: 5px;\\n  margin-bottom: 0;\\n  cursor: pointer;\\n  font-family: arial, sans-serif;\\n  background-color: #ddd;\\n  height: 32px;\\n}\\n\\n.wrs_modal_button_accept,\\n.wrs_modal_button_accept:hover,\\n.wrs_modal_button_accept:visited,\\n.wrs_modal_button_accept:active,\\n.wrs_modal_button_accept:focus {\\n  min-width: 80px;\\n  font-size: 14px;\\n  border-radius: 3px;\\n  border: 1px solid #778e9a;\\n  padding: 6px 8px;\\n  margin: 10px auto;\\n  margin-right: 5px;\\n  margin-bottom: 0;\\n  color: #fff;\\n  background: #778e9a;\\n  cursor: pointer;\\n  font-family: arial, sans-serif;\\n  height: 32px;\\n}\\n\\n.wrs_editor_vertical_bar {\\n  height: 20px;\\n  float: right;\\n  background: none;\\n  width: 20px;\\n  cursor: pointer;\\n}\\n\\n.wrs_modal_buttons_container {\\n  display: inline;\\n  float: left;\\n}\\n\\n.wrs_modal_buttons_container.wrs_modalAndroid {\\n  padding-left: 6px;\\n}\\n\\n.wrs_modal_buttons_container.wrs_modalDesktop {\\n  padding-left: 0;\\n}\\n\\n.wrs_modal_buttons_container > button {\\n  line-height: normal;\\n  background-image: none;\\n}\\n\\n.wrs_modal_wrapper {\\n  margin: 6px;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.wrs_modal_wrapper.wrs_modal_desktop.wrs_minimized {\\n  display: none;\\n}\\n\\n@media only screen and (max-device-width: 480px) and (orientation: portrait) {\\n  #wrs_modal_wrapper {\\n    width: 140%;\\n  }\\n}\\n\\n.wrs_popupmessage_overlay_envolture {\\n  display: none;\\n  width: 100%;\\n}\\n\\n.wrs_popupmessage_overlay {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  z-index: 4;\\n  cursor: pointer;\\n}\\n\\n.wrs_popupmessage_panel {\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  position: absolute;\\n  background: white;\\n  max-width: 500px;\\n  width: 75%;\\n  border-radius: 2px;\\n  padding: 20px;\\n  font-family: sans-serif;\\n  font-size: 15px;\\n  text-align: left;\\n  color: #2e2e2e;\\n  z-index: 5;\\n  max-height: 75%;\\n  overflow: auto;\\n}\\n\\n.wrs_popupmessage_button_area {\\n  margin: 10px 0 0 0;\\n}\\n\\n.wrs_panelContainer * {\\n  border: 0;\\n}\\n\\n.wrs_button_cancel,\\n.wrs_button_cancel:hover,\\n.wrs_button_cancel:visited,\\n.wrs_button_cancel:active,\\n.wrs_button_cancel:focus {\\n  min-width: 80px;\\n  font-size: 14px;\\n  border-radius: 3px;\\n  border: 1px solid #778e9a;\\n  padding: 6px 8px;\\n  margin: 10px auto;\\n  margin-left: 5px;\\n  margin-bottom: 0;\\n  cursor: pointer;\\n  font-family: arial, sans-serif;\\n  background-color: #ddd;\\n  background-image: none;\\n  height: 32px;\\n}\\n\\n.wrs_button_accept,\\n.wrs_button_accept:hover,\\n.wrs_button_accept:visited,\\n.wrs_button_accept:active,\\n.wrs_button_accept:focus {\\n  min-width: 80px;\\n  font-size: 14px;\\n  border-radius: 3px;\\n  border: 1px solid #778e9a;\\n  padding: 6px 8px;\\n  margin: 10px auto;\\n  margin-right: 5px;\\n  margin-bottom: 0;\\n  color: #fff;\\n  background: #778e9a;\\n  cursor: pointer;\\n  font-family: arial, sans-serif;\\n  height: 32px;\\n}\\n\\n.wrs_editor button {\\n  box-shadow: none;\\n}\\n\\n.wrs_editor .wrs_header button {\\n  border-bottom: none;\\n  border-bottom-left-radius: 0;\\n  border-bottom-right-radius: 0;\\n}\\n\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_stack.wrs_overlay_active {\\n  display: block;\\n}\\n\\n/* Fix selection in drupal style */\\n.wrs_toolbar tr:focus {\\n  background: none;\\n}\\n\\n.wrs_toolbar tr:hover {\\n  background: none;\\n}\\n\\n/* End of fix drupal */\\n.wrs_modal_rtl .wrs_modal_button_cancel {\\n  margin-right: 5px;\\n  margin-left: 0;\\n}\\n\\n.wrs_modal_rtl .wrs_modal_button_accept {\\n  margin-right: 0;\\n  margin-left: 5px;\\n}\\n\\n.wrs_modal_rtl .wrs_button_cancel {\\n  margin-right: 5px;\\n  margin-left: 0;\\n}\\n\\n.wrs_modal_rtl .wrs_button_accept {\\n  margin-right: 0;\\n  margin-left: 5px;\\n}\\n", ""]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/styles.css?./node_modules/css-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/close_icon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.76 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.76\\"\\n   id=\\"svg3783\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata3789\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs3787\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image3791\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\\nvklEQVRYw83Z23GDMBAF0AsNhBIowSVQgjuISnAJKSEdZNOBS6CDOBUkqSC4gs2PyGhAQg92se4M\\n4w8bccYW2hVumBmRdAB6ADfopQcw2SOYNoIkAL8APgB8AzgLI0/2S/iy1xkt3B9m9h0dM9/YHxM4\\nJ/c4MfPkGX+y763OyYVKgUPQTXAJdC84Bg2CS6Gl4FSoF7wHmgvOhbrgzsW+8L4YJegccrEj749R\\ngs7ZXGdz8wbAeNbREcDTzrHvblEgBbAUFACuy6JALJeL0E/P9sbvmBnNojcgAM+oJ58AhrlnWM5Z\\nA+C9RmiokakBvIJuNTLSc7hojqY0Mo8EB6Ep2CPBm9BU7BHgKDQHqwlOguZiNcDJ0JLe4FV4iaLY\\nJjF16dLqnoob+EdDs8A1QJPBtUCTwDVBo+DaoJvgNvBIR6rDl9wirbA1QIPgVgl6VwHb+dAr7Jkk\\nS/Pg3mCkVOslxxV9yBFqSqTA/3N2Utkzye3pftw5OxzQ5tHeddcdzGj3o4VgClUwowgtAVOs3BpF\\naA6YUnsDowhNAVNu12UUoVtgCn2+ifxp1wO42Ner4KPR5dJ2tsse2ZLvTQxbVf4AmC2z7WnSvpIA\\nAAAASUVORK5CYII=\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.76\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/close_icon.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/fulls_icon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.76 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.76\\"\\n   id=\\"svg3793\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata3799\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs3797\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image3801\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG4SURBVFhHvZnhUYNAEEbRBkwH2oGUkA40FWgJ\\nKSEdaAmxA0vQDmIHKSFWgPuAHZkEAnd8y5v5kuNHMm+WY1mSm6qqCiGlZdUspXzxopY9Wu6bpZQf\\nSxlRWapwVx9p2dy2CxUHy9ryWx9pKdWyECYcIQshwlGyIBeOlAWpcLQsyISXkAWEX5tlPkvJwnP7\\nns1SsnvLS7PMZwlZiShEy8pEIVJWKgpRsnJRiJBNFf2wbCzjfZgRUZi9JYWDxT9bWk6WIXbKym4t\\nKRVloObO5oze6ZClWX9a5jyOcOrfmuUkXPRUH/1zVRhZpvsnCxN+jnDqHh0SdQaFu9vg0ZIqrBZ1\\neoXP92yKcJSocyHcd4FNEY4WdbrCR1rGrukMF9BWVhZvLZ7U9rS2nH9HVvoq63iFu+RUlOpIuCYL\\nCCPIqVjq1A9j5R3aBnMY2kKzMlbZHPQVbVHLhomCUjZUFFSy35ZQUVDIMo+Gi4JCltFwERSy75Y5\\n4+VkFLLcKHLHyyRUF1jOeJmMShbChZWy0Df8yFDLgg8/cpCN6I9cdHJhZHmy7X2anAnCtDUZ/j/Y\\ng2X2j709MHhTDAFF8QdK9SRpUl2yFgAAAABJRU5ErkJggg==\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.76\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/fulls_icon.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/max_icon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.44 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.44\\"\\n   id=\\"svg3803\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata3809\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs3807\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image3811\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\nvElEQVRYw+3ZSw0CMRSF4b8T9iAFB4wDkDAWcICEkTA4GAeAA3AADurgsCkbAgsSMrmFczZNd1/a\\n3vSVJFFDGipJNdBZaRdAB2wC2TIwAgNAkrQEjsA86GBegDZJGoF18JnfJtVR9idXvaGGGmrod/b6\\nV9kD14k9LbD6FDqUM8CU2b2Deo0aaqihhhpqqKGGGhr1hH/wiP469FaBMzflEhc9PZKQ1CtmsqRO\\nEunpHbeNNN3A+dFJ/mf6V+gduGPIoUgKLbAAAAAASUVORK5CYII=\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.44\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/max_icon.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/min_icon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.76 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.76\\"\\n   id=\\"svg3813\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata3819\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs3817\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image3821\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\nnUlEQVRYw+3Z0QnCMBSF4T/FATqCG1g3cISO0NE6iiPoCE5gneD40ohPvgkJ/AcC9/EjHELgliT0\\nkoGOIlasWLFixYoVK1asWLFixYoVK1bsjxy+5hlYgLEx47ofSEKSJW1nTUJJMgLPDlpwHoCpk8rO\\nvgZixf4Zu3Vi3cq+WroBp4ahL+BYa3AB7o1CH7vvc7M1U4N/g2sdSk8bxjfDaMNdr+hmAQAAAABJ\\nRU5ErkJggg==\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.76\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/min_icon.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/mins_icon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.76 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.76\\"\\n   id=\\"svg3823\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata3829\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs3827\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image3831\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAHOSURBVFhH1ZiLUcMwEEQNDcQl0AEuISVABZhO\\nUkroICVAB6ECoINQgdmVfR5FlmQrkZzjzezEzsc8NPqcdNd1XfVfuB9ec3NAmv4yiRo5ImzBlm+c\\nwZYtEHJCGsT3eSgHxKZFxs/tL+aMkCK8R3yMwu4PcsVmiXBIVDDCvh/miEtMeE5UaEsNMJcN8o64\\ng26PvPSXs9S+/zRHQtgtvLRFCb9blZpnYw/9Rb6RR3M3zxtiprFbyKYwipK1+uwlnIkSrbITUaJR\\n1itKtMkGRYk2WRZAQbTNBpzWtggrrwnaWja00hk0DrCgsEZZ4hXWKksmwjLAHobkgOv+V3+ZhXHQ\\niWxKqXYLKNyILDdqbPKlldASPhA+Mxc7uwatkSOSix1iP//q2APshLBvfJo7hbizgQj/mDtl+KYu\\nCj8h7NSqCM2zXJvZwqqEY4uCOuGYLKEwJ3kVzMlyscg5915FTFbdqhaSVbn8+mTV1gmurOqCxpZN\\nEeUu9BlZd1obioTkQ7IhPGTjYZuPIoUMK/GUFrX39asuHJTlH3w1d3FCBxCrCUufZX+NCUdPSsAq\\nwu4A8wnPiQrFhW1Z4govFRWKCoeOjzjoZF92CdwpZy6AquoPvJRHJxB8bJ8AAAAASUVORK5CYII=\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.76\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/general/mins_icon.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/close_icon_h.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.76 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.76\\"\\n   id=\\"svg2\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata8\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs6\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image10\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\\n2ElEQVRYw9XZoXPCMBTH8S+5KfDzQ29606CH3/SmQTO96aGHHn/F0Himh8eDZSblQknSJH2F0DtE\\nQw8+12vyfulr7XY7LuW4qvj+DugD18AC+AE2woa+/mz07y9cF7Y8d7YPDEtjK2AsCB4BvdLYHPi0\\nXawioAA3wAfQaQiKHhuFYl1QSbAL6gWrSKgEuArqBKsEaB1wKNQKVsasHybcpRhwLNQED0zsoMbz\\nFwJOhWL6Cmzd2e0D14Wi1/k9di2wFNnAEtBifd9jv4GtIPgaeBOCAkzLFayr/6idWSSY6DJ8sHT9\\n6VK6zRFqKwo5gQ+grnKbA/gI6gsy5wRboT7sucBOaBX21GAvNAR7KnAlNBTbNDgIGoMtwO/C0Gko\\nNBZbN525tk+dJrAj4F4YGxXgVQS019DkCgarM0OjwCoDaDBYZQINAquMoJVglRnUC1YZQp1g1RB0\\nJryn65jYJ0HoRGPHguDX8hsZ6VAiGX4eUrJBbHqSArdN7LLBmCcBnpvYWfHWo6E8Wge8Ar7Kj8E4\\nARwcnBPBB20BE7uJBMdAU8BH/YvyBAsFp0BjwNZGi201qALXgYaAnR0hX2upAzwDj/p8raFL5I4u\\n8ALc6vNfvc+ztq5al9Rh/AfwZZ/LmlMllAAAAABJRU5ErkJggg==\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.76\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/close_icon_h.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/fulls_icon_h.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.76 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.76\\"\\n   id=\\"svg12\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata18\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs16\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image20\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAGMSURBVFhHvdk7TsNAFIVhQ0l6elLDJqCGngXQ\\nU7MA6rALahZATQ81C6APrXP/jEaKHD/i8TnzS1eaICF/2I4f4qxt20bYOmaVlrK2Mb8s1Nj3mIu0\\nlPYZszlPa1kvMf9pKe02Zq3Gcrhc4JUaSzawA0sWsAtLcrATS1KwG0sycA0sAd6kZXm1sNzVHtOy\\nvBpYoK8xV/tPC3JjZVByYqVQcmHlUHJgLVBSY0ugPP7xO5PXYSW2FMr19ytm8sahxD7ElEBzk3c6\\nsFysn/afymKPvsXMueh3oblRMNibmPuYZ34wsyWHfqhB8OFpwKvDHLADmusFd8/ZU8FOaO4I3PcF\\nmwLXgOYOwVtexdnwdUy3vg2UQPnD2eji+vZsrruHS/eoBEpjWMpgrhi1Dv1gY6fBkuRQmtqzJVmg\\npMbaoKTEWqGkwtqhpMBWgZICWwVKCuwpzxKSFNi5T2vFqb5gVcAqLNnBSixZwWos2cBg/9JSmgUM\\n9iMt5QFe8tZ8VP6n3WXMHQtxPzHfabm0ptkBwWhpthzMp7YAAAAASUVORK5CYII=\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.76\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/fulls_icon_h.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/max_icon_h.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.44 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.44\\"\\n   id=\\"svg22\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata28\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs26\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image30\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\nvUlEQVRYw+3ZsQ3CMBCF4d8WFekZgBqWIDUDZACmYBQWYIn0pGYAegZIexROERHRIBTdhXeVy08+\\nyT4/JzMjQmWCVBjoarSugK0z3/0degKODjeyBy5Am8ysARrnnT8nM7sCa+fQLgdAAlQ6ngQVVFBB\\nfzeUTK6t8VAwU328ztV6QQUVVFBBBRVUUEG9Ds41sJvZs/8GelDrlw7tAjhvmZLo9o6RD4bEGUp+\\nX1My/I0T4HN4rrcASf9M/wp9ASNzIKYYz2hAAAAAAElFTkSuQmCC\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.44\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/max_icon_h.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/min_icon_h.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.76 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.76\\"\\n   id=\\"svg32\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata38\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs36\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image40\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\npklEQVRYw+3ZLQ4CMRCG4bcbFOvXg99T7FG4BafAw1VALx7dWyy2mIoGgSOZJu/n6p70ZybppFIK\\nvWSgo4gVK1asWLFixYoVK1asWLFixYoV+yO7r/UMHIAxiO8FZGBrsUfgDEwBN/QNXIA11S/PW1Bo\\nCz4N9ein4Nd1Dyw9PbDR0iVW7J+xudax6HkOtZVdg0MfQE7N0G4GlmANYgNW4A6QepowfgDMXB26\\nb1V6LAAAAABJRU5ErkJggg==\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.76\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/min_icon_h.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/raw-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/mins_icon_h.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n<svg\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"\\n   viewBox=\\"0 0 13.76 13.76\\"\\n   height=\\"13.76\\"\\n   width=\\"13.76\\"\\n   id=\\"svg42\\"\\n   version=\\"1.1\\">\\n  <metadata\\n     id=\\"metadata48\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\\"defs46\\" />\\n  <image\\n     y=\\"0\\"\\n     x=\\"0\\"\\n     id=\\"image50\\"\\n     xlink:href=\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG/SURBVFhH1ZgxUsMwEEUNJRyAGmp6qKGn5xRQ\\nQ08NNfRQQw11DpAaanIAWrMv8WaELSlexhLLm/mRnImiF48jr7zVtm3zX9ju2ik5llxLdpdHNg4k\\nT5I7yWB8Cdl9yZHkRmIRRpQxOxK+YzC+hKwSnTBBKKoMxpeUBSbkksgRE1V+CJeWhUPJ5ao7ICeq\\nrIVryMKJpC88RlTZk1SThVDYIvoluZIsSqyz511SfEg4UxbRdw5qnlmFa9AsCn8hO4aBKHiUjYqC\\nN9mkKHiSzYqCJ9lPSVIUPMmySqTudEu8XbOxO90ab7KQFPYoC1Fhr7IwENbagMLCUtXnoCTM1QZW\\n3iS3dFT2mRfHvEjuVfZUckFnQh67dgqo1GYqC1MLn3XtZIR/sFcJW2C39FcD18KxpcutcGqddSmc\\nuykg/LDq+iAnC/OudUFOVrfLbkjJWvb11YjJuhSFvqxbUQhlXYuCylpE2YXy2SkLlVEgaxVluzyT\\nIEutWQ1kKZYtouF2maK4mjCyFN6bJsw9gKgmrNdsbsKNT0qEKsIqC7EJx4gqxYVDWQgntIgqRYXD\\nbY3CLpcVgmdPC974BYy3/MgRNM03hR9ubFTHT48AAAAASUVORK5CYII=\\n\\"\\n     style=\\"image-rendering:optimizeQuality\\"\\n     preserveAspectRatio=\\"none\\"\\n     height=\\"13.76\\"\\n     width=\\"13.76\\" />\\n</svg>\\n");\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/icons/hover/mins_icon_h.svg?./node_modules/raw-loader/dist/cjs.js')},"./node_modules/@wiris/mathtype-html-integration-devkit/styles/styles.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");\n/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");\n/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");\n/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");\n/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");\n/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js!./styles.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/@wiris/mathtype-html-integration-devkit/styles/styles.css");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");\n    \noptions.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);\n\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/styles/styles.css?')},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{"use strict";eval('\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = "".concat(id, " ").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?')},"./node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{"use strict";eval('\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === "undefined") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error("Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/style-loader/dist/runtime/insertBySelector.js?')},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement("style");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/style-loader/dist/runtime/insertStyleElement.js?')},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute("nonce", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?')},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = "";\n  if (obj.supports) {\n    css += "@supports (".concat(obj.supports, ") {");\n  }\n  if (obj.media) {\n    css += "@media ".concat(obj.media, " {");\n  }\n  var needLayer = typeof obj.layer !== "undefined";\n  if (needLayer) {\n    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += "}";\n  }\n  if (obj.media) {\n    css += "}";\n  }\n  if (obj.supports) {\n    css += "}";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== "undefined") {\n    css += "\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === "undefined") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/style-loader/dist/runtime/styleDomAPI.js?')},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{"use strict";eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/style-loader/dist/runtime/styleTagTransform.js?")},"./node_modules/@wiris/mathtype-html-integration-devkit/lang/strings.json":module=>{"use strict";eval('module.exports = /*#__PURE__*/JSON.parse(\'{"ar":{"latex":"LaTeX","cancel":"إلغاء","accept":"إدراج","manual":"الدليل","insert_math":"إدراج صيغة رياضية - MathType","insert_chem":"إدراج صيغة كيميائية - ChemType","minimize":"تصغير","maximize":"تكبير","fullscreen":"ملء الشاشة","exit_fullscreen":"الخروج من ملء الشاشة","close":"إغلاق","mathtype":"MathType","title_modalwindow":"نافذة MathType مشروطة","close_modal_warning":"هل تريد المغادرة بالتأكيد؟ ستُفقد التغييرات التي أجريتها.","latex_name_label":"صيغة Latex","browser_no_compatible":"المستعرض غير متوافق مع تقنية AJAX. الرجاء استخدام أحدث إصدار من Mozilla Firefox.","error_convert_accessibility":"حدث خطأ أثناء التحويل من MathML إلى نص قابل للاستخدام.","exception_cross_site":"البرمجة النصية للمواقع المشتركة مسموح بها لـ HTTP فقط.","exception_high_surrogate":"المركّب المرتفع غير متبوع بمركّب منخفض في fixedCharCodeAt()‎","exception_string_length":"سلسلة غير صالحة. يجب أن يكون الطول من مضاعفات العدد 4","exception_key_nonobject":"Object.keys مستدعاة على غير كائن","exception_null_or_undefined":" هذا فارغ أو غير محدد","exception_not_function":" ليست دالة","exception_invalid_date_format":"تنسيق تاريخ غير صالح: ","exception_casting":"لا يمكن الصياغة ","exception_casting_to":" إلى "},"ca":{"latex":"LaTeX","cancel":"Cancel·lar","accept":"Inserir","manual":"Manual","insert_math":"Inserir fórmula matemàtica - MathType","insert_chem":"Inserir fórmula química - ChemType","minimize":"Minimitza","maximize":"Maximitza","fullscreen":"Pantalla completa","exit_fullscreen":"Sortir de la pantalla complera","close":"Tanca","mathtype":"MathType","title_modalwindow":" Finestra modal de MathType","close_modal_warning":"N\\\'estàs segur que vols sortir? Es perdran els canvis que has fet.","latex_name_label":"Fórmula en Latex","browser_no_compatible":"El teu navegador no és compatible amb AJAX. Si us plau, usa la darrera versió de Mozilla Firefox.","error_convert_accessibility":"Error en convertir de MathML a text accessible.","exception_cross_site":"Els scripts de llocs creuats només estan permesos per HTTP.","exception_high_surrogate":"Subrogat alt no seguit de subrogat baix a fixedCharCodeAt()","exception_string_length":"Cadena invàlida. La longitud ha de ser un múltiple de 4","exception_key_nonobject":"Object.keys anomenat a non-object","exception_null_or_undefined":" això és null o no definit","exception_not_function":" no és una funció","exception_invalid_date_format":"Format de data invàlid : ","exception_casting":"No es pot emetre ","exception_casting_to":" a "},"cs":{"latex":"LaTeX","cancel":"Storno","accept":"Vložit","manual":"Příručka","insert_math":"Vložit matematický vzorec - MathType","insert_chem":"Vložení chemického vzorce – ChemType","minimize":"Minimalizovat","maximize":"Maximalizovat","fullscreen":"Celá obrazovka","exit_fullscreen":"Opustit režim celé obrazovky","close":"Zavřít","mathtype":"MathType","title_modalwindow":"Modální okno MathType","close_modal_warning":"Opravdu chcete okno zavřít? Provedené změny budou ztraceny.","latex_name_label":"Vzorec v LaTeXu","browser_no_compatible":"Váš prohlížeč nepodporuje technologii AJAX. Použijte nejnovější verzi prohlížeče Mozilla Firefox.","error_convert_accessibility":"Při převodu kódu MathML na čitelný text došlo k chybě.","exception_cross_site":"Skriptování mezi více servery je povoleno jen v HTTP.","exception_high_surrogate":"Ve funkci fixedCharCodeAt() nenásleduje po první části kódu znaku druhá část","exception_string_length":"Neplatný řetězec. Délka musí být násobkem 4.","exception_key_nonobject":"Funkce Object.keys byla použita pro prvek, který není objektem","exception_null_or_undefined":" hodnota je null nebo není definovaná","exception_not_function":" není funkce","exception_invalid_date_format":"Neplatný formát data: ","exception_casting":"Nelze přetypovat ","exception_casting_to":" na "},"da":{"latex":"LaTeX","cancel":"Annuller","accept":"Indsæt","manual":"Brugervejledning","insert_math":"Indsæt matematisk formel - MathType","insert_chem":"Indsæt en kemisk formel - ChemType","minimize":"Minimer","maximize":"Maksimer","fullscreen":"Fuld skærm","exit_fullscreen":"Afslut Fuld skærm","close":"Luk","mathtype":"MathType","title_modalwindow":"MathType-modalvindue","close_modal_warning":"Er du sikker på, du vil lukke? Dine ændringer går tabt.","latex_name_label":"LaTex-formel","browser_no_compatible":"Din browser er ikke kompatibel med AJAX-teknologi. Brug den nyeste version af Mozilla Firefox.","error_convert_accessibility":"Fejl under konvertering fra MathML til tilgængelig tekst.","exception_cross_site":"Scripts på tværs af websteder er kun tilladt for HTTP.","exception_high_surrogate":"Et højt erstatningstegn er ikke fulgt af et lavt erstatningstegn i fixedCharCodeAt()","exception_string_length":"Ugyldig streng. Længden skal være et multiplum af 4","exception_key_nonobject":"Object.keys kaldet ved ikke-objekt","exception_null_or_undefined":" dette er nul eller ikke defineret","exception_not_function":" er ikke en funktion","exception_invalid_date_format":"Ugyldigt datoformat: ","exception_casting":"Kan ikke beregne ","exception_casting_to":" til "},"de":{"latex":"LaTeX","cancel":"Abbrechen","accept":"Einfügen","manual":"Handbuch","insert_math":"Mathematische Formel einfügen - MathType","insert_chem":"Eine chemische Formel einfügen – ChemType","minimize":"Verkleinern","maximize":"Vergrößern","fullscreen":"Vollbild","exit_fullscreen":"Vollbild schließen","close":"Schließen","mathtype":"MathType","title_modalwindow":"Modales MathType-Fenster","close_modal_warning":"Bist du sicher, dass du das Programm verlassen willst? Alle vorgenommenen Änderungen gehen damit verloren.","latex_name_label":"Latex-Formel","browser_no_compatible":"Dein Browser ist nicht mit der AJAX-Technologie kompatibel. Verwende bitte die neueste Version von Mozilla Firefox.","error_convert_accessibility":"Fehler beim Konvertieren von MathML in barrierefreien Text.","exception_cross_site":"Cross-Site-Scripting ist nur bei HTTP zulässig.","exception_high_surrogate":"Hoher Ersatz bei bei festerZeichenkodierungbei() nicht von niedrigem Ersatz befolgt.","exception_string_length":"Ungültige Zeichenfolge. Länge muss ein Vielfaches von 4 sein.","exception_key_nonobject":"Object.keys wurde für ein Nicht-Objekt aufgerufen.","exception_null_or_undefined":" Das ist Null oder nicht definiert.","exception_not_function":" ist keine Funktion","exception_invalid_date_format":"Ungültiges Datumsformat: ","exception_casting":"Umwandlung nicht möglich ","exception_casting_to":" zu "},"el":{"latex":"LaTeX","cancel":"Άκυρο","accept":"Εισαγωγή","manual":"Χειροκίνητα","insert_math":"Εισαγωγή μαθηματικού τύπου - MathType","insert_chem":"Εισαγωγή χημικού τύπου - ChemType","minimize":"Ελαχιστοποίηση","maximize":"Μεγιστοποίηση","fullscreen":"Πλήρης οθόνη","exit_fullscreen":"Έξοδος από πλήρη οθόνη","close":"Κλείσιμο","mathtype":"MathType","title_modalwindow":"Τροπικό παράθυρο MathType","close_modal_warning":"Επιθυμείτε σίγουρα αποχώρηση; Θα χαθούν οι αλλαγές που έχετε κάνει.","latex_name_label":"Τύπος LaTeX","browser_no_compatible":"Το πρόγραμμα περιήγησής σας δεν είναι συμβατό με την τεχνολογία AJAX. Χρησιμοποιήστε την πιο πρόσφατη έκδοση του Mozilla Firefox.","error_convert_accessibility":"Σφάλμα κατά τη μετατροπή από MathML σε προσβάσιμο κείμενο.","exception_cross_site":"Το XSS (Cross site scripting) επιτρέπεται μόνο για HTTP.","exception_high_surrogate":"Το υψηλό υποκατάστατο δεν ακολουθείται από χαμηλό υποκατάστατο στο fixedCharCodeAt()","exception_string_length":"Μη έγκυρη συμβολοσειρά. Το μήκος πρέπει να είναι πολλαπλάσιο του 4","exception_key_nonobject":"Έγινε κλήση του Object.keys σε μη αντικείμενο","exception_null_or_undefined":" αυτό είναι μηδενικό ή δεν έχει οριστεί","exception_not_function":" δεν είναι συνάρτηση","exception_invalid_date_format":"Μη έγκυρη μορφή ημερομηνίας: ","exception_casting":"Δεν είναι δυνατή η μετατροπή ","exception_casting_to":" σε "},"en":{"latex":"LaTeX","cancel":"Cancel","accept":"Insert","manual":"Manual","insert_math":"Insert a math equation - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"es":{"latex":"LaTeX","cancel":"Cancelar","accept":"Insertar","manual":"Manual","insert_math":"Insertar fórmula matemática - MathType","insert_chem":"Insertar fórmula química - ChemType","minimize":"Minimizar","maximize":"Maximizar","fullscreen":"Pantalla completa","exit_fullscreen":"Salir de pantalla completa","close":"Cerrar","mathtype":"MathType","title_modalwindow":"Ventana modal de MathType","close_modal_warning":"Seguro que quieres cerrar? Los cambios que has hecho se perderán","latex_name_label":"Formula en Latex","browser_no_compatible":"Tu navegador no es complatible con AJAX. Por favor, usa la última version de Mozilla Firefox.","error_convert_accessibility":"Error conviertiendo una fórmula MathML a texto accesible.","exception_cross_site":"Cross site scripting solo está permitido para HTTP.","exception_high_surrogate":"Subrogado alto no seguido por subrogado bajo en fixedCharCodeAt()","exception_string_length":"Cadena no válida. La longitud debe ser múltiplo de 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" esto es null o no definido","exception_not_function":" no es una función","exception_invalid_date_format":"Formato de fecha inválido: ","exception_casting":"No se puede emitir","exception_casting_to":" a "},"et":{"latex":"LaTeX","cancel":"Loobu","accept":"Lisa","manual":"Käsiraamat","insert_math":"Lisa matemaatiline valem – WIRIS","insert_chem":"Lisa keemiline valem – ChemType","minimize":"Minimeeri","maximize":"Maksimeeri","fullscreen":"Täiskuva","exit_fullscreen":"Välju täiskuvalt","close":"Sule","mathtype":"MathType","title_modalwindow":"MathType\\\'i modaalaken","close_modal_warning":"Kas soovite kindlasti lahkuda? Tehtud muudatused lähevad kaduma.","latex_name_label":"Latexi valem","browser_no_compatible":"Teie brauser ei ühildu AJAXi tehnoloogiaga. Palun kasutage Mozilla Firefoxi uusimat versiooni.","error_convert_accessibility":"Tõrge teisendamisel MathML-ist muudetavaks tekstiks.","exception_cross_site":"Ristskriptimine on lubatud ainult HTTP kasutamisel.","exception_high_surrogate":"Funktsioonis fixedCharCodeAt() ei järgne kõrgemale asendusliikmele madalam asendusliige.","exception_string_length":"Vigane string. Pikkus peab olema 4 kordne.","exception_key_nonobject":"Protseduur Object.keys kutsuti mitteobjekti korral.","exception_null_or_undefined":" see on null või määramata","exception_not_function":" ei ole funktsioon","exception_invalid_date_format":"Sobimatu kuupäeva kuju: ","exception_casting":"Esitamine ei õnnestu ","exception_casting_to":" – "},"eu":{"latex":"LaTeX","cancel":"Ezeztatu","accept":"Txertatu","manual":"Gida","insert_math":"Txertatu matematikako formula - MathType","insert_chem":"Txertatu formula kimiko bat - ChemType","minimize":"Ikonotu","maximize":"Maximizatu","fullscreen":"Pantaila osoa","exit_fullscreen":"Irten pantaila osotik","close":"Itxi","mathtype":"MathType","title_modalwindow":"MathType leiho modala","close_modal_warning":"Ziur irten nahi duzula? Egiten dituzun aldaketak galdu egingo dira.","latex_name_label":"LaTex Formula","browser_no_compatible":"Zure arakatzailea ez da bateragarria AJAX teknologiarekin. Erabili Mozilla Firefoxen azken bertsioa.","error_convert_accessibility":"Errorea MathMLtik testu irisgarrira bihurtzean.","exception_cross_site":"Gune arteko scriptak HTTPrako soilik onartzen dira.","exception_high_surrogate":"Ordezko baxuak ez dio ordezko altuari jarraitzen, hemen: fixedCharCodeAt()","exception_string_length":"Kate baliogabea. Luzerak 4ren multiploa izan behar du","exception_key_nonobject":"Object.keys deitu zaio objektua ez den zerbaiti","exception_null_or_undefined":" nulua edo definitu gabea da","exception_not_function":" ez da funtzio bat","exception_invalid_date_format":"Data-formatu baliogabea : ","exception_casting":"Ezin da igorri ","exception_casting_to":" honi "},"fi":{"latex":"LaTeX","cancel":"Peruuta","accept":"Lisää","manual":"Manual","insert_math":"Liitä matemaattinen kaava - MathType","insert_chem":"Lisää kemian kaava - ChemType","minimize":"Pienennä","maximize":"Suurenna","fullscreen":"Koko ruutu","exit_fullscreen":"Poistu koko ruudun tilasta","close":"Sulje","mathtype":"MathType","title_modalwindow":"MathTypen modaalinen ikkuna","close_modal_warning":"Oletko varma, että haluat poistua? Menetät tekemäsi muutokset.","latex_name_label":"Latex-kaava","browser_no_compatible":"Selaimesi ei tue AJAX-tekniikkaa. Ole hyvä ja käytä uusinta Firefox-versiota.","error_convert_accessibility":"Virhe muunnettaessa MathML:stä tekstiksi.","exception_cross_site":"Cross site scripting sallitaan vain HTTP:llä.","exception_high_surrogate":"fixedCharCodeAt(): yläsijaismerkkiä ei seurannut alasijaismerkki","exception_string_length":"Epäkelpo merkkijono. Pituuden on oltava 4:n kerrannainen","exception_key_nonobject":"Object.keys kutsui muuta kuin oliota","exception_null_or_undefined":" tämä on null tai ei määritelty","exception_not_function":" ei ole funktio","exception_invalid_date_format":"Virheellinen päivämäärämuoto : ","exception_casting":"Ei voida muuntaa tyyppiä ","exception_casting_to":" tyyppiin "},"fr":{"latex":"LaTeX","cancel":"Annuler","accept":"Insérer","manual":"Manuel","insert_math":"Insérer une formule mathématique - MathType","insert_chem":"Insérer une formule chimique - ChemType","minimize":"Minimiser","maximize":"Maximiser","fullscreen":"Plein écran","exit_fullscreen":"Quitter le plein écran","close":"Fermer","mathtype":"MathType","title_modalwindow":"Fenêtre modale MathType","close_modal_warning":"Confirmez-vous vouloir fermer ? Les changements effectués seront perdus.","latex_name_label":"Formule LaTeX","browser_no_compatible":"Votre navigateur n’est pas compatible avec la technologie AJAX. Veuillez utiliser la dernière version de Mozilla Firefox.","error_convert_accessibility":"Une erreur de conversion du format MathML en texte accessible est survenue.","exception_cross_site":"Le cross-site scripting n’est autorisé que pour HTTP.","exception_high_surrogate":"Substitut élevé non suivi d’un substitut inférieur dans fixedCharCodeAt()","exception_string_length":"Chaîne non valide. Longueur limitée aux multiples de 4","exception_key_nonobject":"Object.keys appelé sur un non-objet","exception_null_or_undefined":" nul ou non défini","exception_not_function":" n’est pas une fonction","exception_invalid_date_format":"Format de date non valide : ","exception_casting":"Impossible de convertir ","exception_casting_to":" sur "},"gl":{"latex":"LaTeX","cancel":"Cancelar","accept":"Inserir","manual":"Manual","insert_math":"Inserir unha fórmula matemática - MathType","insert_chem":"Inserir unha fórmula química - ChemType","minimize":"Minimizar","maximize":"Maximizar","fullscreen":"Pantalla completa","exit_fullscreen":"Saír da pantalla completa","close":"Pechar","mathtype":"MathType","title_modalwindow":"Ventá modal de MathType","close_modal_warning":"Seguro que quere saír? Perderanse os cambios realizados.","latex_name_label":"Fórmula Latex","browser_no_compatible":"O seu explorador non é compatible coa tecnoloxía AJAX. Use a versión máis recente de Mozilla Firefox.","error_convert_accessibility":"Erro ao converter de MathML a texto accesible.","exception_cross_site":"Os scripts de sitios só se permiten para HTTP.","exception_high_surrogate":"Suplente superior non seguido por suplente inferior en fixedCharCodeAt()","exception_string_length":"Cadea non válida. A lonxitude debe ser un múltiplo de 4","exception_key_nonobject":"Claves de obxecto chamadas en non obxecto","exception_null_or_undefined":" nulo ou non definido","exception_not_function":" non é unha función","exception_invalid_date_format":"Formato de data non válido: ","exception_casting":"Non se pode converter ","exception_casting_to":" a "},"he":{"latex":"LaTeX","cancel":"ביטול","accept":"עדכון","manual":"ידני","insert_math":"הוספת נוסחה מתמטית - MathType","insert_chem":"הוספת כתיבה כימית - ChemType","minimize":"מזערי","maximize":"מרבי","fullscreen":"מסך מלא","exit_fullscreen":"יציאה ממצב מסך מלא","close":"סגירה","mathtype":"MathType","title_modalwindow":"חלון מודאלי של MathType","close_modal_warning":"האם לצאת? שינויים אשר בוצעו ימחקו.","latex_name_label":"נוסחת Latex","browser_no_compatible":"הדפדפן שלך אינו תואם לטכנולוגיית AJAX. יש להשתמש בגרסה העדכנית ביותר של Mozilla Firefox.","error_convert_accessibility":"שגיאה בהמרה מ-MathML לטקסט נגיש.","exception_cross_site":"סקריפטינג חוצה-אתרים מורשה עבור HTTP בלבד.","exception_high_surrogate":"ערך ממלא מקום גבוה אינו מופיע אחרי ערך ממלא מקום נמוך ב-fixedCharCodeAt()‎","exception_string_length":"מחרוזת לא חוקית. האורך חייב להיות כפולה של 4","exception_key_nonobject":"בוצעה קריאה אל Object.keys ברכיב שאינו אובייקט","exception_null_or_undefined":" הוא Null או לא מוגדר","exception_not_function":"איננה פונקציה","exception_invalid_date_format":"תסדיר תאריך אינו תקין : ","exception_casting":"לא ניתן להמיר ","exception_casting_to":" ל "},"hr":{"latex":"LaTeX","cancel":"Poništi","accept":"Umetni","manual":"Priručnik","insert_math":"Umetnite matematičku formulu - MathType","insert_chem":"Umetnite kemijsku formulu - ChemType","minimize":"Minimiziraj","maximize":"Maksimiziraj","fullscreen":"Cijeli zaslon","exit_fullscreen":"Izlaz iz prikaza na cijelom zaslonu","close":"Zatvori","mathtype":"MathType","title_modalwindow":"MathType modalni prozor","close_modal_warning":"Sigurno želite zatvoriti? Izgubit će se unesene promjene.","latex_name_label":"Latex formula","browser_no_compatible":"Vaš preglednik nije kompatibilan s AJAX tehnologijom. Upotrijebite najnoviju verziju Mozilla Firefoxa.","error_convert_accessibility":"Pogreška konverzije iz MathML-a u dostupni tekst.","exception_cross_site":"Skriptiranje na različitim web-mjestima dopušteno je samo za HTTP.","exception_high_surrogate":"Iza visoke zamjene ne slijedi niska zamjena u fixedCharCodeAt()","exception_string_length":"Nevažeći niz. Duljina mora biti višekratnik broja 4","exception_key_nonobject":"Object.keys pozvano na ne-objekt","exception_null_or_undefined":" ovo je nula ili nije definirano","exception_not_function":" nije funkcija","exception_invalid_date_format":"Nevažeći format datuma : ","exception_casting":"Ne može se poslati ","exception_casting_to":" na "},"hu":{"latex":"LaTeX","cancel":"Mégsem","accept":"Beszúrás","manual":"Kézikönyv","insert_math":"Matematikai képlet beszúrása - MathType","insert_chem":"Kémiai képet beillesztése - ChemType","minimize":"Kis méret","maximize":"Nagy méret","fullscreen":"Teljes képernyő","exit_fullscreen":"Teljes képernyő elhagyása","close":"Bezárás","mathtype":"MathType","title_modalwindow":"MathType modális ablak","close_modal_warning":"Biztosan kilép? A módosítások el fognak veszni.","latex_name_label":"Latex képlet","browser_no_compatible":"A böngészője nem kompatibilis az AJAX technológiával. Használja a Mozilla Firefox legújabb verzióját.","error_convert_accessibility":"Hiba lépett fel a MathML szöveggé történő konvertálása során.","exception_cross_site":"Az oldalak közti scriptelés csak HTTP esetén engedélyezett.","exception_high_surrogate":"A magas helyettesítő karaktert nem alacsony helyettesítő karakter követi a fixedCharCodeAt() esetében","exception_string_length":"Érvénytelen karakterlánc. A hossznak a 4 többszörösének kell lennie","exception_key_nonobject":"Az Object.keys egy nem objektumra került meghívásra","exception_null_or_undefined":" null vagy nem definiált","exception_not_function":" nem függvény","exception_invalid_date_format":"Érvénytelen dátumformátum: ","exception_casting":"Nem alkalmazható ","exception_casting_to":" erre "},"id":{"latex":"LaTeX","cancel":"Membatalkan","accept":"Masukkan","manual":"Manual","insert_math":"Masukkan rumus matematika - MathType","insert_chem":"Masukkan rumus kimia - ChemType","minimize":"Minikan","maximize":"Perbesar","fullscreen":"Layar penuh","exit_fullscreen":"Keluar layar penuh","close":"Tutup","mathtype":"MathType","title_modalwindow":"Jendela modal MathType","close_modal_warning":"Anda yakin ingin keluar? Anda akan kehilangan perubahan yang Anda buat.","latex_name_label":"Rumus Latex","browser_no_compatible":"Penjelajah Anda tidak kompatibel dengan teknologi AJAX. Harap gunakan Mozilla Firefox versi terbaru.","error_convert_accessibility":"Kesalahan konversi dari MathML menjadi teks yang dapat diakses.","exception_cross_site":"Skrip lintas situs hanya diizinkan untuk HTTP.","exception_high_surrogate":"Pengganti tinggi tidak diikuti oleh pengganti rendah di fixedCharCodeAt()","exception_string_length":"String tidak valid. Panjang harus kelipatan 4","exception_key_nonobject":"Object.keys meminta nonobjek","exception_null_or_undefined":" ini tidak berlaku atau tidak didefinisikan","exception_not_function":" bukan sebuah fungsi","exception_invalid_date_format":"Format tanggal tidak valid : ","exception_casting":"Tidak dapat mentransmisikan ","exception_casting_to":" untuk "},"it":{"latex":"LaTeX","cancel":"Annulla","accept":"Inserisci","manual":"Manuale","insert_math":"Inserisci una formula matematica - MathType","insert_chem":"Inserisci una formula chimica - ChemType","minimize":"Riduci a icona","maximize":"Ingrandisci","fullscreen":"Schermo intero","exit_fullscreen":"Esci da schermo intero","close":"Chiudi","mathtype":"MathType","title_modalwindow":"Finestra modale di MathType","close_modal_warning":"Confermi di voler uscire? Le modifiche effettuate andranno perse.","latex_name_label":"Formula LaTeX","browser_no_compatible":"Il tuo browser non è compatibile con la tecnologia AJAX. Utilizza la versione più recente di Mozilla Firefox.","error_convert_accessibility":"Errore durante la conversione da MathML in testo accessibile.","exception_cross_site":"Lo scripting tra siti è consentito solo per HTTP.","exception_high_surrogate":"Surrogato alto non seguito da surrogato basso in fixedCharCodeAt()","exception_string_length":"Stringa non valida. La lunghezza deve essere un multiplo di 4","exception_key_nonobject":"Metodo Object.keys richiamato in un elemento non oggetto","exception_null_or_undefined":" questo è un valore null o non definito","exception_not_function":" non è una funzione","exception_invalid_date_format":"Formato di data non valido: ","exception_casting":"Impossibile eseguire il cast ","exception_casting_to":" a "},"ja":{"latex":"LaTeX","cancel":"キャンセル","accept":"挿入","manual":"マニュアル","insert_math":"数式を挿入 - MathType","insert_chem":"化学式を挿入 - ChemType","minimize":"最小化","maximize":"最大化","fullscreen":"全画面表示","exit_fullscreen":"全画面表示を解除","close":"閉じる","mathtype":"MathType","title_modalwindow":"MathType モードウィンドウ","close_modal_warning":"このページから移動してもよろしいですか？変更内容は失われます。","latex_name_label":"LaTeX 数式","browser_no_compatible":"お使いのブラウザは、AJAX 技術と互換性がありません。Mozilla Firefox の最新バージョンをご使用ください。","error_convert_accessibility":"MathML からアクセシブルなテキストへの変換中にエラーが発生しました。","exception_cross_site":"クロスサイトスクリプティングは、HTTP のみに許可されています。","exception_high_surrogate":"fixedCharCodeAt（）で上位サロゲートの後に下位サロゲートがありません","exception_string_length":"無効な文字列です。長さは4の倍数である必要があります","exception_key_nonobject":"Object.keys が非オブジェクトで呼び出されました","exception_null_or_undefined":" null であるか、定義されていません","exception_not_function":" は関数ではありません","exception_invalid_date_format":"無効な日付形式: ","exception_casting":"次にキャスト ","exception_casting_to":" できません "},"ko":{"latex":"LaTeX","cancel":"취소","accept":"삽입","manual":"설명서","insert_math":"수학 공식 삽입 - MathType","insert_chem":"화학 공식 입력하기 - ChemType","minimize":"최소화","maximize":"최대화","fullscreen":"전체 화면","exit_fullscreen":"전체 화면 나가기","close":"닫기","mathtype":"MathType","title_modalwindow":"MathType 모달 창","close_modal_warning":"정말로 나가시겠습니까? 변경 사항이 손실됩니다.","latex_name_label":"Latex 공식","browser_no_compatible":"사용자의 브라우저는 AJAX 기술과 호환되지 않습니다. Mozilla Firefox 최신 버전을 사용하십시오.","error_convert_accessibility":"MathML로부터 접근 가능한 텍스트로 오류 변환.","exception_cross_site":"사이트 교차 스크립팅은 HTTP 환경에서만 사용할 수 있습니다.","exception_high_surrogate":"fixedCharCodeAt()에서는 상위 서러게이트 뒤에 하위 서러게이트가 붙지 않습니다","exception_string_length":"유효하지 않은 스트링입니다. 길이는 4의 배수여야 합니다","exception_key_nonobject":"Object.keys가 non-object를 요청하였습니다","exception_null_or_undefined":" Null값이거나 정의되지 않았습니다","exception_not_function":" 함수가 아닙니다","exception_invalid_date_format":"유효하지 않은 날짜 포맷 : ","exception_casting":"캐스팅할 수 없습니다 ","exception_casting_to":" (으)로 "},"nl":{"latex":"LaTeX","cancel":"Annuleren","insert_chem":"Een scheikundige formule invoegen - ChemType","minimize":"Minimaliseer","maximize":"Maximaliseer","fullscreen":"Schermvullend","exit_fullscreen":"Verlaat volledig scherm","close":"Sluit","mathtype":"MathType","title_modalwindow":"Modaal venster MathType","close_modal_warning":"Weet je zeker dat je de app wilt sluiten? De gemaakte wijzigingen gaan verloren.","latex_name_label":"LaTeX-formule","browser_no_compatible":"Je browser is niet compatibel met AJAX-technologie. Gebruik de meest recente versie van Mozilla Firefox.","error_convert_accessibility":"Fout bij conversie van MathML naar toegankelijke tekst.","exception_cross_site":"Cross-site scripting is alleen toegestaan voor HTTP.","exception_high_surrogate":"Hoog surrogaat niet gevolgd door laag surrogaat in fixedCharCodeAt()","exception_string_length":"Ongeldige tekenreeks. Lengte moet een veelvoud van 4 zijn","exception_key_nonobject":"Object.keys opgeroepen voor niet-object","exception_null_or_undefined":" dit is nul of niet gedefinieerd","exception_not_function":" is geen functie","exception_invalid_date_format":"Ongeldige datumnotatie: ","exception_casting":"Kan niet weergeven ","exception_casting_to":" op "},"no":{"latex":"LaTeX","cancel":"Avbryt","accept":"Set inn","manual":"Håndbok","insert_math":"Sett inn matematikkformel - MathType","insert_chem":"Set inn ein kjemisk formel – ChemType","minimize":"Minimer","maximize":"Maksimer","fullscreen":"Fullskjerm","exit_fullscreen":"Avslutt fullskjerm","close":"Lukk","mathtype":"MathType","title_modalwindow":"Modalt MathType-vindu","close_modal_warning":"Er du sikker på at du vil gå ut? Endringane du har gjort, vil gå tapt.","latex_name_label":"LaTeX-formel","browser_no_compatible":"Nettlesaren er ikkje kompatibel med AJAX-teknologien. Bruk den nyaste versjonen av Mozilla Firefox.","error_convert_accessibility":"Feil under konvertering frå MathML til tilgjengeleg tekst.","exception_cross_site":"Skripting på tvers av nettstadar er bere tillaten med HTTP.","exception_high_surrogate":"Høgt surrogat er ikkje etterfølgt av lågt surrogat i fixedCharCodeAt()","exception_string_length":"Ugyldig streng. Lengda må vera deleleg på 4","exception_key_nonobject":"Object.keys kalla på eit ikkje-objekt","exception_null_or_undefined":" dette er null eller ikkje definert","exception_not_function":" er ikkje ein funksjon","exception_invalid_date_format":"Ugyldig datoformat: ","exception_casting":"Kan ikkje bruka casting ","exception_casting_to":" til "},"nb":{"latex":"LaTeX","cancel":"Avbryt","accept":"Insert","manual":"Håndbok","insert_math":"Sett inn matematikkformel - MathType","insert_chem":"Sett inn en kjemisk formel – ChemType","minimize":"Minimer","maximize":"Maksimer","fullscreen":"Fullskjerm","exit_fullscreen":"Avslutt fullskjerm","close":"Lukk","mathtype":"MathType","title_modalwindow":"Modalt MathType-vindu","close_modal_warning":"Er du sikker på at du vil gå ut? Endringene du har gjort, vil gå tapt.","latex_name_label":"LaTeX-formel","browser_no_compatible":"Nettleseren er ikke kompatibel med AJAX-teknologien. Bruk den nyeste versjonen av Mozilla Firefox.","error_convert_accessibility":"Feil under konvertering fra MathML til tilgjengelig tekst.","exception_cross_site":"Skripting på tvers av nettsteder er bare tillatt med HTTP.","exception_high_surrogate":"Høyt surrogat etterfølges ikke av lavt surrogat i fixedCharCodeAt()","exception_string_length":"Ugyldig streng. Lengden må være delelig på 4","exception_key_nonobject":"Object.keys kalte på et ikke-objekt","exception_null_or_undefined":" dette er null eller ikke definert","exception_not_function":" er ikke en funksjon","exception_invalid_date_format":"Ugyldig datoformat: ","exception_casting":"Kan ikke bruke casting ","exception_casting_to":" til "},"nn":{"latex":"LaTeX","cancel":"Avbryt","accept":"Set inn","manual":"Håndbok","insert_math":"Sett inn matematikkformel - MathType","insert_chem":"Set inn ein kjemisk formel – ChemType","minimize":"Minimer","maximize":"Maksimer","fullscreen":"Fullskjerm","exit_fullscreen":"Avslutt fullskjerm","close":"Lukk","mathtype":"MathType","title_modalwindow":"Modalt MathType-vindu","close_modal_warning":"Er du sikker på at du vil gå ut? Endringane du har gjort, vil gå tapt.","latex_name_label":"LaTeX-formel","browser_no_compatible":"Nettlesaren er ikkje kompatibel med AJAX-teknologien. Bruk den nyaste versjonen av Mozilla Firefox.","error_convert_accessibility":"Feil under konvertering frå MathML til tilgjengeleg tekst.","exception_cross_site":"Skripting på tvers av nettstadar er bere tillaten med HTTP.","exception_high_surrogate":"Høgt surrogat er ikkje etterfølgt av lågt surrogat i fixedCharCodeAt()","exception_string_length":"Ugyldig streng. Lengda må vera deleleg på 4","exception_key_nonobject":"Object.keys kalla på eit ikkje-objekt","exception_null_or_undefined":" dette er null eller ikkje definert","exception_not_function":" er ikkje ein funksjon","exception_invalid_date_format":"Ugyldig datoformat: ","exception_casting":"Kan ikkje bruka casting ","exception_casting_to":" til "},"pl":{"latex":"LaTeX","cancel":"Anuluj","accept":"Wstaw","manual":"Instrukcja","insert_math":"Wstaw formułę matematyczną - MathType","insert_chem":"Wstaw wzór chemiczny — ChemType","minimize":"Minimalizuj","maximize":"Maksymalizuj","fullscreen":"Pełny ekran","exit_fullscreen":"Opuść tryb pełnoekranowy","close":"Zamknij","mathtype":"MathType","title_modalwindow":"Okno modalne MathType","close_modal_warning":"Czy na pewno chcesz zamknąć? Wprowadzone zmiany zostaną utracone.","latex_name_label":"Wzór Latex","browser_no_compatible":"Twoja przeglądarka jest niezgodna z technologią AJAX Użyj najnowszej wersji Mozilla Firefox.","error_convert_accessibility":"Błąd podczas konwertowania z formatu MathML na dostępny tekst.","exception_cross_site":"Krzyżowanie skryptów witryny jest dozwolone tylko dla HTTP.","exception_high_surrogate":"Brak niskiego surogatu po wysokim surogacie w fixedCharCodeAt()","exception_string_length":"Niewłaściwy ciąg znaków. Długość musi być wielokrotnością liczby 4.","exception_key_nonobject":"Argumentem wywołanej funkcji Object.key nie jest obiekt.","exception_null_or_undefined":" jest zerowy lub niezdefiniowany","exception_not_function":" nie jest funkcją","exception_invalid_date_format":"Nieprawidłowy format daty: ","exception_casting":"Nie można rzutować ","exception_casting_to":" na "},"pt":{"latex":"LaTeX","cancel":"Cancelar","accept":"Inserir","manual":"Manual","insert_math":"Inserir fórmula matemática - MathType","insert_chem":"Inserir uma fórmula química - ChemType","minimize":"Minimizar","maximize":"Maximizar","fullscreen":"Ecrã completo","exit_fullscreen":"Sair do ecrã completo","close":"Fechar","mathtype":"MathType","title_modalwindow":"Janela modal do MathType","close_modal_warning":"Pretende sair? As alterações efetuadas serão perdidas.","latex_name_label":"Fórmula Latex","browser_no_compatible":"O seu navegador não é compatível com a tecnologia AJAX. Utilize a versão mais recente do Mozilla Firefox.","error_convert_accessibility":"Erro ao converter de MathML para texto acessível.","exception_cross_site":"O processamento de scripts em vários sites só é permitido para HTTP.","exception_high_surrogate":"Substituto alto não seguido por um substituto baixo em fixedCharCodeAt()","exception_string_length":"Cadeia inválida. O comprimento tem de ser um múltiplo de 4","exception_key_nonobject":"Object.keys chamou um não-objeto","exception_null_or_undefined":" é nulo ou não está definido","exception_not_function":" não é uma função","exception_invalid_date_format":"Formato de data inválido: ","exception_casting":"Não é possível adicionar ","exception_casting_to":" até "},"pt_br":{"latex":"LaTeX","cancel":"Cancelar","accept":"Inserir","manual":"Manual","insert_math":"Inserir fórmula matemática - MathType","insert_chem":"Insira uma fórmula química - ChemType","minimize":"Minimizar","maximize":"Maximizar","fullscreen":"Tela cheia","exit_fullscreen":"Sair de tela cheia","close":"Fechar","mathtype":"MathType","title_modalwindow":"Janela modal do MathType","close_modal_warning":"Tem certeza de que deseja sair? Todas as alterações serão perdidas.","latex_name_label":"Fórmula LaTeX","browser_no_compatible":"O navegador não é compatível com a tecnologia AJAX. Use a versão mais recente do Mozilla Firefox.","error_convert_accessibility":"Erro ao converter de MathML para texto acessível.","exception_cross_site":"O uso de scripts entre sites só é permitido para HTTP.","exception_high_surrogate":"High surrogate não seguido de low surrogate em fixedCharCodeAt()","exception_string_length":"String inválida. O comprimento deve ser um múltiplo de 4","exception_key_nonobject":"Object.keys chamados em não objeto","exception_null_or_undefined":" isto é nulo ou não definido","exception_not_function":" não é uma função","exception_invalid_date_format":"Formato de data inválido: ","exception_casting":"Não é possível transmitir ","exception_casting_to":" para "},"ro":{"latex":"LaTeX","cancel":"Anulare","accept":"Inserați","manual":"Ghid","insert_math":"Inserați o formulă matematică - MathType","insert_chem":"Inserați o formulă chimică - ChemType","minimize":"Minimizați","maximize":"Maximizați","fullscreen":"Afișați pe tot ecranul","exit_fullscreen":"Opriți afișarea pe tot ecranul","close":"Închideți","mathtype":"MathType","title_modalwindow":"Fereastră modală MathType","close_modal_warning":"Sigur doriți să ieșiți? Modificările realizate se vor pierde.","latex_name_label":"Formulă Latex","browser_no_compatible":"Browserul dvs. nu este compatibil cu tehnologia AJAX. Utilizați cea mai recentă versiune de Mozilla Firefox.","error_convert_accessibility":"Eroare la convertirea din MathML în text accesibil.","exception_cross_site":"Scriptarea între site‑uri este permisă doar pentru HTTP.","exception_high_surrogate":"Surogatul superior nu este urmat de un surogat inferior în fixedCharCodeAt()","exception_string_length":"Șir nevalid. Lungimea trebuie să fie multiplu de 4","exception_key_nonobject":"Object.keys a apelat un non-obiect","exception_null_or_undefined":" este null sau nu este definit","exception_not_function":" nu este funcție","exception_invalid_date_format":"Format de dată nevalid: ","exception_casting":"nu se poate difuza ","exception_casting_to":" către "},"ru":{"latex":"LaTeX","cancel":"отмена","accept":"Вставка","manual":"вручную","insert_math":"Вставить математическую формулу: WIRIS","insert_chem":"Вставить химическую формулу — ChemType","minimize":"Свернуть","maximize":"Развернуть","fullscreen":"На весь экран","exit_fullscreen":"Выйти из полноэкранного режима","close":"Закрыть","mathtype":"MathType","title_modalwindow":"Режимное окно MathType","close_modal_warning":"Вы уверены, что хотите выйти? Все внесенные изменения будут утрачены.","latex_name_label":"Формула Latex","browser_no_compatible":"Ваш браузер несовместим с технологией AJAX. Используйте последнюю версию Mozilla Firefox.","error_convert_accessibility":"При преобразовании формулы в текст допустимого формата произошла ошибка.","exception_cross_site":"Межсайтовые сценарии доступны только для HTTP.","exception_high_surrogate":"Младший символ-заместитель не сопровождает старший символ-заместитель в исправленном методе CharCodeAt()","exception_string_length":"Недопустимая строка. Длинна должна быть кратной 4.","exception_key_nonobject":"Метод Object.keys вызван не для объекта","exception_null_or_undefined":" значение пустое или не определено","exception_not_function":" не функция","exception_invalid_date_format":"Недопустимый формат даты: ","exception_casting":"Не удается привести ","exception_casting_to":" к "},"sv":{"latex":"LaTeX","cancel":"Avbryt","accept":"Infoga","manual":"Bruksanvisning","insert_math":"Infoga matematisk formel - MathType","insert_chem":"Infoga en kemiformel – ChemType","minimize":"Minimera","maximize":"Maximera","fullscreen":"Helskärm","exit_fullscreen":"Stäng helskärm","close":"Stäng","mathtype":"MathType","title_modalwindow":"MathType modulfönster","close_modal_warning":"Vill du avsluta? Inga ändringar kommer att sparas.","latex_name_label":"Latex-formel","browser_no_compatible":"Din webbläsare är inte kompatibel med AJAX-teknik. Använd den senaste versionen av Mozilla Firefox.","error_convert_accessibility":"Det uppstod ett fel vid konvertering från MathML till åtkomlig text.","exception_cross_site":"Skriptkörning över flera sajter är endast tillåtet för HTTP.","exception_high_surrogate":"Hög surrogat följs inte av låg surrogat i fixedCharCodeAt()","exception_string_length":"Ogiltig sträng. Längden måste vara en multipel av 4","exception_key_nonobject":"Object.keys anropade icke-objekt","exception_null_or_undefined":" det är null eller inte definierat","exception_not_function":" är inte en funktion","exception_invalid_date_format":"Ogiltigt datumformat: ","exception_casting":"Går inte att konvertera ","exception_casting_to":" till "},"tr":{"latex":"LaTeX","cancel":"Vazgeç","accept":"Ekle","manual":"Kılavuz","insert_math":"Matematik formülü ekle - MathType","insert_chem":"Kimya formülü ekleyin - ChemType","minimize":"Simge Durumuna Küçült","maximize":"Ekranı Kapla","fullscreen":"Tam Ekran","exit_fullscreen":"Tam Ekrandan Çık","close":"Kapat","mathtype":"MathType","title_modalwindow":"MathType kalıcı penceresi","close_modal_warning":"Çıkmak istediğinizden emin misiniz? Yaptığınız değişiklikler kaybolacak.","latex_name_label":"Latex Formülü","browser_no_compatible":"Tarayıcınız AJAX teknolojisiyle uyumlu değil. Lütfen en güncel Mozilla Firefox sürümünü kullanın.","error_convert_accessibility":"MathML biçiminden erişilebilir metne dönüştürme hatası.","exception_cross_site":"Siteler arası komut dosyası yazma işlemine yalnızca HTTP için izin verilir.","exception_high_surrogate":"fixedCharCodeAt() fonksiyonunda üst vekilin ardından alt vekil gelmiyor","exception_string_length":"Geçersiz dizgi. Uzunluk, 4\\\'ün katlarından biri olmalıdır","exception_key_nonobject":"Nesne olmayan öğe üzerinde Object.keys çağrıldı","exception_null_or_undefined":" bu değer boş veya tanımlanmamış","exception_not_function":" bir fonksiyon değil","exception_invalid_date_format":"Geçersiz tarih biçimi: ","exception_casting":"Tür dönüştürülemiyor ","exception_casting_to":" hedef: "},"zh":{"latex":"LaTeX","cancel":"取消","accept":"插入","manual":"手册","insert_math":"插入数学公式 - MathType","insert_chem":"插入化学分子式 - ChemType","minimize":"最小化","maximize":"最大化","fullscreen":"全屏幕","exit_fullscreen":"退出全屏幕","close":"关闭","mathtype":"MathType","title_modalwindow":"MathType 模式窗口","close_modal_warning":"您确定要离开吗？您所做的修改将丢失。","latex_name_label":"Latex 分子式","browser_no_compatible":"您的浏览器不兼容 AJAX 技术。请使用最新版 Mozilla Firefox。","error_convert_accessibility":"将 MathML 转换为可访问文本时出错。","exception_cross_site":"仅 HTTP 允许跨站脚本。","exception_high_surrogate":"fixedCharCodeAt() 中的高位代理之后未跟随低位代理","exception_string_length":"无效字符串。长度必须是 4 的倍数","exception_key_nonobject":"非对象调用了 Object.keys","exception_null_or_undefined":" 该值为空或未定义","exception_not_function":" 不是一个函数","exception_invalid_date_format":"无效日期格式： ","exception_casting":"无法转换 ","exception_casting_to":" 为 "},"":{}}\');\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./node_modules/@wiris/mathtype-html-integration-devkit/lang/strings.json?')},"./package.json":module=>{"use strict";eval('module.exports = /*#__PURE__*/JSON.parse(\'{"name":"@wiris/mathtype-tinymce5","version":"8.0.0","description":"MathType Web for TinyMCE5 editor","keywords":["chem","chemistry","chemtype","editor","equation","latex","math","mathml","maths","mathtype","tinymce","tinymce5","wiris"],"repository":"https://github.com/wiris/html-integrations/tree/stable/packages/mathtype-tinymce5","homepage":"http://www.wiris.com/?utm_source=npmjs&utm_medium=referral","bugs":{"email":"support@wiris.com"},"license":"MIT","author":"WIRIS Team (http://www.wiris.com/?utm_source=npmjs&utm_medium=referral)","main":"plugin.min.js","scripts":{"build":"webpack --mode production","build-dev":"webpack --mode development","clean":"shx rm -f plugin.min.js","prepack":"npm install && npm run build"},"dependencies":{"@wiris/mathtype-html-integration-devkit":"1.9.0"},"devDependencies":{"@babel/core":"^7.15.0","@babel/preset-env":"^7.15.0","babel-loader":"^8.2.2","css-loader":"^5.2.4","raw-loader":"^4.0.2","shx":"^0.3.3","style-loader":"^3.3.0","terser-webpack-plugin":"^5.3.0","url-loader":"^4.1.1","webpack":"^5.50.0","webpack-cli":"^4.8.0"}}\');\n\n//# sourceURL=webpack://@wiris/mathtype-tinymce5/./package.json?')}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__("./global.js")})();