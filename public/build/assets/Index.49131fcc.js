import{L as w}from"./Layout.ada7eda2.js";import{P as S}from"./Pagination.39f84755.js";import{L as M,H as L,r as y,o as s,c as t,a as c,w as d,b as r,e as i,F as b,d as m,h as B,f as k,t as a,g as l,K as j,n as P}from"./app.d5bcc56b.js";import{S as T}from"./sweetalert2.all.a4eedfbe.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";const K={layout:w,components:{Link:M,Head:L,Pagination:S},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object},setup(o){return{buyExam:n=>{T.fire({title:"Anda yakin akan membeli Latihan Soal ini ?",text:"Pastikan Saldo Anda Cukup Untuk Bertransaksi",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Beli Latihan Soal",cancelButtonText:"Tidak"}).then(p=>{p.isConfirmed&&B.Inertia.get(`/user/account-balances/buy-exam/${n}?type=exam`)})},checkMemberCategories:n=>{if(n){for(const p of o.userMemberCategories)if(p.member_categories.some(g=>n.includes(g)))return!0;return!1}else return!0}}},methods:{formatPrice(o){return(o/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},I={class:"page-wrapper"},N={class:"page-content"},A={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},E=k('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal</li></ol></nav></div>',2),O={class:"ms-auto"},U=r("hr",null,null,-1),V={key:0},D=k('<div class="row row-cols-12 row-cols-md-12 row-cols-lg-12 row-cols-xl-12"><div class="col"><div class="card border-bottom border-3 border-0"><div class="card-body"><h5 class="card-title text-center">Soal Belum Tersedia.</h5></div></div></div></div>',1),F=[D],R={class:"row"},z={class:"col-lg-12"},Y={key:0,class:"alert alert-danger border-0"},q=["innerHTML"],G={key:1,class:"alert alert-danger border-0"},J=["innerHTML"],Q={key:2,class:"alert alert-success border-0"},W=["innerHTML"],X={class:"card"},Z={key:0},x={key:0,class:"badge bg-danger",style:{position:"absolute","font-size":"14px",margin:"4px"}},ee={class:"p-2"},se=["src"],te={class:"card-header"},re={class:"card-title"},oe=r("p",{class:"card-text"},"Kerjakan Soal Sesuai Perintah Yang Ada Dalam Informasi.",-1),ie={key:1,class:"card-body"},ne={key:0,style:{"min-height":"50px"}},ae={key:0},ce={class:"card-price text-center"},de={key:1},le={class:"text-dark text-center"},_e={class:"badge bg-danger mx-1"},ue=r("br",null,null,-1),he={key:1,class:"text-center"},ge={key:0},be={class:"badge bg-success mb-0 ms-1"},pe={key:1},me=r("span",{class:"badge bg-success mb-0"},"Seluruh Member & Non Member",-1),ye=[me],ve={class:"card-footer"},ke={key:0},fe={key:0},$e={key:0},Ce={key:0},we={key:1},Se=["onClick"],Me={key:1},Le={key:0},Be={key:1},je={key:0},Pe={key:1},Te={key:2},He={key:0},Ke={key:1},Ie={key:2},Ne=["onClick"],Ae={key:3},Ee={key:0},Oe={key:1},Ue={key:1},Ve={key:1},De={key:1,class:"row mb-3"},Fe={class:"col"};function Re(o,v,u,n,p,g){const f=y("Head"),_=y("Link"),$=y("Pagination");return s(),t(b,null,[c(f,null,{default:d(()=>{var e;return[r("title",null,a((e=o.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Soal",1)]}),_:1}),r("div",I,[r("div",N,[r("div",A,[E,r("div",O,[c(_,{href:`/user/categories/${u.categoryId}/lesson-categories/${u.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:d(()=>[l("Kembali")]),_:1},8,["href"])])]),U,u.exams.data.length?i("",!0):(s(),t("div",V,F)),r("div",R,[r("div",z,[o.$page.props.session.failed?(s(),t("div",Y,[r("div",{innerHTML:o.$page.props.session.failed},null,8,q)])):i("",!0),o.$page.props.session.error?(s(),t("div",G,[r("div",{innerHTML:o.$page.props.session.error},null,8,J)])):i("",!0),o.$page.props.session.success?(s(),t("div",Q,[r("div",{innerHTML:o.$page.props.session.success},null,8,W)])):i("",!0)]),(s(!0),t(b,null,m(u.exams.data,(e,C)=>(s(),t("div",{class:"col-xs-12 col-sm-6 col-md-6 col-lg-3",key:C},[r("div",X,[o.$page.props.auth.user.member_type==2?(s(),t("div",Z,[(e.transaction.length>0||n.checkMemberCategories(e.member_categories)==!0)&&e.member_categories?(s(),t("span",x,"Enrolled")):i("",!0)])):i("",!0),r("div",ee,[r("img",{src:"/storage/upload_files/lessons/"+e.lesson.thumbnail,class:"card-img"},null,8,se)]),r("div",te,[r("h6",re,a(e.title),1),oe]),o.$page.props.auth.user.member_type==2?(s(),t("div",ie,[o.$page.props.setting.purchase_type==1||o.$page.props.setting.purchase_type==3?(s(),t("div",ne,[e.price_before_discount==e.price_after_discount?(s(),t("div",ae,[r("h6",ce,"Rp."+a(g.formatPrice(e.price_after_discount)),1)])):(s(),t("div",de,[r("h6",le,[r("sup",null,[r("s",null,"Rp."+a(g.formatPrice(e.price_before_discount)),1),r("span",_e,a(g.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),ue,l("Rp."+a(g.formatPrice(e.price_after_discount)),1)])]))])):i("",!0),o.$page.props.setting.purchase_type==2||o.$page.props.setting.purchase_type==3?(s(),t("div",he,[e.member_categories?(s(),t("div",ge,[(s(!0),t(b,null,m(e.member_categories,h=>(s(),t("span",be,a(h),1))),256))])):(s(),t("div",pe,ye))])):i("",!0)])):i("",!0),r("div",ve,[e.exam_status=="active"?(s(),t("div",ke,[o.$page.props.auth.user.member_type==2?(s(),t("div",fe,[o.$page.props.setting.purchase_type==1?(s(),t("div",$e,[e.transaction.length>0?(s(),t("div",Ce,[c(_,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[l("Kerjakan Soal")]),_:2},1032,["href"])])):(s(),t("div",we,[r("button",{class:"btn btn-outline-primary btn-sm w-100",onClick:h=>n.buyExam(e.id)},"Beli Latihan Soal",8,Se)]))])):i("",!0),o.$page.props.setting.purchase_type==2?(s(),t("div",Me,[n.checkMemberCategories(e.member_categories)==!0?(s(),t("div",Le,[e.exam_status=="active"?(s(),j(_,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[l("Kerjakan Soal")]),_:2},1032,["href"])):i("",!0)])):(s(),t("div",Be,[c(_,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100"},{default:d(()=>[e.member_categories.length==1?(s(),t("div",je,[l(" Upgrade Ke "),(s(!0),t(b,null,m(e.member_categories,h=>(s(),t("span",null,a(h),1))),256))])):(s(),t("div",Pe," Upgrade Member "))]),_:2},1032,["href"])]))])):i("",!0),o.$page.props.setting.purchase_type==3?(s(),t("div",Te,[e.transaction.length>0&&n.checkMemberCategories(e.member_categories)==!0?(s(),t("div",He,[c(_,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:d(()=>[l("Kerjakan Soal")]),_:2},1032,["href"])])):i("",!0),(e.transaction.length==0||n.checkMemberCategories(e.member_categories)==!1)&&(e.transaction.length>0||n.checkMemberCategories(e.member_categories)==!0)?(s(),t("div",Ke,[c(_,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:d(()=>[l("Kerjakan Soal")]),_:2},1032,["href"])])):i("",!0),e.transaction.length==0?(s(),t("div",Ie,[r("button",{class:"btn btn-outline-primary btn-sm w-100 mb-2",onClick:h=>n.buyExam(e.id)},"Beli Latihan Soal",8,Ne)])):i("",!0),n.checkMemberCategories(e.member_categories)==!1?(s(),t("div",Ae,[c(_,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100 mb-2"},{default:d(()=>[e.member_categories.length==1?(s(),t("div",Ee,[l(" Upgrade Ke "),(s(!0),t(b,null,m(e.member_categories,h=>(s(),t("span",null,a(h),1))),256))])):(s(),t("div",Oe," Upgrade Member "))]),_:2},1032,["href"])])):i("",!0)])):i("",!0)])):(s(),t("div",Ue,[c(_,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[l("Kerjakan Soal")]),_:2},1032,["href"])]))])):(s(),t("div",Ve,[r("button",{class:P(["btn btn-sm w-100",{"btn-danger":e.exam_status=="inactive","btn-warning":e.exam_status==="inprogress"}])},a(e.exam_status==="inactive"?"Non Active":"In Progress"),3)]))])])]))),128))]),u.exams.data.length?(s(),t("div",De,[r("div",Fe,[c($,{links:u.exams.links,align:"center"},null,8,["links"])])])):i("",!0)])])],64)}const Qe=H(K,[["render",Re]]);export{Qe as default};
