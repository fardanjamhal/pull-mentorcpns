import{L as x}from"./Layout.c944b216.js";import{L as D,H as N,j as P,r as k,o,c as l,a as w,w as U,b as i,k as S,l as c,m as u,n as m,t as a,e as _,v,F as f,d as h,h as L,f as A,g as C}from"./app.341bdd0f.js";import{S as K}from"./sweetalert2.all.f68822bb.js";import{a as g}from"./index.0f71ab83.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";const B={layout:x,components:{Link:D,Head:N},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){g.get("/region/province").then(s=>{this.provinces=s.data}).catch(s=>console.error(s))},setup(s){const e=P({id:s.user.id,name:s.user.name,email:s.user.email,username:s.user.username,password:"",password_confirmation:"",member_type:s.user.member_type,level:s.user.level,is_active:s.user.is_active,province_id:s.user.student&&s.user.student.province_id?s.user.student.province_id:"",city_id:s.user.student&&s.user.student.city_id?s.user.student.city_id:"",district_id:s.user.student&&s.user.student.district_id?s.user.student.district_id:"",village_id:s.user.student&&s.user.student.village_id?s.user.student.village_id:"",address:s.user.student&&s.user.student.address?s.user.student.address:"",phone_number:s.user.student&&s.user.student.phone_number?s.user.student.phone_number:"",gender:s.user.student&&s.user.student.gender?s.user.student.gender:"",cities:[],districts:[],villages:[]}),d=()=>{g.get(`/region/city/${e.province_id}`).then(n=>{e.city_id=s.user.student.province_id==e.province_id?s.user.student.city_id:"",e.district_id=s.user.student.city_id==e.city_id?s.user.student.district_id:"",e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",e.cities=n.data}).catch(n=>console.error(n))},r=()=>{e.district_id=s.user.student.city_id==e.city_id?s.user.student.district_id:"",e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",g.get(`/region/district/${e.city_id}`).then(n=>{e.districts=n.data}).catch(n=>console.error(n))},b=()=>{e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",g.get(`/region/village/${e.district_id}`).then(n=>{e.villages=n.data}).catch(n=>console.error(n))},y=()=>{L.Inertia.put(`/user/users/${s.user.id}`,{id:e.id,name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation,member_type:e.member_type,level:e.level,is_active:e.is_active,province_id:e.province_id,city_id:e.city_id,district_id:e.district_id,village_id:e.village_id,address:e.address,phone_number:e.phone_number,gender:e.gender},{onSuccess:()=>{K.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return s.user.student&&(e.city_id&&d(),e.district_id&&r(),e.village_id&&b()),{form:e,submit:y,cityData:d,districtData:r,villageData:b}}},H={class:"page-wrapper"},j={class:"page-content"},M=A('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit User</li></ol></nav></div></div>',1),O={class:"card border-top border-0 border-3 border-primary"},T={class:"card-body"},F={class:"d-lg-flex align-items-center"},I=i("h6",{class:"card-title"},"Informasi Akun",-1),R={class:"ms-auto"},W=i("hr",null,null,-1),z={class:"row g-3"},J={class:"col-lg-12 col-md-6"},q=i("label",{class:"form-label"},"Nama",-1),G={key:0,class:"invalid-feedback"},Q={class:"col-lg-6 col-md-6"},X=i("label",{class:"form-label"},"Username",-1),Y={key:0,class:"invalid-feedback"},Z={class:"col-lg-6 col-md-6"},p=i("label",{class:"form-label"},"Email (Optional)",-1),$={key:0,class:"invalid-feedback"},ee={class:"col-lg-6 col-md-6"},ie=i("label",{class:"form-label"},"password",-1),se={key:0,class:"invalid-feedback"},te={class:"col-lg-6 col-md-6"},de=i("label",{class:"form-label"},"Konfirmasi Password",-1),re={key:0,class:"invalid-feedback"},oe={class:"card border-top border-0 border-3 border-primary"},le={class:"card-body"},ae=i("h6",{class:"card-title"},"Informasi Lainnya (Optional)",-1),ne=i("hr",null,null,-1),ce={class:"row g-3"},me={class:"col-lg-6 col-md-6"},_e=i("label",{class:"form-label"},"Jenis Kelamin",-1),ue=i("option",{value:""},"[ Pilih ]",-1),ve=i("option",{value:"M"},"Laki-laki",-1),fe=i("option",{value:"F"},"Perempuan",-1),be=[ue,ve,fe],he={key:0,class:"invalid-feedback"},ge={class:"col-lg-6 col-md-6"},ye=i("label",{class:"form-label"},"Nomor Whatsapp Aktif",-1),ke={key:0,class:"invalid-feedback"},we={class:"col-lg-12"},Ue=i("label",{class:"form-label"},"Alamat",-1),Ve={key:0,class:"invalid-feedback"},xe={class:"col-lg-6 col-md-6"},De=i("label",{class:"form-label"},"Provinsi",-1),Ne=i("option",{value:""},"[ Pilih ]",-1),Pe=["value"],Se={key:0,class:"invalid-feedback"},Le={class:"col-lg-6 col-md-6"},Ae=i("label",{class:"form-label"},"Kota / Kab",-1),Ce=i("option",{value:""},"[ Pilih ]",-1),Ke=["value"],Ee={key:0,class:"invalid-feedback"},Be={class:"col-lg-6 col-md-6"},He=i("label",{class:"form-label"},"Kecamatan",-1),je=i("option",{value:""},"[ Pilih ]",-1),Me=["value"],Oe={key:0,class:"invalid-feedback"},Te={class:"col-lg-6 col-md-6"},Fe=i("label",{class:"form-label"},"Desa / Kelurahan",-1),Ie=i("option",{value:""},"[ Pilih ]",-1),Re=["value"],We={key:0,class:"invalid-feedback"},ze=i("div",{class:"col-lg-6 col-md-6"},[i("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1);function Je(s,e,d,r,b,y){const n=k("Head"),V=k("Link");return o(),l(f,null,[w(n,null,{default:U(()=>{var t;return[i("title",null,a((t=s.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+" - Edit User",1)]}),_:1}),i("div",H,[i("div",j,[M,i("form",{onSubmit:e[16]||(e[16]=S((...t)=>r.submit&&r.submit(...t),["prevent"]))},[i("div",O,[c(i("input",{type:"hidden",class:m(["form-control",{"is-invalid":d.errors.id}]),"onUpdate:modelValue":e[0]||(e[0]=t=>r.form.id=t)},null,2),[[u,r.form.id]]),i("div",T,[i("div",F,[I,i("div",R,[w(V,{href:"/user/users",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:U(()=>[C("Kembali")]),_:1})])]),W,i("div",z,[i("div",J,[q,c(i("input",{type:"text",class:m(["form-control",{"is-invalid":d.errors.name}]),"onUpdate:modelValue":e[1]||(e[1]=t=>r.form.name=t),placeholder:"Nama"},null,2),[[u,r.form.name]]),d.errors.name?(o(),l("div",G,a(d.errors.name),1)):_("",!0)]),i("div",Q,[X,c(i("input",{type:"text",class:m(["form-control",{"is-invalid":d.errors.username}]),"onUpdate:modelValue":e[2]||(e[2]=t=>r.form.username=t),placeholder:"Username"},null,2),[[u,r.form.username]]),d.errors.username?(o(),l("div",Y,a(d.errors.username),1)):_("",!0)]),i("div",Z,[p,c(i("input",{type:"email",class:m(["form-control",{"is-invalid":d.errors.email}]),"onUpdate:modelValue":e[3]||(e[3]=t=>r.form.email=t),placeholder:"Email"},null,2),[[u,r.form.email]]),d.errors.email?(o(),l("div",$,a(d.errors.email),1)):_("",!0)]),i("div",ee,[ie,c(i("input",{type:"password",class:m(["form-control",{"is-invalid":d.errors.password}]),"onUpdate:modelValue":e[4]||(e[4]=t=>r.form.password=t),placeholder:"Password"},null,2),[[u,r.form.password]]),d.errors.password?(o(),l("div",se,a(d.errors.password),1)):_("",!0)]),i("div",te,[de,c(i("input",{type:"password",class:m(["form-control",{"is-invalid":d.errors.password_confirmation}]),"onUpdate:modelValue":e[5]||(e[5]=t=>r.form.password_confirmation=t),placeholder:"Konfirmasi Password"},null,2),[[u,r.form.password_confirmation]]),d.errors.password_confirmation?(o(),l("div",re,a(d.errors.password_confirmation),1)):_("",!0)])])])]),i("div",oe,[i("div",le,[ae,ne,i("div",ce,[i("div",me,[_e,c(i("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>r.form.gender=t),class:m([{"is-invalid":d.errors.gender},"form-select"])},be,2),[[v,r.form.gender]]),d.errors.gender?(o(),l("div",he,a(d.errors.gender),1)):_("",!0)]),i("div",ge,[ye,c(i("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>r.form.phone_number=t),class:m([{"is-invalid":d.errors.phone_number},"form-control"]),placeholder:"Nomor Hp (WA Aktif)"},null,2),[[u,r.form.phone_number]]),d.errors.phone_number?(o(),l("div",ke,a(d.errors.phone_number),1)):_("",!0)]),i("div",we,[Ue,c(i("textarea",{cols:"",rows:"5","onUpdate:modelValue":e[8]||(e[8]=t=>r.form.address=t),class:m([{"is-invalid":d.errors.address},"form-control"]),placeholder:"Alamat RT/RW/No Rumah"},null,2),[[u,r.form.address]]),d.errors.address?(o(),l("div",Ve,a(d.errors.address),1)):_("",!0)]),i("div",xe,[De,c(i("select",{onChange:e[9]||(e[9]=(...t)=>r.cityData&&r.cityData(...t)),"onUpdate:modelValue":e[10]||(e[10]=t=>r.form.province_id=t),class:m([{"is-invalid":d.errors.province_id},"form-select"])},[Ne,(o(!0),l(f,null,h(b.provinces,t=>(o(),l("option",{value:t.id},a(t.name),9,Pe))),256))],34),[[v,r.form.province_id]]),d.errors.province_id?(o(),l("div",Se,a(d.errors.province_id),1)):_("",!0)]),i("div",Le,[Ae,c(i("select",{onChange:e[11]||(e[11]=(...t)=>r.districtData&&r.districtData(...t)),"onUpdate:modelValue":e[12]||(e[12]=t=>r.form.city_id=t),class:m([{"is-invalid":d.errors.city_id},"form-select"])},[Ce,(o(!0),l(f,null,h(r.form.cities,t=>(o(),l("option",{value:t.id},a(t.name),9,Ke))),256))],34),[[v,r.form.city_id]]),d.errors.city_id?(o(),l("div",Ee,a(d.errors.city_id),1)):_("",!0)]),i("div",Be,[He,c(i("select",{onChange:e[13]||(e[13]=(...t)=>r.villageData&&r.villageData(...t)),"onUpdate:modelValue":e[14]||(e[14]=t=>r.form.district_id=t),class:m([{"is-invalid":d.errors.district_id},"form-select"])},[je,(o(!0),l(f,null,h(r.form.districts,t=>(o(),l("option",{value:t.id},a(t.name),9,Me))),256))],34),[[v,r.form.district_id]]),d.errors.district_id?(o(),l("div",Oe,a(d.errors.district_id),1)):_("",!0)]),i("div",Te,[Fe,c(i("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>r.form.village_id=t),class:m([{"is-invalid":d.errors.village_id},"form-select"])},[Ie,(o(!0),l(f,null,h(r.form.villages,t=>(o(),l("option",{value:t.id},a(t.name),9,Re))),256))],2),[[v,r.form.village_id]]),d.errors.village_id?(o(),l("div",We,a(d.errors.village_id),1)):_("",!0)]),ze])])])],32)])])],64)}const Ze=E(B,[["render",Je]]);export{Ze as default};
