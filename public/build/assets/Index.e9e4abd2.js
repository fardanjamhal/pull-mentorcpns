import{L as B}from"./Layout.9fb5a9d1.js";import{P as V}from"./Pagination.540b0999.js";import{L as A,H as U,j,z as b,r as p,o as n,c as l,a as m,w as h,b as e,l as f,m as M,v as x,F as u,d as v,k as C,g as k,e as y,h as L,f as N,t as i}from"./app.87be881c.js";import{S as P}from"./sweetalert2.all.1d47b383.js";import{a as D}from"./index.90413b74.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:B,components:{Link:A,Head:U,Pagination:V},props:{exams:Object,categories:Object},setup(){const a=j({search:b(new URL(document.location).searchParams.get("search")),category_id:b(new URL(document.location).searchParams.get("category_id")||""),lesson_category_id:b(new URL(document.location).searchParams.get("lesson_category_id")||""),lesson_id:b(new URL(document.location).searchParams.get("lesson_id")||""),lessonCategories:[],lessons:[]}),o=()=>{L.Inertia.get("/admin/exams",{search:a.search,category_id:a.category_id,lesson_category_id:a.lesson_category_id,lesson_id:a.lesson_id})},r=(_="",d="")=>{a.lesson_category_id=_!=a.category_id?"":a.lesson_category_id,a.lesson_id=d!=a.lesson_category_id?"":a.lesson_id,D.get(`/admin/categories/${a.category_id}/lesson-categories`).then(c=>{a.lessonCategories=c.data}).catch(c=>console.error(c))},t=(_="")=>{a.lesson_id=_!=a.lesson_category_id?"":a.lesson_id,D.get(`/admin/lesson-categories/${a.lesson_category_id}/lessons`).then(d=>{a.lessons=d.data}).catch(d=>console.error(d))},S=_=>{P.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(d=>{d.isConfirmed&&(L.Inertia.delete(`/admin/exams/${_}`),P.fire({title:"Deleted!",text:"Latihan Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})};return a.category_id&&r(a.category_id,a.lesson_category_id),a.lesson_category_id&&t(a.lesson_category_id),{form:a,handleSearch:o,destroy:S,lessonCategoryData:r,lessonData:t}}},I={class:"page-wrapper"},F={class:"page-content"},R=N('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Latihan Soal</li></ol></nav></div></div>',1),K={class:"card border-top border-0 border-3 border-primary"},q=e("div",{class:"card-header"},[e("div",{class:"d-flex align-items-center"},[e("div",null,[e("h6",{class:"mb-0"},"Filter Data")])])],-1),J={class:"card-body"},O={class:"row"},z={class:"col-md-4"},E=e("label",{for:"search"},"Judul Latihan Soal",-1),G={class:"col-md-2"},Q=e("label",{for:"category"},"Kategori Peminatan",-1),W=e("option",{value:""},"[ Pilih]",-1),X=["value"],Y={class:"col-md-2"},Z=e("label",{for:"lesson_category_id"},"Kategori Mata Pelajaran",-1),$=e("option",{value:""},"[ Pilih ]",-1),ee=["value"],se={class:"col-md-2"},ae=e("label",{for:"lesson_id"},"Mata Pelajaran",-1),te=e("option",{value:""},"[ Pilih ]",-1),oe=["value"],ne={class:"col-md-2"},le=e("label",{for:"end_date"},"Action",-1),ie=e("br",null,null,-1),re=e("i",{class:"bx bx-filter"},null,-1),de=e("i",{class:"bx bx-refresh"},null,-1),ce={class:"card border-top border-0 border-3 border-primary"},_e={class:"card-header"},me={class:"d-flex align-items-center"},he=e("div",null,[e("h6",{class:"mb-0"},"Latihan Soal")],-1),ue={class:"ms-auto"},ge=e("i",{class:"bx bxs-plus-square"},null,-1),be={class:"card-body"},fe={class:"table-responsive"},ve={class:"table mb-0"},ye=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"No"),e("th",null,"Peminatan"),e("th",null,"Kategori"),e("th",null,"Mata Pelajaran"),e("th",null,"Paket Soal"),e("th",null,"Judul Latihan Soal"),e("th",null,"Durasi"),e("th",null,"Siswa"),e("th",null,"Status"),e("th",null,"Actions")])],-1),pe={class:"badge bg-primary"},xe={key:0,class:"badge bg-danger"},ke={key:1,class:"badge bg-primary"},Se={key:0,class:"badge bg-primary"},Ce={key:1,class:"badge bg-danger"},Le={key:2,class:"badge bg-warning"},Pe={class:"d-flex order-actions"},De=e("i",{class:"bx bx-grid-alt"},null,-1),we=e("i",{class:"bx bxs-edit"},null,-1),Be=["onClick"],Ve=e("i",{class:"bx bxs-trash"},null,-1),Ae=[Ve],Ue={key:0,align:"center",colspan:"10"};function je(a,o,r,t,S,_){const d=p("Head"),c=p("Link"),w=p("Pagination");return n(),l(u,null,[m(d,null,{default:h(()=>{var s;return[e("title",null,i((s=a.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Data Latihan Soal",1)]}),_:1}),e("div",I,[e("div",F,[R,e("div",K,[q,e("div",J,[e("form",null,[e("div",O,[e("div",z,[E,f(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>t.form.search=s),class:"form-control",id:"search",placeholder:"Cari Berdasarkan Nama Latihan Soal...."},null,512),[[M,t.form.search]])]),e("div",G,[Q,f(e("select",{onChange:o[1]||(o[1]=(...s)=>t.lessonCategoryData&&t.lessonCategoryData(...s)),"onUpdate:modelValue":o[2]||(o[2]=s=>t.form.category_id=s),class:"form-control"},[W,(n(!0),l(u,null,v(r.categories,(s,g)=>(n(),l("option",{key:g,value:s.id},i(s.name),9,X))),128))],544),[[x,t.form.category_id]])]),e("div",Y,[Z,f(e("select",{onChange:o[3]||(o[3]=(...s)=>t.lessonData&&t.lessonData(...s)),"onUpdate:modelValue":o[4]||(o[4]=s=>t.form.lesson_category_id=s),class:"form-control"},[$,(n(!0),l(u,null,v(t.form.lessonCategories,s=>(n(),l("option",{value:s.id},i(s.name),9,ee))),256))],544),[[x,t.form.lesson_category_id]])]),e("div",se,[ae,f(e("select",{"onUpdate:modelValue":o[5]||(o[5]=s=>t.form.lesson_id=s),class:"form-select"},[te,(n(!0),l(u,null,v(t.form.lessons,s=>(n(),l("option",{value:s.id},i(s.name),9,oe))),256))],512),[[x,t.form.lesson_id]])]),e("div",ne,[le,ie,e("button",{onClick:o[6]||(o[6]=C((...s)=>t.handleSearch&&t.handleSearch(...s),["prevent"])),class:"btn btn-primary btn-sm me-2"},[re,k("Filter ")]),m(c,{href:"/admin/exams",class:"btn btn-danger btn-sm me-2"},{default:h(()=>[de,k("reset ")]),_:1})])])])])]),e("div",ce,[e("div",_e,[e("div",me,[he,e("div",ue,[m(c,{href:"/admin/exams/create",class:"btn btn-primary btn-sm me-2"},{default:h(()=>[ge,k("Tambah Data ")]),_:1})])])]),e("div",be,[e("div",fe,[e("table",ve,[ye,e("tbody",null,[(n(!0),l(u,null,v(r.exams.data,(s,g)=>(n(),l("tr",{key:g},[e("td",null,i(++g+(r.exams.current_page-1)*r.exams.per_page),1),e("td",null,[e("span",pe,i(s.category.name),1)]),e("td",null,i(s.lesson_category.name),1),e("td",null,i(s.lesson.name),1),e("td",null,i(s.question_title.name),1),e("td",null,i(s.title),1),e("td",null,i(s.duration)+" Menit",1),e("td",null,[s.grade_finished_count==0?(n(),l("span",xe,i(s.grade_finished_count),1)):(n(),l("span",ke,i(s.grade_finished_count),1))]),e("td",null,[s.exam_status=="active"?(n(),l("span",Se,"Active")):y("",!0),s.exam_status=="inactive"?(n(),l("span",Ce,"Inactive")):y("",!0),s.exam_status=="inprogress"?(n(),l("span",Le,"In Progress")):y("",!0)]),e("td",null,[e("div",Pe,[m(c,{href:`/admin/exams/${s.id}`,class:"ms-1"},{default:h(()=>[De]),_:2},1032,["href"]),m(c,{href:`/admin/exams/${s.id}/edit`,class:"ms-1"},{default:h(()=>[we]),_:2},1032,["href"]),e("a",{href:"#",onClick:C(Me=>t.destroy(s.id),["prevent"]),class:"ms-1"},Ae,8,Be)])])]))),128)),e("tr",null,[r.exams.data.length?y("",!0):(n(),l("td",Ue,"Data Tidak Tersedia"))])])])]),m(w,{links:r.exams.links,align:"end"},null,8,["links"])])])])])],64)}const Ke=T(H,[["render",je]]);export{Ke as default};
