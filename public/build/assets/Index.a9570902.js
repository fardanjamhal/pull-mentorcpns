import{L}from"./Layout.191cffe8.js";import{p as B,e as C,t as A}from"./index.es.aef59c8e.js";import{P as D}from"./Pagination.d9580abb.js";import{L as P,H as I,j as J,z as j,r as k,o as n,c as i,a as p,w as y,b as t,k as m,t as r,e as o,g as h,l as H,v as Q,m as K,F as S,d as E,h as b,f as M,n as g}from"./app.5e941448.js";import{S as _}from"./sweetalert2.all.e1cbbc39.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const V={layout:L,components:{Link:P,Head:I,Pagination:D,MathJax:B},props:{questions:Object,questionTitle:Object},mounted(){let d=document.createElement("script");d.setAttribute("src","https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"),document.head.appendChild(d);function a(){const s=document.getElementById("elementId");A(s)}C({},a)},setup(d){const a=J({type:"number",file:""}),s=()=>{_.fire({title:"Pastikan Format File Sesuai",text:"Jika format tidak sesuai maka seluruh soal tidak akan berhasil di import.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Import"}).then(c=>{c.isConfirmed&&b.Inertia.post(`/admin/question-titles/${d.questionTitle.id}/import-excel`,{forceFormData:!0,file:a.file})})},l=()=>{b.Inertia.post(`/admin/question-titles/${d.questionTitle.id}/questions/generate-question`,{type:a.type},{onSuccess:()=>{_.fire({title:"Success!",text:"Soal Berhasil Di Generate!.",icon:"success",showConfirmButton:!1,timer:2e3})}})},T=j(new URL(document.location).searchParams.get("search"));return{search:T,form:a,handleSearch:()=>{b.Inertia.get(`/admin/question-titles/${d.questionTitle.id}/questions`,{search:T.value})},destroy:c=>{_.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(u=>{u.isConfirmed&&(b.Inertia.delete(`/admin/question-titles/${d.questionTitle.id}/questions/${c}`),_.fire({title:"Deleted!",text:"Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},generateQuestion:l,destroyQuestionTitle:c=>{_.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(u=>{u.isConfirmed&&(b.Inertia.delete(`/admin/question-titles/${c}`),_.fire({title:"Deleted!",text:"Judul Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},importExcel:s,destroyAllQuestion:c=>{_.fire({title:"Apakah anda yakin akan menghapus seluruh soal ?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(u=>{u.isConfirmed&&(b.Inertia.get(`/admin/question-titles/${d.questionTitle.id}/delete-question`),_.fire({title:"Deleted!",text:"Seluruh Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},F={class:"page-wrapper"},G={class:"page-content"},U=M('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Soal</li></ol></nav></div></div>',1),z={class:"card border-top border-0 border-3 border-primary"},R={class:"card-body"},O={class:"d-lg-flex align-items-center mb-4 gap-3"},Y={class:"ms-auto"},X={class:"table-responsive"},W={class:"table mb-0"},Z=t("th",{width:"170px"},"Peminatan",-1),$=t("td",{width:"10px"},":",-1),tt={class:"badge bg-primary"},et=t("th",null,"Kategori Mata Pelajaran",-1),st=t("td",null,":",-1),nt=t("th",null,"Mata Pelajaran",-1),it=t("td",null,":",-1),ot=t("th",null,"Judul Soal",-1),at=t("td",null,":",-1),lt=t("th",null,"Jumlah Pilihan Ganda",-1),dt=t("td",null,":",-1),rt=t("th",null,"Total Bagian",-1),ct=t("td",null,":",-1),ut={key:0},_t=t("th",null,"Nilai Ambang Batas",-1),ht=t("td",null,":",-1),mt=t("th",null,"Tambahkan Kategori Penilaian",-1),bt=t("td",null,":",-1),gt={class:"badge bg-success"},pt={key:1},ft=t("th",null,"Jenis Penilaian",-1),yt=t("td",null,":",-1),Tt={key:0},kt={key:1},xt={key:2},vt={key:3},wt={key:0,class:"alert alert-success border-0 bg-success alert-dismissible fade show py-2"},Ht={class:"d-flex align-items-center"},St=t("div",{class:"font-35 text-white"},[t("i",{class:"bx bxs-check-circle"})],-1),Mt={class:"ms-3"},qt=t("h6",{class:"mb-0 text-white"},"Sukses",-1),Lt={class:"text-white"},Bt=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),Ct={key:1,class:"alert alert-danger border-0 bg-danger alert-dismissible fade show py-2"},At={class:"d-flex align-items-center"},Dt=t("div",{class:"font-35 text-white"},[t("i",{class:"bx bxs-message-square-x"})],-1),Pt={class:"ms-3"},It=t("h6",{class:"mb-0 text-white"},"Gagal",-1),Jt={class:"text-white"},jt=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),Qt={class:"card"},Kt={class:"card-body"},Et={class:"d-lg-flex align-items-center gap-3"},Nt={class:"ms-auto"},Vt=["href"],Ft=t("i",{class:"bx bxs-file"},null,-1),Gt=["href"],Ut=t("i",{class:"bx bxs-file"},null,-1),zt={class:"btn-group me-2"},Rt=t("div",{class:"btn-group"},[t("button",{type:"submit",class:"btn btn-danger btn-sm"},[t("i",{class:"bx bxs-file"}),h(" Import Soal ")])],-1),Ot={key:2,class:"card"},Yt={class:"card-body"},Xt={class:"d-lg-flex align-items-center gap-3"},Wt={class:"ms-auto"},Zt=M('<option value="number">Angka Hilang</option><option value="letter">Huruf Hilang</option><option value="symbol">Simbol Hilang</option><option value="number_letter">Kombinasi Angka &amp; Huruf Hilang</option><option value="number_symbol">Kombinasi Angka &amp; Simbol Hilang</option><option value="letter_symbol">Kombinasi Huruf &amp; Simbol Hilang</option><option value="number_letter_symbol">Kombinasi Angka, Huruf &amp; Simbol Hilang</option>',7),$t=[Zt],te=t("button",{type:"submit",class:"btn btn-danger"},"Generate",-1),ee={class:"card border-top border-0 border-3 border-primary"},se={class:"card-body"},ne={class:"d-lg-flex align-items-center mb-4 gap-3"},ie={class:"position-relative"},oe=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1),ae={class:"ms-auto"},le=t("i",{class:"bx bx-trash"},null,-1),de=t("i",{class:"bx bxs-plus-square"},null,-1),re={class:"table mb-0"},ce=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0",style:{width:"85%"}},"Soal"),t("th",{class:"border-0 rounded-end",style:{width:"10%"}},"Aksi")])],-1),ue={key:0},_e={controls:""},he=["src"],me=["src"],be=["innerHTML"],ge=t("br",null,null,-1),pe={key:1,type:"A"},fe=["innerHTML"],ye=["innerHTML"],Te=["innerHTML"],ke=["innerHTML"],xe=["innerHTML"],ve=["innerHTML"],we={key:2,type:"A"},He=["innerHTML"],Se=["innerHTML"],Me=["innerHTML"],qe=["innerHTML"],Le=["innerHTML"],Be=["innerHTML"],Ce={key:3,class:"badge rounded-pill text-primary bg-light-primary p-2 text-uppercase"},Ae={class:"d-flex order-actions"},De=t("i",{class:"bx bxs-edit"},null,-1),Pe=["onClick"],Ie=t("i",{class:"bx bxs-trash"},null,-1),Je=[Ie],je={key:0,align:"center",colspan:"3"};function Qe(d,a,s,l,T,q){var c,u;const x=k("Head"),f=k("Link"),v=k("Pagination");return n(),i(S,null,[p(x,null,{default:y(()=>{var e;return[t("title",null,r((e=d.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Data Soal",1)]}),_:1}),t("div",F,[t("div",G,[U,t("div",z,[t("div",R,[t("div",O,[t("a",{href:"#",onClick:a[0]||(a[0]=m(e=>l.destroyQuestionTitle(s.questionTitle.id),["prevent"])),class:"btn btn-danger btn-sm mt-2 mt-lg-0"},"Hapus Judul & Soal"),t("div",Y,[p(f,{href:"/admin/question-titles",class:"btn btn-primary btn-sm mt-2 mt-lg-0 ms-1"},{default:y(()=>[h("Kembali")]),_:1})])]),t("div",X,[t("table",W,[t("tbody",null,[t("tr",null,[Z,$,t("td",null,[t("span",tt,r((c=s.questionTitle.category&&s.questionTitle.category.name)!=null?c:"-"),1)])]),t("tr",null,[et,st,t("td",null,r(s.questionTitle.lesson_category.name),1)]),t("tr",null,[nt,it,t("td",null,r(s.questionTitle.lesson.name),1)]),t("tr",null,[ot,at,t("td",null,r(s.questionTitle.name),1)]),t("tr",null,[lt,dt,t("td",null,r(s.questionTitle.total_choices),1)]),t("tr",null,[rt,ct,t("td",null,r(s.questionTitle.total_section),1)]),s.questionTitle.passing_grade?(n(),i("tr",ut,[_t,ht,t("td",null,r((u=s.questionTitle.passing_grade)!=null?u:"-"),1)])):o("",!0),t("tr",null,[mt,bt,t("td",null,[t("span",gt,r(s.questionTitle.add_value_category==0?"Tidak":"Ya"),1)])]),s.questionTitle.add_value_category==1?(n(),i("tr",pt,[ft,yt,t("td",null,[s.questionTitle.assessment_type==1?(n(),i("span",Tt,"Dihitung Per Kategori Penilaian")):o("",!0),s.questionTitle.assessment_type==2?(n(),i("span",kt,"Dihitung Untuk Seluruh Soal (Rata-rata)")):o("",!0),s.questionTitle.assessment_type==3?(n(),i("span",xt,"Dihitung Berdasarkan Poin Jawaban Benar")):o("",!0),s.questionTitle.assessment_type==4?(n(),i("span",vt,"Dihitung Berdasarkan Bobot Jawaban")):o("",!0)])])):o("",!0)])])])])]),d.$page.props.session.success?(n(),i("div",wt,[t("div",Ht,[St,t("div",Mt,[qt,t("div",Lt,r(d.$page.props.session.success),1)])]),Bt])):o("",!0),d.$page.props.session.failed?(n(),i("div",Ct,[t("div",At,[Dt,t("div",Pt,[It,t("div",Jt,r(d.$page.props.session.failed),1)])]),jt])):o("",!0),t("div",Qt,[t("div",Kt,[t("div",Et,[t("div",Nt,[t("a",{target:"_blank",href:`/admin/question-titles/${s.questionTitle.id}/export-excel`,class:"btn btn-sm btn-success mt-lg-0"},[Ft,h(" Export Soal")],8,Vt)]),t("a",{target:"_blank",href:`/admin/question-titles/${s.questionTitle.id}/format-import-excel`,class:"btn btn-sm btn-primary"},[Ut,h(" Template Import Soal ")],8,Gt),t("form",{onSubmit:a[2]||(a[2]=m((...e)=>l.importExcel&&l.importExcel(...e),["prevent"])),class:"d-flex ml-auto"},[t("div",zt,[t("input",{type:"file",onInput:a[1]||(a[1]=e=>l.form.file=e.target.files[0]),class:"form-control form-control-sm me-2",required:""},null,32)]),Rt],32)])])]),s.questions.data.length?o("",!0):(n(),i("div",Ot,[t("div",Yt,[t("div",Xt,[t("div",Wt,[t("form",{onSubmit:a[4]||(a[4]=m((...e)=>l.generateQuestion&&l.generateQuestion(...e),["prevent"])),class:"d-flex ml-auto"},[H(t("select",{class:"form-control me-2","onUpdate:modelValue":a[3]||(a[3]=e=>l.form.type=e)},$t,512),[[Q,l.form.type]]),te],32)])])])])),t("div",ee,[t("div",se,[t("div",ne,[t("form",{onSubmit:a[6]||(a[6]=m((...e)=>l.handleSearch&&l.handleSearch(...e),["prevent"]))},[t("div",ie,[H(t("input",{type:"text","onUpdate:modelValue":a[5]||(a[5]=e=>l.search=e),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Soal....",size:"40",maxlength:"100"},null,512),[[K,l.search]]),oe])],32),t("div",ae,[t("a",{href:"#",onClick:a[7]||(a[7]=m(e=>l.destroyAllQuestion(s.questionTitle.id),["prevent"])),class:"btn btn-danger btn-sm"},[le,h(" Hapus Semua Soal")]),p(f,{href:`/admin/question-titles/${s.questionTitle.id}/questions/create`,class:"btn btn-sm btn-primary m-2"},{default:y(()=>[de,h(" Tambah Soal")]),_:1},8,["href"])])]),t("table",re,[ce,t("tbody",null,[(n(!0),i(S,null,E(s.questions.data,(e,w)=>(n(),i("tr",{key:w},[t("td",null,r(++w+(s.questions.current_page-1)*s.questions.per_page),1),t("td",null,[e.audio_input==1&&e.audio?(n(),i("div",ue,[t("audio",_e,[t("source",{src:"/storage/upload_files/questions/audio/"+e.audio,type:"audio/ogg"},null,8,he),t("source",{src:"/storage/upload_files/questions/audio/"+e.audio,type:"audio/mpeg"},null,8,me),h(" Your browser does not support the audio element. ")])])):o("",!0),t("div",{innerHTML:e.question,class:"clearfix"},null,8,be),ge,s.questionTitle.assessment_type==4?(n(),i("ol",pe,[1<=s.questionTitle.total_choices?(n(),i("li",{key:0,innerHTML:"<span class='badge bg-danger'>point "+e["point_"+1]+"</span> <br>"+e["option_"+1]},null,8,fe)):o("",!0),2<=s.questionTitle.total_choices?(n(),i("li",{key:1,innerHTML:"<span class='badge bg-danger'>point "+e["point_"+2]+"</span> <br>"+e["option_"+2]},null,8,ye)):o("",!0),3<=s.questionTitle.total_choices?(n(),i("li",{key:2,innerHTML:"<span class='badge bg-danger'>point "+e["point_"+3]+"</span> <br>"+e["option_"+3]},null,8,Te)):o("",!0),4<=s.questionTitle.total_choices?(n(),i("li",{key:3,innerHTML:"<span class='badge bg-danger'>point "+e["point_"+4]+"</span> <br>"+e["option_"+4]},null,8,ke)):o("",!0),5<=s.questionTitle.total_choices?(n(),i("li",{key:4,innerHTML:"<span class='badge bg-danger'>point "+e["point_"+5]+"</span> <br>"+e["option_"+5]},null,8,xe)):o("",!0),6<=s.questionTitle.total_choices?(n(),i("li",{key:5,innerHTML:"<span class='badge bg-danger'>point "+e["point_"+6]+"</span> <br>"+e["option_"+6]},null,8,ve)):o("",!0)])):(n(),i("ol",we,[1<=s.questionTitle.total_choices?(n(),i("li",{key:0,innerHTML:e.option_1,class:g({"text-danger fw-bold":e.answer==1})},null,10,He)):o("",!0),2<=s.questionTitle.total_choices?(n(),i("li",{key:1,innerHTML:e.option_2,class:g({"text-danger fw-bold":e.answer==2})},null,10,Se)):o("",!0),3<=s.questionTitle.total_choices?(n(),i("li",{key:2,innerHTML:e.option_3,class:g({"text-danger fw-bold":e.answer==3})},null,10,Me)):o("",!0),4<=s.questionTitle.total_choices?(n(),i("li",{key:3,innerHTML:e.option_4,class:g({"text-danger fw-bold":e.answer==4})},null,10,qe)):o("",!0),5<=s.questionTitle.total_choices?(n(),i("li",{key:4,innerHTML:e.option_5,class:g({"text-danger fw-bold":e.answer==5})},null,10,Le)):o("",!0),6<=s.questionTitle.total_choices?(n(),i("li",{key:5,innerHTML:e.option_6,class:g({"text-danger fw-bold":e.answer==6})},null,10,Be)):o("",!0)])),e.value_category?(n(),i("div",Ce,r(e.value_category.name),1)):o("",!0)]),t("td",null,[t("div",Ae,[p(f,{href:`/admin/question-titles/${s.questionTitle.id}/questions/${e.id}/edit`,class:"ms-1"},{default:y(()=>[De]),_:2},1032,["href"]),t("a",{href:"#",onClick:m(Ke=>l.destroy(e.id),["prevent"]),class:"ms-1"},Je,8,Pe)])])]))),128)),t("tr",null,[s.questions.data.length?o("",!0):(n(),i("td",je,"Data Tidak Tersedia"))])])]),p(v,{links:s.questions.links,align:"end"},null,8,["links"])])])])])],64)}const ze=N(V,[["render",Qe]]);export{ze as default};
