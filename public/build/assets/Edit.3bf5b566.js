import{L as x}from"./Layout.5a89b8be.js";import{L as D,H as P,j as A,r as k,o as d,c as r,a as w,w as U,b as e,k as N,l as n,m as u,n as c,t as a,e as m,v,F as f,d as h,h as S,f as L,g as C}from"./app.c0360cc5.js";import{S as K}from"./sweetalert2.all.b68d34ed.js";import{a as g}from"./index.ec764b7d.js";import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";const T={layout:x,components:{Link:D,Head:P},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){g.get("/region/province").then(o=>{this.provinces=o.data}).catch(o=>console.error(o))},setup(o){const i=A({id:o.user.id,name:o.user.name,email:o.user.email,username:o.user.username,password:"",password_confirmation:"",member_type:o.user.member_type,level:o.user.level,is_active:o.user.is_active,province_id:o.user.student&&o.user.student.province_id?o.user.student.province_id:"",city_id:o.user.student&&o.user.student.city_id?o.user.student.city_id:"",district_id:o.user.student&&o.user.student.district_id?o.user.student.district_id:"",village_id:o.user.student&&o.user.student.village_id?o.user.student.village_id:"",address:o.user.student&&o.user.student.address?o.user.student.address:"",phone_number:o.user.student&&o.user.student.phone_number?o.user.student.phone_number:"",gender:o.user.student&&o.user.student.gender?o.user.student.gender:"",cities:[],districts:[],villages:[]}),t=()=>{g.get(`/region/city/${i.province_id}`).then(_=>{i.city_id=o.user.student.province_id==i.province_id?o.user.student.city_id:"",i.district_id=o.user.student.city_id==i.city_id?o.user.student.district_id:"",i.village_id=o.user.student.district_id==i.district_id?o.user.student.village_id:"",i.cities=_.data}).catch(_=>console.error(_))},l=()=>{i.district_id=o.user.student.city_id==i.city_id?o.user.student.district_id:"",i.village_id=o.user.student.district_id==i.district_id?o.user.student.village_id:"",g.get(`/region/district/${i.city_id}`).then(_=>{i.districts=_.data}).catch(_=>console.error(_))},b=()=>{i.village_id=o.user.student.district_id==i.district_id?o.user.student.village_id:"",g.get(`/region/village/${i.district_id}`).then(_=>{i.villages=_.data}).catch(_=>console.error(_))},y=()=>{S.Inertia.put(`/admin/users/${o.user.id}`,{id:i.id,name:i.name,email:i.email,username:i.username,password:i.password,password_confirmation:i.password_confirmation,member_type:i.member_type,level:i.level,is_active:i.is_active,province_id:i.province_id,city_id:i.city_id,district_id:i.district_id,village_id:i.village_id,address:i.address,phone_number:i.phone_number,gender:i.gender},{onSuccess:()=>{K.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return o.user.student&&(t(),l(),b()),{form:i,submit:y,cityData:t,districtData:l,villageData:b}}},B={class:"page-wrapper"},E={class:"page-content"},O=L('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit User</li></ol></nav></div></div>',1),H={class:"card border-top border-0 border-3 border-primary"},j={class:"card-body"},F={class:"d-lg-flex align-items-center"},I=e("h6",{class:"card-title"},"Informasi Akun",-1),R={class:"ms-auto"},W=e("hr",null,null,-1),z={class:"row g-3"},G={class:"col-lg-6 col-md-6"},J=e("label",{class:"form-label"},"Nama",-1),q={key:0,class:"invalid-feedback"},Q={class:"col-lg-6 col-md-6"},X=e("label",{class:"form-label"},"Level",-1),Y=e("option",{value:""},"[ Pilih ]",-1),Z=e("option",{value:"1"},"Admin",-1),p=e("option",{value:"2"},"User",-1),$=[Y,Z,p],ee={key:0,class:"invalid-feedback"},ie={class:"col-lg-6 col-md-6"},se=e("label",{class:"form-label"},"Username",-1),te={key:0,class:"invalid-feedback"},oe={class:"col-lg-6 col-md-6"},le=e("label",{class:"form-label"},"Email (Optional)",-1),de={key:0,class:"invalid-feedback"},re={class:"col-lg-6 col-md-6"},ae=e("label",{class:"form-label"},"password",-1),ne={key:0,class:"invalid-feedback"},ce={class:"col-lg-6 col-md-6"},me=e("label",{class:"form-label"},"Konfirmasi Password",-1),_e={key:0,class:"invalid-feedback"},ue={class:"col-lg-6 col-md-6"},ve=e("label",{class:"form-label"},"Tipe Member",-1),fe=e("option",{value:""},"[ Pilih ]",-1),be=e("option",{value:"1"},"Member Gratis Try Out",-1),he=e("option",{value:"2"},"Member Try Out Berbayar ",-1),ge=[fe,be,he],ye={key:0,class:"invalid-feedback"},ke={class:"col-lg-6 col-md-6"},we=e("label",{class:"form-label"},"Status Akun",-1),Ue=e("option",{value:""},"[ Pilih ]",-1),Ve=e("option",{value:"1"},"Active",-1),xe=e("option",{value:"0"},"Non Active",-1),De=[Ue,Ve,xe],Pe={key:0,class:"invalid-feedback"},Ae={class:"card border-top border-0 border-3 border-primary"},Ne={class:"card-body"},Se=e("h6",{class:"card-title"},"Informasi Lainnya (Optional)",-1),Le=e("hr",null,null,-1),Ce={class:"row g-3"},Ke={class:"col-lg-6 col-md-6"},Me=e("label",{class:"form-label"},"Jenis Kelamin",-1),Te=e("option",{value:""},"[ Pilih ]",-1),Be=e("option",{value:"M"},"Laki-laki",-1),Ee=e("option",{value:"F"},"Perempuan",-1),Oe=[Te,Be,Ee],He={key:0,class:"invalid-feedback"},je={class:"col-lg-6 col-md-6"},Fe=e("label",{class:"form-label"},"Nomor Whatsapp Aktif",-1),Ie={key:0,class:"invalid-feedback"},Re={class:"col-lg-12"},We=e("label",{class:"form-label"},"Alamat",-1),ze={key:0,class:"invalid-feedback"},Ge={class:"col-lg-6 col-md-6"},Je=e("label",{class:"form-label"},"Provinsi",-1),qe=e("option",{value:""},"[ Pilih ]",-1),Qe=["value"],Xe={key:0,class:"invalid-feedback"},Ye={class:"col-lg-6 col-md-6"},Ze=e("label",{class:"form-label"},"Kota / Kab",-1),pe=e("option",{value:""},"[ Pilih ]",-1),$e=["value"],ei={key:0,class:"invalid-feedback"},ii={class:"col-lg-6 col-md-6"},si=e("label",{class:"form-label"},"Kecamatan",-1),ti=e("option",{value:""},"[ Pilih ]",-1),oi=["value"],li={key:0,class:"invalid-feedback"},di={class:"col-lg-6 col-md-6"},ri=e("label",{class:"form-label"},"Desa / Kelurahan",-1),ai=e("option",{value:""},"[ Pilih ]",-1),ni=["value"],ci={key:0,class:"invalid-feedback"},mi=e("div",{class:"col-lg-6 col-md-6"},[e("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1);function _i(o,i,t,l,b,y){const _=k("Head"),V=k("Link");return d(),r(f,null,[w(_,null,{default:U(()=>{var s;return[e("title",null,a((s=o.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Edit User",1)]}),_:1}),e("div",B,[e("div",E,[O,e("form",{onSubmit:i[19]||(i[19]=N((...s)=>l.submit&&l.submit(...s),["prevent"]))},[e("div",H,[n(e("input",{type:"hidden",class:c(["form-control",{"is-invalid":t.errors.id}]),"onUpdate:modelValue":i[0]||(i[0]=s=>l.form.id=s)},null,2),[[u,l.form.id]]),e("div",j,[e("div",F,[I,e("div",R,[w(V,{href:"/admin/users",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:U(()=>[C("Kembali")]),_:1})])]),W,e("div",z,[e("div",G,[J,n(e("input",{type:"text",class:c(["form-control",{"is-invalid":t.errors.name}]),"onUpdate:modelValue":i[1]||(i[1]=s=>l.form.name=s),placeholder:"Nama"},null,2),[[u,l.form.name]]),t.errors.name?(d(),r("div",q,a(t.errors.name),1)):m("",!0)]),e("div",Q,[X,n(e("select",{"onUpdate:modelValue":i[2]||(i[2]=s=>l.form.level=s),class:c([{"is-invalid":t.errors.level},"form-select"])},$,2),[[v,l.form.level]]),t.errors.level?(d(),r("div",ee,a(t.errors.level),1)):m("",!0)]),e("div",ie,[se,n(e("input",{type:"text",class:c(["form-control",{"is-invalid":t.errors.username}]),"onUpdate:modelValue":i[3]||(i[3]=s=>l.form.username=s),placeholder:"Username"},null,2),[[u,l.form.username]]),t.errors.username?(d(),r("div",te,a(t.errors.username),1)):m("",!0)]),e("div",oe,[le,n(e("input",{type:"email",class:c(["form-control",{"is-invalid":t.errors.email}]),"onUpdate:modelValue":i[4]||(i[4]=s=>l.form.email=s),placeholder:"Email"},null,2),[[u,l.form.email]]),t.errors.email?(d(),r("div",de,a(t.errors.email),1)):m("",!0)]),e("div",re,[ae,n(e("input",{type:"password",class:c(["form-control",{"is-invalid":t.errors.password}]),"onUpdate:modelValue":i[5]||(i[5]=s=>l.form.password=s),placeholder:"Password"},null,2),[[u,l.form.password]]),t.errors.password?(d(),r("div",ne,a(t.errors.password),1)):m("",!0)]),e("div",ce,[me,n(e("input",{type:"password",class:c(["form-control",{"is-invalid":t.errors.password_confirmation}]),"onUpdate:modelValue":i[6]||(i[6]=s=>l.form.password_confirmation=s),placeholder:"Konfirmasi Password"},null,2),[[u,l.form.password_confirmation]]),t.errors.password_confirmation?(d(),r("div",_e,a(t.errors.password_confirmation),1)):m("",!0)]),e("div",ue,[ve,n(e("select",{"onUpdate:modelValue":i[7]||(i[7]=s=>l.form.member_type=s),class:c([{"is-invalid":t.errors.member_type},"form-select"])},ge,2),[[v,l.form.member_type]]),t.errors.member_type?(d(),r("div",ye,a(t.errors.member_type),1)):m("",!0)]),e("div",ke,[we,n(e("select",{"onUpdate:modelValue":i[8]||(i[8]=s=>l.form.is_active=s),class:c([{"is-invalid":t.errors.is_active},"form-select"])},De,2),[[v,l.form.is_active]]),t.errors.is_active?(d(),r("div",Pe,a(t.errors.is_active),1)):m("",!0)])])])]),e("div",Ae,[e("div",Ne,[Se,Le,e("div",Ce,[e("div",Ke,[Me,n(e("select",{"onUpdate:modelValue":i[9]||(i[9]=s=>l.form.gender=s),class:c([{"is-invalid":t.errors.gender},"form-select"])},Oe,2),[[v,l.form.gender]]),t.errors.gender?(d(),r("div",He,a(t.errors.gender),1)):m("",!0)]),e("div",je,[Fe,n(e("input",{type:"text","onUpdate:modelValue":i[10]||(i[10]=s=>l.form.phone_number=s),class:c([{"is-invalid":t.errors.phone_number},"form-control"]),placeholder:"Nomor Hp (WA Aktif)"},null,2),[[u,l.form.phone_number]]),t.errors.phone_number?(d(),r("div",Ie,a(t.errors.phone_number),1)):m("",!0)]),e("div",Re,[We,n(e("textarea",{cols:"",rows:"5","onUpdate:modelValue":i[11]||(i[11]=s=>l.form.address=s),class:c([{"is-invalid":t.errors.address},"form-control"]),placeholder:"Alamat RT/RW/No Rumah"},null,2),[[u,l.form.address]]),t.errors.address?(d(),r("div",ze,a(t.errors.address),1)):m("",!0)]),e("div",Ge,[Je,n(e("select",{onChange:i[12]||(i[12]=(...s)=>l.cityData&&l.cityData(...s)),"onUpdate:modelValue":i[13]||(i[13]=s=>l.form.province_id=s),class:c([{"is-invalid":t.errors.province_id},"form-select"])},[qe,(d(!0),r(f,null,h(b.provinces,s=>(d(),r("option",{value:s.id},a(s.name),9,Qe))),256))],34),[[v,l.form.province_id]]),t.errors.province_id?(d(),r("div",Xe,a(t.errors.province_id),1)):m("",!0)]),e("div",Ye,[Ze,n(e("select",{onChange:i[14]||(i[14]=(...s)=>l.districtData&&l.districtData(...s)),"onUpdate:modelValue":i[15]||(i[15]=s=>l.form.city_id=s),class:c([{"is-invalid":t.errors.city_id},"form-select"])},[pe,(d(!0),r(f,null,h(l.form.cities,s=>(d(),r("option",{value:s.id},a(s.name),9,$e))),256))],34),[[v,l.form.city_id]]),t.errors.city_id?(d(),r("div",ei,a(t.errors.city_id),1)):m("",!0)]),e("div",ii,[si,n(e("select",{onChange:i[16]||(i[16]=(...s)=>l.villageData&&l.villageData(...s)),"onUpdate:modelValue":i[17]||(i[17]=s=>l.form.district_id=s),class:c([{"is-invalid":t.errors.district_id},"form-select"])},[ti,(d(!0),r(f,null,h(l.form.districts,s=>(d(),r("option",{value:s.id},a(s.name),9,oi))),256))],34),[[v,l.form.district_id]]),t.errors.district_id?(d(),r("div",li,a(t.errors.district_id),1)):m("",!0)]),e("div",di,[ri,n(e("select",{"onUpdate:modelValue":i[18]||(i[18]=s=>l.form.village_id=s),class:c([{"is-invalid":t.errors.village_id},"form-select"])},[ai,(d(!0),r(f,null,h(l.form.villages,s=>(d(),r("option",{value:s.id},a(s.name),9,ni))),256))],2),[[v,l.form.village_id]]),t.errors.village_id?(d(),r("div",ci,a(t.errors.village_id),1)):m("",!0)]),mi])])])],32)])])],64)}const gi=M(T,[["render",_i]]);export{gi as default};
