import{L as g}from"./Layout.5378c557.js";import{L as v,H as T,j as p,r as _,o as s,c as e,a as m,w as h,b as t,k as S,t as a,F as b,d as w,e as o,l as x,v as K,h as P,f,g as D}from"./app.1e0ce2ef.js";import{S as B}from"./sweetalert2.all.15072cbe.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";const N={layout:g,components:{Link:v,Head:T},props:{transaction:Object},setup(r){const i=p({transaction_status:r.transaction.transaction_status});return{form:i,submit:()=>{P.Inertia.put(`/admin/transactions/${r.transaction.id}`,{transaction_status:i.transaction_status},{onSuccess:()=>{B.fire({title:"Success!",text:"Transaksi Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(r){return"Rp."+(r/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},M={class:"page-wrapper"},V={class:"page-content"},C=f('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Transaksi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Transaksi</li></ol></nav></div></div>',1),F={class:"card border-top border-0 border-3 border-primary"},H={class:"card-body"},j={class:"d-lg-flex align-items-center"},A={class:"ms-auto"},U={class:"table-responsive"},E={class:"table mb-0"},O=t("tr",null,[t("th",{colspan:"3"},"Biodata")],-1),R=t("td",{width:"300px"},"Nama Lengkap",-1),G=t("td",{width:"20px"},":",-1),I=t("td",null,"Email",-1),J=t("td",null,":",-1),W=t("td",null,"Provinsi",-1),q=t("td",null,":",-1),z=t("td",null,"Kota/Kab",-1),Q=t("td",null,":",-1),X=t("td",null,"Kecamatan",-1),Y=t("td",null,":",-1),Z=t("td",null,"Desa/Kelurahan",-1),$=t("td",null,":",-1),tt=t("td",null,"Nomor Telepon (Whatsapp)",-1),nt=t("td",null,":",-1),at=t("tr",null,[t("th",{colspan:"3"},"Detail Transaksi")],-1),st=t("td",null,"Kode Transaksi",-1),et=t("td",null,":",-1),ot=t("td",null,"Tanggal Tansaksi",-1),it=t("td",null,":",-1),lt=t("td",null,"Kategori Peminatan",-1),rt=t("td",null,":",-1),dt={class:"badge bg-primary"},ct=t("td",null,"Deskripsi Transaksi",-1),ut=t("td",null,":",-1),_t=t("td",null,"Kategori Member",-1),mt=t("td",null,":",-1),ht={class:"col-sm-9"},bt={class:"badge bg-success m-1"},ft={key:1,class:"badge bg-success"},kt=t("td",null,"Metode Pembayaran",-1),yt=t("td",null,":",-1),gt={key:0},vt={key:1},Tt={key:2},pt=t("td",null,"Total Transaksi",-1),St=t("td",null,":",-1),wt=t("td",null,"Status Transaksi",-1),xt=t("td",null,":",-1),Kt={key:0,class:"fw-bold"},Pt={key:1,class:"fw-bold"},Dt={key:2,class:"fw-bold"},Bt={key:3,class:"fw-bold"},Lt={key:4,class:"fw-bold"},Nt={key:0},Mt=t("tr",null,[t("th",{colspan:"3"},"Data Konfirmasi Pembayaran")],-1),Vt=t("td",null,"Nama Pengirim Transfer",-1),Ct=t("td",null,":",-1),Ft=t("td",null,"Di Transfer Ke Rekening",-1),Ht=t("td",null,":",-1),jt=t("td",null,"Tanggal Transfer",-1),At=t("td",null,":",-1),Ut=t("td",null,"Jumlah Transfer",-1),Et=t("td",null,":",-1),Ot=t("td",null,"Bukti Transfer",-1),Rt=t("td",null,":",-1),Gt=["src"],It=t("tr",null,[t("th",{colspan:"3"},"\xA0")],-1),Jt={key:1},Wt=t("td",null,"Ubah Status Transaksi",-1),qt=t("td",null,":",-1),zt=f('<option value="">[ Pilih Status Transaksi ]</option><option value="pending">Pending</option><option value="paid">Paid</option><option value="done">Done</option><option value="failed">Failed</option>',5),Qt=[zt],Xt=t("tr",null,[t("td",{colspan:"3"},[t("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")])],-1);function Yt(r,i,n,d,Zt,c){var u;const k=_("Head"),y=_("Link");return s(),e(b,null,[m(k,null,{default:h(()=>{var l;return[t("title",null,a((l=r.$page.props.setting.app_name)!=null?l:"Atur Setting Terlebih Dahulu")+" - Detail Transaksi",1)]}),_:1}),t("div",M,[t("div",V,[C,t("div",F,[t("div",H,[t("div",j,[t("div",A,[m(y,{href:"/admin/transactions",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:h(()=>[D("Kembali")]),_:1})])]),t("div",U,[t("form",{onSubmit:i[1]||(i[1]=S((...l)=>d.submit&&d.submit(...l),["prevent"]))},[t("table",E,[t("tbody",null,[O,t("tr",null,[R,G,t("td",null,a(n.transaction.user.name),1)]),t("tr",null,[I,J,t("td",null,a((u=n.transaction.user.email)!=null?u:"-"),1)]),t("tr",null,[W,q,t("td",null,a(n.transaction.user.student&&n.transaction.user.student.province?n.transaction.user.student.province.name:"-"),1)]),t("tr",null,[z,Q,t("td",null,a(n.transaction.user.student&&n.transaction.user.student.city?n.transaction.user.student.city.name:"-"),1)]),t("tr",null,[X,Y,t("td",null,a(n.transaction.user.student&&n.transaction.user.student.district?n.transaction.user.student.district.name:"-"),1)]),t("tr",null,[Z,$,t("td",null,a(n.transaction.user.student&&n.transaction.user.student.village?n.transaction.user.student.village.name:"-"),1)]),t("tr",null,[tt,nt,t("td",null,a(n.transaction.user.student&&n.transaction.user.student.phone_number?n.transaction.user.student.phone_number:"-"),1)])]),t("tbody",null,[at,t("tr",null,[st,et,t("td",null,a(n.transaction.code),1)]),t("tr",null,[ot,it,t("td",null,a(n.transaction.created_at),1)]),t("tr",null,[lt,rt,t("td",null,[t("span",dt,a(n.transaction.category.name),1)])]),t("tr",null,[ct,ut,t("td",null,a(n.transaction.description),1)]),t("tr",null,[_t,mt,t("td",null,[t("div",ht,[n.transaction.member_categories?(s(!0),e(b,{key:0},w(n.transaction.member_categories,l=>(s(),e("span",bt,a(l),1))),256)):(s(),e("span",ft,"Untuk Seluruh Kategori Member"))])])]),t("tr",null,[kt,yt,t("td",null,[n.transaction.payment_method=="account_balance"?(s(),e("span",gt,"Saldo Akun")):o("",!0),n.transaction.payment_method=="manual_transfer"?(s(),e("span",vt,"Transfer Manual (Konfirmasi Pembayaran)")):o("",!0),n.transaction.payment_method=="automatic_transfer_midtrans"?(s(),e("span",Tt,"Transfer Otomatis")):o("",!0)])]),t("tr",null,[pt,St,t("td",null,a(c.formatPrice(n.transaction.total_payment)),1)]),t("tr",null,[wt,xt,t("td",null,[n.transaction.transaction_status=="pending"?(s(),e("span",Kt,"Pending - Belum melakukan pembayaran")):o("",!0),n.transaction.transaction_status=="paid"?(s(),e("span",Pt,"Telah melakukan pembayaran")):o("",!0),n.transaction.transaction_status=="failed"?(s(),e("span",Dt,"Transaksi Gagal")):o("",!0),n.transaction.transaction_status=="done"?(s(),e("span",Bt,"Transaksi Selesai")):o("",!0),n.transaction.transaction_status=="expired"?(s(),e("span",Lt,"Transaksi Kadaluarsa")):o("",!0)])])]),n.transaction.payment_method=="manual_transfer"&&n.transaction.payment_confirmation?(s(),e("tbody",Nt,[Mt,t("tr",null,[Vt,Ct,t("td",null,a(n.transaction.payment_confirmation.rekening_name),1)]),t("tr",null,[Ft,Ht,t("td",null,a(n.transaction.payment_confirmation.bank.bank_name+" - "+n.transaction.payment_confirmation.bank.rekening_number+" - "+n.transaction.payment_confirmation.bank.rekening_name),1)]),t("tr",null,[jt,At,t("td",null,a(n.transaction.payment_confirmation.transfer_date),1)]),t("tr",null,[Ut,Et,t("td",null,a(c.formatPrice(n.transaction.payment_confirmation.total_payment)),1)]),t("tr",null,[Ot,Rt,t("img",{src:"/storage/upload_files/payment_confirmation/"+n.transaction.payment_confirmation.file,style:{width:"300px"}},null,8,Gt)]),It])):o("",!0),n.transaction.transaction_status=="pending"||n.transaction.transaction_status=="paid"?(s(),e("tbody",Jt,[t("tr",null,[Wt,qt,t("td",null,[x(t("select",{class:"form-control","onUpdate:modelValue":i[0]||(i[0]=l=>d.form.transaction_status=l)},Qt,512),[[K,d.form.transaction_status]])])]),Xt])):o("",!0)])],32)])])])])])],64)}const sn=L(N,[["render",Yt]]);export{sn as default};
